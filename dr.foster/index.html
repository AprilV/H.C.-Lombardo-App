<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>H.C. Lombardo NFL Analytics - Dr. Foster</title>
    
    <!-- Three.js for 3D Graphics -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/renderers/CSS2DRenderer.js"></script>
    
    <!-- Chart.js for Data Visualizations -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>
    
    <!-- Mermaid.js for Database Diagrams -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        html {
            scroll-behavior: auto; /* Prevent smooth scrolling on load */
        }

        :root {
            --primary: #1e3a8a;
            --secondary: #7c3aed;
            --accent: #06b6d4;
            --success: #10b981;
            --dark: #0f172a;
            --light: #f1f5f9;
        }

        body {
            font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #334155 100%);
            color: #e2e8f0;
            overflow-x: hidden;
            zoom: 0.9;
            font-size: 16px;
        }
        
        /* Firefox fallback for zoom */
        @-moz-document url-prefix() {
            body {
                transform: scale(0.9);
                transform-origin: 0 0;
                width: 111.11%;
            }
        }

        /* Header with Glassmorphism */
        header {
            background: rgba(30, 41, 59, 0.8);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(148, 163, 184, 0.1);
            padding: 1.5rem 2rem;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.3);
        }

        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        h1 {
            font-size: 2rem;
            font-weight: 700;
            background: linear-gradient(135deg, #3b82f6, #8b5cf6, #06b6d4);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-shadow: 0 0 30px rgba(59, 130, 246, 0.5);
        }

        .student-info {
            text-align: left;
            font-size: 0.9rem;
            color: #94a3b8;
        }

        .student-info strong {
            color: #e2e8f0;
        }
        
        .student-info a {
            transition: all 0.3s ease;
        }
        
        .student-info a:hover {
            color: #60a5fa !important;
            text-decoration: underline !important;
        }

        /* Navigation Tabs */
        .tabs {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            padding: 1rem 2rem;
            background: rgba(15, 23, 42, 0.5);
            backdrop-filter: blur(5px);
            border-bottom: 2px solid rgba(148, 163, 184, 0.1);
            justify-content: center;
        }

        .tab {
            padding: 0.875rem 1.75rem;
            background: rgba(51, 65, 85, 0.5);
            border: 1px solid rgba(148, 163, 184, 0.2);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            white-space: nowrap;
            font-weight: 500;
            font-size: 1.05rem;
            position: relative;
            overflow: hidden;
        }

        .tab::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(59, 130, 246, 0.3), transparent);
            transition: left 0.5s;
        }

        .tab:hover::before {
            left: 100%;
        }

        .tab:hover {
            background: rgba(59, 130, 246, 0.2);
            border-color: #3b82f6;
            transform: translateY(-2px);
            box-shadow: 0 4px 20px rgba(59, 130, 246, 0.3);
        }

        .tab.active {
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            border-color: #3b82f6;
            box-shadow: 0 4px 20px rgba(59, 130, 246, 0.5);
            transform: scale(1.05);
        }

        /* Content Area */
        .content {
            max-width: 1400px;
            margin: 2rem auto;
            padding: 0 2rem;
        }

        .tab-content {
            display: none;
            animation: fadeIn 0.5s ease-in-out;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Card Components */
        .card {
            background: rgba(30, 41, 59, 0.6);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(148, 163, 184, 0.2);
            border-radius: 15px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 50px rgba(59, 130, 246, 0.2);
        }

        .card h2 {
            color: #3b82f6;
            margin-bottom: 1rem;
            font-size: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .card h3 {
            color: #8b5cf6;
            margin-top: 1.5rem;
            margin-bottom: 0.75rem;
            font-size: 1.2rem;
        }

        /* 3D Canvas Container */
        #canvas-container {
            width: 100%;
            height: 800px;
            background: rgba(15, 23, 42, 0.5);
            border-radius: 15px;
            overflow: hidden;
            position: relative;
            margin-bottom: 2rem;
            border: 1px solid rgba(148, 163, 184, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        #architecture-canvas {
            display: block;
        }

        #canvas-overlay {
            position: absolute;
            top: 20px;
            left: 20px;
            background: rgba(15, 23, 42, 0.9);
            padding: 1rem;
            border-radius: 10px;
            border: 1px solid rgba(59, 130, 246, 0.3);
            z-index: 10;
        }

        #canvas-overlay h3 {
            color: #3b82f6;
            margin: 0 0 0.5rem 0;
            font-size: 1rem;
        }

        #canvas-overlay p {
            color: #94a3b8;
            font-size: 0.85rem;
            margin: 0.25rem 0;
        }

        /* 3D Labels - Professional compact style */
        .label-3d {
            color: #ffffff;
            font-size: 11px;
            font-weight: 600;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica', 'Arial', sans-serif;
            background: linear-gradient(135deg, rgba(30, 30, 50, 0.95), rgba(20, 20, 40, 0.98));
            padding: 6px 10px;
            border-radius: 6px;
            border: 1px solid;
            white-space: nowrap;
            text-align: left;
            pointer-events: none;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.6);
            line-height: 1.3;
            min-width: 85px;
            backdrop-filter: blur(4px);
        }

        .label-3d small {
            font-size: 9px;
            font-weight: 500;
            opacity: 0.85;
            display: block;
            margin-top: 2px;
        }

        /* Professional color-coded labels */
        .label-frontend { 
            border-color: #60a5fa;
            background: linear-gradient(135deg, rgba(37, 99, 235, 0.92), rgba(29, 78, 216, 0.95));
            box-shadow: 0 2px 8px rgba(59, 130, 246, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }

        .label-backend { 
            border-color: #8b5cf6;
            background: linear-gradient(135deg, rgba(124, 58, 237, 0.92), rgba(109, 40, 217, 0.95));
            box-shadow: 0 2px 8px rgba(139, 92, 246, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }

        .label-database { 
            border-color: #10b981;
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.92), rgba(5, 150, 105, 0.95));
            box-shadow: 0 2px 8px rgba(16, 185, 129, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }

        .label-api { 
            border-color: #06b6d4;
            background: linear-gradient(135deg, rgba(6, 182, 212, 0.92), rgba(8, 145, 178, 0.95));
            box-shadow: 0 2px 8px rgba(6, 182, 212, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }

        /* Hover Tooltip */
        #hover-tooltip {
            position: fixed;
            background: rgba(15, 23, 42, 0.98);
            border: 2px solid #3b82f6;
            border-radius: 12px;
            padding: 16px 20px;
            color: white;
            font-size: 13px;
            line-height: 1.6;
            pointer-events: none;
            display: none;
            z-index: 1000;
            max-width: 350px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.9),
                        0 0 20px rgba(59, 130, 246, 0.5);
            transform: translate(10px, 10px);
        }

        #hover-tooltip h3 {
            margin: 0 0 10px 0;
            font-size: 16px;
            font-weight: 700;
            color: #60a5fa;
        }

        #hover-tooltip .detail-row {
            margin: 6px 0;
            display: flex;
            gap: 8px;
        }

        #hover-tooltip .detail-label {
            font-weight: 600;
            color: #94a3b8;
            min-width: 80px;
        }

        #hover-tooltip .detail-value {
            color: #e2e8f0;
        }

        #hover-tooltip .tech-badge {
            display: inline-block;
            background: rgba(59, 130, 246, 0.2);
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 11px;
            margin: 2px;
            border: 1px solid #3b82f6;
        }

        /* Grid Layout for Stats */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .stat-card {
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(139, 92, 246, 0.1));
            border: 1px solid rgba(59, 130, 246, 0.3);
            border-radius: 10px;
            padding: 1.5rem;
            text-align: center;
            transition: all 0.3s;
        }

        .stat-card:hover {
            transform: scale(1.05);
            border-color: #3b82f6;
            box-shadow: 0 0 30px rgba(59, 130, 246, 0.3);
        }

        .stat-value {
            font-size: 2.5rem;
            font-weight: 700;
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .stat-label {
            color: #94a3b8;
            margin-top: 0.5rem;
            font-size: 0.9rem;
        }

        /* Code Blocks */
        pre {
            background: rgba(15, 23, 42, 0.8);
            border: 1px solid rgba(59, 130, 246, 0.3);
            border-radius: 10px;
            padding: 1.5rem;
            overflow-x: auto;
            margin: 1rem 0;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.9rem;
            line-height: 1.6;
        }

        code {
            color: #06b6d4;
        }

        /* Badges */
        .badge {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            margin: 0.25rem;
        }

        .badge-primary { background: rgba(59, 130, 246, 0.2); color: #60a5fa; border: 1px solid #3b82f6; }
        .badge-success { background: rgba(16, 185, 129, 0.2); color: #34d399; border: 1px solid #10b981; }
        .badge-purple { background: rgba(139, 92, 246, 0.2); color: #a78bfa; border: 1px solid #8b5cf6; }
        .badge-cyan { background: rgba(6, 182, 212, 0.2); color: #22d3ee; border: 1px solid #06b6d4; }

        /* Interactive Elements */
        .interactive-hint {
            background: rgba(59, 130, 246, 0.1);
            border-left: 4px solid #3b82f6;
            padding: 1rem;
            border-radius: 5px;
            margin: 1rem 0;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { box-shadow: 0 0 0 0 rgba(59, 130, 246, 0.4); }
            50% { box-shadow: 0 0 20px 10px rgba(59, 130, 246, 0); }
        }

        /* Links */
        a {
            color: #60a5fa;
            text-decoration: none;
            transition: color 0.3s;
        }

        a:hover {
            color: #3b82f6;
            text-decoration: underline;
        }

        /* Lists */
        ul, ol {
            margin: 1rem 0;
            padding-left: 2rem;
        }

        li {
            margin: 0.5rem 0;
            line-height: 1.6;
        }

        /* Chart Container */
        .chart-container {
            position: relative;
            height: 400px;
            margin: 2rem 0;
            background: rgba(15, 23, 42, 0.5);
            border-radius: 10px;
            padding: 1rem;
        }

        /* Responsive */
        @media (max-width: 1200px) {
            body {
                zoom: 0.85;
            }
            
            .content {
                max-width: 100%;
                padding: 0 1.5rem;
            }
            
            .tabs {
                gap: 0.3rem;
                padding: 0.75rem 1.5rem;
            }
            
            .tab {
                padding: 0.7rem 1.1rem;
                font-size: 0.95rem;
            }
        }
        
        @media (max-width: 968px) {
            body {
                zoom: 0.8;
            }
            
            .stats-grid {
                grid-template-columns: repeat(2, 1fr) !important;
            }
            
            .tabs {
                padding: 0.6rem 1rem;
                gap: 0.25rem;
            }
            
            .tab {
                padding: 0.6rem 0.85rem;
                font-size: 0.88rem;
            }
        }
        
        @media (max-width: 768px) {
            body {
                zoom: 0.75;
            }
            
            .header-content {
                flex-direction: column;
                gap: 1rem;
            }

            h1 {
                font-size: 1.5rem;
            }

            .tabs {
                padding: 0.5rem 0.75rem;
                gap: 0.25rem;
                justify-content: flex-start;
            }
            
            .tab {
                padding: 0.55rem 0.75rem;
                font-size: 0.82rem;
                min-width: auto;
            }

            .content {
                padding: 0 1rem;
                margin: 1rem auto;
            }
            
            .card {
                padding: 1.5rem;
            }

            #canvas-container, #architecture-canvas, #neural-net-canvas {
                height: 400px !important;
            }
            
            .stats-grid {
                grid-template-columns: 1fr !important;
                gap: 1rem;
            }
            
            .stat-card {
                padding: 1rem !important;
            }
        }
        
        @media (max-width: 480px) {
            body {
                zoom: 0.65;
            }
            
            h1 {
                font-size: 1.25rem;
            }
            
            .tabs {
                padding: 0.4rem 0.5rem;
                gap: 0.2rem;
            }
            
            .tab {
                padding: 0.5rem 0.6rem;
                font-size: 0.75rem;
                border-radius: 6px;
            }
            
            .content {
                padding: 0 0.75rem;
            }
            
            .card {
                padding: 1rem;
                margin-bottom: 1rem;
            }
            
            #canvas-container, #architecture-canvas, #neural-net-canvas {
                height: 300px !important;
            }
        }

        /* Loading Animation */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(59, 130, 246, 0.3);
            border-radius: 50%;
            border-top-color: #3b82f6;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="header-content">
            <div>
                <h1>üèà H.C. Lombardo NFL Analytics</h1>
                <p style="color: #64748b; margin-top: 0.5rem;">Interactive 3D Assignment Dashboard</p>
            </div>
            <div class="student-info">
                <div><strong>Student:</strong> <a href="https://www.aprilsykes.com" target="_blank" style="color: #3b82f6; text-decoration: none; transition: color 0.3s;">April V. Sykes</a></div>
                <div><strong>Portfolio:</strong> <a href="https://www.aprilsykes.com" target="_blank" style="color: #06b6d4; text-decoration: underline;">aprilsykes.com</a></div>
                <div><strong>Course:</strong> IS330</div>
                <div><strong>Date:</strong> <span id="currentDate">November 11, 2025</span></div>
                <div><strong>Time:</strong> <span id="currentTime">--:--:-- --</span></div>
            </div>
        </div>
    </header>

    <!-- Navigation Tabs -->
    <div class="tabs">
        <div class="tab" onclick="showTab('overview', event)">üìä Overview</div>
        <div class="tab" onclick="showTab('architecture', event)">üèóÔ∏è 3D Architecture</div>
        <div class="tab" onclick="showTab('ml-neural-net', event)">üß† ML Neural Network</div>
        <div class="tab" onclick="showTab('week1-2', event)">üìù Weeks 1-2</div>
        <div class="tab" onclick="showTab('week3-4', event)">üöÄ Weeks 3-4</div>
        <div class="tab" onclick="showTab('week5-6', event)">üì± Weeks 5-6</div>
        <div class="tab" onclick="showTab('week7-8', event)">üß† Weeks 7-8</div>
        <div class="tab" onclick="showTab('database', event)">üíæ Database</div>
        <div class="tab" onclick="showTab('analytics', event)">üìà Analytics</div>
        <div class="tab" onclick="showTab('mermaid', event)">üìä DB Diagrams</div>
        <div class="tab" onclick="showTab('milestones', event)">üéØ Milestones</div>
        <div class="tab" onclick="showTab('github', event)">üîó GitHub</div>
    </div>

    <!-- Content Area -->
    <div class="content">
        <!-- Overview Tab -->
        <div id="overview" class="tab-content">
            <div class="card">
                <h2>üéØ Welcome, Dr. Foster</h2>
                <p style="font-size: 1.1rem; line-height: 1.8; color: #cbd5e1;">
                    This interactive 3D dashboard showcases the complete evolution of the H.C. Lombardo NFL Analytics application‚Äîfrom initial machine learning concepts to a <strong>production-ready Progressive Web App (PWA)</strong> with complete offline capability and professional deployment architecture.
                </p>
                
                <div class="interactive-hint">
                    <strong>üí° Interactive Features:</strong> Click the <strong>"3D Architecture"</strong> tab to explore a fully interactive, mouse-controlled 3D visualization of the system topology. All diagrams rotate and respond to your mouse!
                </div>
            </div>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-value" id="current-week">Week 8</div>
                    <div class="stat-label">Current Week (Nov 2-11, 2025)</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="total-teams">Sprint 10</div>
                    <div class="stat-label">ML + Historical Data Complete</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="db-status">üü¢ 3D Neural Net</div>
                    <div class="stat-label">Interactive Visualization</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="api-status">üü¢ Production</div>
                    <div class="stat-label">Full-Stack Deployed</div>
                </div>
            </div>

            <div class="card" style="background: rgba(15, 23, 42, 0.6); padding: 1rem; margin-bottom: 1.5rem;">
                <p style="margin: 0; display: flex; align-items: center; gap: 0.75rem; justify-content: space-between;">
                    <span style="color: #94a3b8;">
                        <strong>Last Updated:</strong> <span id="last-update">Loading...</span>
                    </span>
                    <span style="font-size: 0.85rem; color: #64748b;">
                        ‚ö° Auto-refreshes every 30 seconds
                    </span>
                </p>
            </div>

            <div class="card">
                <h2>üõ†Ô∏è Technology Stack</h2>
                <div style="display: flex; flex-wrap: wrap; gap: 0.5rem; margin-top: 1rem;">
                    <span class="badge badge-primary">Python 3.11</span>
                    <span class="badge badge-success">PostgreSQL 15+</span>
                    <span class="badge badge-purple">React 18 + Router 7.9</span>
                    <span class="badge badge-cyan">Flask + CORS</span>
                    <span class="badge badge-primary">TensorFlow 2.18.0</span>
                    <span class="badge badge-success">Keras Neural Networks</span>
                    <span class="badge badge-purple">Three.js r128</span>
                    <span class="badge badge-cyan">Chart.js 4.4.0</span>
                    <span class="badge badge-primary">nflverse API</span>
                    <span class="badge badge-success">3NF Database Design</span>
                    <span class="badge badge-purple">REST API (6 endpoints)</span>
                    <span class="badge badge-cyan">HCL Historical Schema</span>
                    <span class="badge badge-primary">Progressive Web App (PWA)</span>
                    <span class="badge badge-success">Responsive CSS Grid</span>
                </div>
            </div>

            <div class="card" style="background: linear-gradient(135deg, rgba(59, 130, 246, 0.1) 0%, rgba(139, 92, 246, 0.1) 100%); border: 2px solid rgba(59, 130, 246, 0.3);">
                <h2>ÔøΩ Featured: Progressive Web App (PWA) - October 14, 2025</h2>
                <p style="font-size: 1.05rem; color: #cbd5e1; line-height: 1.7;">
                    The application has been fully converted to a <strong>Progressive Web App</strong> with complete offline capability, dual startup modes (dev + production), and all 34 logos (1.69 MB) stored locally. Features <strong>AFC/NFC conference theming</strong> with proper NFL standings sorting.
                </p>

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin: 1.5rem 0;">
                    <div style="background: rgba(220, 38, 38, 0.15); padding: 1.25rem; border-radius: 8px; border-left: 4px solid #dc2626;">
                        <h3 style="color: #dc2626; font-size: 1.1rem; margin-top: 0;">ÔøΩ Development Mode</h3>
                        <p style="font-size: 0.95rem;">START-DEV.bat | Port 3000 + 5000</p>
                        <p style="font-size: 0.85rem; color: #94a3b8; margin: 0.5rem 0;">Hot reload for instant changes</p>
                    </div>
                    <div style="background: rgba(16, 185, 129, 0.15); padding: 1.25rem; border-radius: 8px; border-left: 4px solid #10b981;">
                        <h3 style="color: #10b981; font-size: 1.1rem; margin-top: 0;">‚úÖ Production Mode</h3>
                        <p style="font-size: 0.95rem;">START.bat | Port 5000 only</p>
                        <p style="font-size: 0.85rem; color: #94a3b8; margin: 0.5rem 0;">Optimized 62KB bundle, single server</p>
                    </div>
                </div>

                <div style="background: rgba(15, 23, 42, 0.8); padding: 1.25rem; border-radius: 8px; margin-top: 1rem;">
                    <p style="margin: 0; display: flex; align-items: center; gap: 0.75rem;">
                        <span style="font-size: 1.5rem;">üí°</span>
                        <span style="color: #e2e8f0;"><strong>Current Status:</strong> Full-stack application deployed in production with ML predictions and 3D visualizations!</span>
                    </p>
                </div>

                <p style="margin-top: 1rem; text-align: center; color: #94a3b8; font-size: 0.9rem;">
                    <a href="#" onclick="showTab('architecture'); return false;" style="color: #3b82f6; text-decoration: underline;">View complete technical details in Architecture tab ‚Üí</a>
                </p>
            </div>

            <div class="card">
                <h2>üìö Quick Navigation</h2>
                <ul style="line-height: 2;">
                    <li><a href="#" onclick="showTab('week1-2'); return false;">Weeks 1-2: Machine Learning Model & SQLite Database</a></li>
                    <li><a href="#" onclick="showTab('week3-4'); return false;">Weeks 3-4: React Frontend, PostgreSQL Migration & Live Data</a></li>
                    <li><a href="#" onclick="showTab('week5-6'); return false;">Weeks 5-6: Historical Data System (Sprints 5, 6, 7, 8)</a></li>
                    <li><a href="#" onclick="showTab('week7-8'); return false;">Weeks 7-8: ML Neural Network & 3D Visualization (Sprints 9, 10)</a></li>
                    <li><a href="#" onclick="showTab('ml-neural-net'); return false;">ML Neural Network: Interactive 3D Architecture</a></li>
                    <li><a href="#" onclick="showTab('architecture'); return false;">3D System Architecture Visualization</a></li>
                    <li><a href="#" onclick="showTab('database'); return false;">Database Schema & Migration Journey</a></li>
                    <li><a href="#" onclick="showTab('analytics'); return false;">Data Analytics & Visualizations</a></li>
                    <li><a href="#" onclick="showTab('milestones'); return false;">Project Milestones & Timeline</a></li>
                    <li><a href="#" onclick="showTab('github'); return false;">GitHub Repository & Documentation</a></li>
                </ul>
            </div>
        </div>

        <!-- 3D Architecture Tab -->
        <div id="architecture" class="tab-content">
            <div class="card">
                <h2>üèóÔ∏è Interactive 3D System Architecture</h2>
                <p style="margin-bottom: 1rem; color: #cbd5e1;">
                    <strong>Use your mouse to interact:</strong> Drag to rotate, scroll to zoom, right-click to pan. This 3D visualization shows the complete three-tier architecture with data flow paths.
                </p>
            </div>

            <div id="canvas-container">
                <canvas id="architecture-canvas"></canvas>
                <div id="canvas-overlay">
                    <h3>üñ±Ô∏è Controls</h3>
                    <p><strong>Left Click + Drag:</strong> Rotate</p>
                    <p><strong>Scroll:</strong> Zoom In/Out</p>
                    <p><strong>Right Click + Drag:</strong> Pan</p>
                    <p><strong>Hover:</strong> View Details</p>
                </div>
                <div id="hover-tooltip"></div>
            </div>

            <div class="card">
                <h2>üîÑ Data Flow Architecture</h2>
                <h3>Tier 1: Presentation Layer (React Frontend)</h3>
                <ul>
                    <li><strong>Port:</strong> 3000 (Development)</li>
                    <li><strong>Technology:</strong> React 18 with functional components and hooks</li>
                    <li><strong>Features:</strong> Real-time data display, responsive design, interactive tables</li>
                    <li><strong>Communication:</strong> RESTful API calls to backend via fetch()</li>
                </ul>

                <h3>Tier 2: Application Layer (Flask API Server)</h3>
                <ul>
                    <li><strong>Port:</strong> 5000 (DHCP-managed)</li>
                    <li><strong>Technology:</strong> Python Flask with CORS support</li>
                    <li><strong>Endpoints:</strong> /api/teams, /api/standings, /api/scoreboard, /api/matchups, /health</li>
                    <li><strong>Features:</strong> JSON responses, comprehensive logging, error handling</li>
                    <li><strong>ML Integration:</strong> TensorFlow 2.18.0 neural network for game predictions</li>
                </ul>

                <h3>Tier 3: Data Layer (PostgreSQL + nflverse + ML)</h3>
                <ul>
                    <li><strong>Port:</strong> 5432 (PostgreSQL)</li>
                    <li><strong>Technology:</strong> PostgreSQL 18 with pgAdmin 4</li>
                    <li><strong>Current Schema (public):</strong> teams, stats_metadata, update_metadata - 32 teams</li>
                    <li><strong>Historical Schema (hcl):</strong> 5 tables - games, team_game_stats, betting_lines, injuries, weather</li>
                    <li><strong>Historical Data:</strong> 14,312 games (1999-2025), 1,126 recent games with full stats (2022-2025)</li>
                    <li><strong>Materialized View:</strong> v_game_matchup_display - 47+ metrics per game</li>
                    <li><strong>External:</strong> nflverse integration for historical NFL data (Sprints 5-8)</li>
                    <li><strong>ML Model:</strong> Trained neural network (41 inputs ‚Üí 128 ‚Üí 64 ‚Üí 32 ‚Üí 1 output) - 65.55% accuracy</li>
                    <li><strong>Features:</strong> Scheduled updates, data validation, relationship integrity</li>
                </ul>

                <h2 style="margin-top: 2rem;">üîÑ Hybrid Live/Static Data System</h2>
                <p style="color: #cbd5e1; margin-bottom: 1rem;">
                    The dashboard features an intelligent hybrid data system that automatically switches between live and static modes based on API availability.
                </p>

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin: 1.5rem 0;">
                    <div style="background: linear-gradient(135deg, rgba(16, 185, 129, 0.1) 0%, rgba(16, 185, 129, 0.05) 100%); padding: 1.5rem; border-radius: 10px; border: 2px solid rgba(16, 185, 129, 0.3);">
                        <h3 style="color: #10b981; margin-top: 0;">üü¢ Live Mode</h3>
                        <p><strong>When Active:</strong> Flask API server running on port 5000</p>
                        <p><strong>Data Source:</strong> Real-time queries to PostgreSQL database</p>
                        <p><strong>Updates:</strong> Automatic refresh every 5 minutes</p>
                        <p><strong>Indicator:</strong> Green "üü¢ Live Data" badge (bottom-right)</p>
                        <p style="margin-top: 1rem; padding: 0.75rem; background: rgba(16, 185, 129, 0.1); border-radius: 5px; border-left: 4px solid #10b981;">
                            <strong>Benefits:</strong> Shows current database state, real team counts, live predictions, and up-to-date analytics.
                        </p>
                    </div>

                    <div style="background: linear-gradient(135deg, rgba(59, 130, 246, 0.1) 0%, rgba(59, 130, 246, 0.05) 100%); padding: 1.5rem; border-radius: 10px; border: 2px solid rgba(59, 130, 246, 0.3);">
                        <h3 style="color: #3b82f6; margin-top: 0;">üìä Static Mode</h3>
                        <p><strong>When Active:</strong> API server offline or unreachable</p>
                        <p><strong>Data Source:</strong> Cached/hardcoded demonstration values</p>
                        <p><strong>Updates:</strong> Manual refresh only</p>
                        <p><strong>Indicator:</strong> Blue "üìä Static Data" badge (bottom-right)</p>
                        <p style="margin-top: 1rem; padding: 0.75rem; background: rgba(59, 130, 246, 0.1); border-radius: 5px; border-left: 4px solid #3b82f6;">
                            <strong>Benefits:</strong> Always accessible, perfect for demos, no dependencies, guaranteed uptime.
                        </p>
                    </div>
                </div>

                <h3>üì° Data Flow Diagram</h3>
                <div style="background: rgba(15, 23, 42, 0.6); padding: 2rem; border-radius: 10px; margin: 1rem 0; font-family: monospace; font-size: 0.9rem; line-height: 2;">
                    <div style="text-align: center;">
                        <div style="color: #60a5fa;">‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê</div>
                        <div style="color: #60a5fa;">‚îÇ   <strong style="color: #fff;">Dashboard (index.html)</strong>        ‚îÇ</div>
                        <div style="color: #60a5fa;">‚îÇ   Hybrid Data System Active       ‚îÇ</div>
                        <div style="color: #60a5fa;">‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò</div>
                        <div style="color: #94a3b8;">            ‚¨áÔ∏è Try Connection</div>
                        <div style="color: #94a3b8;">         (3-second timeout)</div>
                        <div style="color: #94a3b8;">                 ‚¨áÔ∏è</div>
                        
                        <div style="display: inline-block; margin: 1rem 3rem; text-align: left;">
                            <div style="color: #10b981;">‚úÖ <strong style="color: #fff;">SUCCESS PATH (Live Mode)</strong></div>
                            <div style="color: #10b981;">‚îî‚îÄ‚ñ∂ Flask API (Port 5000)</div>
                            <div style="color: #10b981;">    ‚îî‚îÄ‚ñ∂ PostgreSQL Database</div>
                            <div style="color: #10b981;">        ‚îî‚îÄ‚ñ∂ Return Live Data</div>
                            <div style="color: #10b981;">            ‚îî‚îÄ‚ñ∂ Update Dashboard</div>
                            <div style="color: #10b981;">                ‚îî‚îÄ‚ñ∂ Set Auto-Refresh (5 min)</div>
                        </div>
                        
                        <div style="display: inline-block; margin: 1rem 3rem; text-align: left;">
                            <div style="color: #3b82f6;">‚ö†Ô∏è <strong style="color: #fff;">TIMEOUT PATH (Static Mode)</strong></div>
                            <div style="color: #3b82f6;">‚îî‚îÄ‚ñ∂ API Timeout (3 seconds)</div>
                            <div style="color: #3b82f6;">    ‚îî‚îÄ‚ñ∂ Use Static Fallback Data</div>
                            <div style="color: #3b82f6;">        ‚îî‚îÄ‚ñ∂ Update Dashboard</div>
                            <div style="color: #3b82f6;">            ‚îî‚îÄ‚ñ∂ No Auto-Refresh</div>
                            <div style="color: #3b82f6;">                ‚îî‚îÄ‚ñ∂ Manual Refresh Only</div>
                        </div>
                    </div>
                </div>

                <h3>üîß Technical Implementation</h3>
                <div style="background: rgba(15, 23, 42, 0.6); padding: 1.5rem; border-radius: 10px;">
                    <p><strong>Frontend (JavaScript):</strong></p>
                    <ul>
                        <li><code>fetchLiveData()</code> - Attempts API connection with AbortController timeout</li>
                        <li><code>updateDashboardStats()</code> - Updates UI with live or static data</li>
                        <li><code>updateDataModeIndicator()</code> - Shows visual status badge</li>
                        <li><code>initializeDashboard()</code> - Runs on page load, sets up auto-refresh</li>
                    </ul>
                    
                    <p style="margin-top: 1rem;"><strong>Backend (Flask API):</strong></p>
                    <ul>
                        <li><code>/api/teams</code> - Returns all team data from public.teams</li>
                        <li><code>/api/teams/count</code> - Returns team count from PostgreSQL</li>
                        <li><code>/api/matchups</code> - Game matchup data from hcl.v_game_matchup_display</li>
                        <li><code>/health</code> - Health check endpoint</li>
                        <li>CORS enabled for file:// protocol and localhost</li>
                        <li>Comprehensive error handling and logging</li>
                    </ul>

                    <p style="margin-top: 1rem;"><strong>Database Architecture (PostgreSQL):</strong></p>
                    <ul>
                        <li><strong>public schema:</strong> Current season data (teams, stats_metadata, update_metadata)</li>
                        <li><strong>hcl schema:</strong> Historical games (5 tables: games, team_game_stats, betting_lines, injuries, weather)</li>
                        <li><strong>Views:</strong> v_game_matchup_display (materialized) - 47+ metrics per game</li>
                        <li><strong>Data Volume:</strong> 14,312 historical games (1999-2025), 1,126 games with full stats (2022-2025)</li>
                    </ul>

                    <p style="margin-top: 1rem;"><strong>Machine Learning (TensorFlow/Keras):</strong></p>
                    <ul>
                        <li><strong>Model:</strong> Deep Neural Network (41 inputs ‚Üí 128 ‚Üí 64 ‚Üí 32 ‚Üí 1 output)</li>
                        <li><strong>Training Data:</strong> 14,312 games from 1999-2025 (27 seasons)</li>
                        <li><strong>Features:</strong> 41 rolling averages (PPG, yards, turnovers, etc.) - no data leakage</li>
                        <li><strong>Accuracy:</strong> 65.55% test accuracy (beats Vegas lines at 52-55%)</li>
                        <li><strong>Framework:</strong> TensorFlow 2.18.0 with Keras API</li>
                        <li><strong>Deployment:</strong> Production model saved as .keras file, integrated with Flask API</li>
                    </ul>

                    <p style="margin-top: 1rem;"><strong>Graceful Degradation:</strong></p>
                    <ul>
                        <li>3-second timeout prevents hanging</li>
                        <li>Automatic fallback to static data on error</li>
                        <li>User never sees error messages</li>
                        <li>Dashboard always remains functional</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- ML Neural Network Tab -->
        <div id="ml-neural-net" class="tab-content">
            <div class="card">
                <h2>üß† Sprint 9: Machine Learning Neural Network (Week 8)</h2>
                <p><strong>Date:</strong> November 6-11, 2025 | <strong>Sprint:</strong> 9 | <strong>Status:</strong> ‚úÖ Complete</p>
                <p style="font-size: 1.1rem; line-height: 1.8; color: #cbd5e1;">
                    <strong>Achievement:</strong> Built a production-ready deep neural network for NFL game prediction with 65.55% test accuracy, 
                    outperforming Vegas betting lines (52-55%). Complete end-to-end ML pipeline from training to deployment.
                </p>
            </div>

            <!-- 3D Neural Network Visualization -->
            <div class="card">
                <h3>üéØ Interactive 3D Neural Network Architecture</h3>
                <p style="color: #94a3b8; margin-bottom: 1rem;">
                    <strong>Click and drag</strong> to rotate | <strong>Scroll</strong> to zoom | <strong>Hover</strong> over neurons to see connections
                </p>
                <div id="neural-net-canvas" style="width: 100%; height: 600px; background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%); border-radius: 15px; position: relative;"></div>
                <div style="margin-top: 1rem; padding: 1rem; background: rgba(59, 130, 246, 0.1); border-left: 4px solid #3b82f6; border-radius: 8px;">
                    <p style="margin: 0; color: #cbd5e1;"><strong>üìä Total Parameters:</strong> 20,097 learnable weights and biases</p>
                    <p style="margin: 0.5rem 0 0 0; color: #cbd5e1;"><strong>üîÑ Architecture:</strong> 41 inputs ‚Üí 128 neurons ‚Üí 64 neurons ‚Üí 32 neurons ‚Üí 1 output</p>
                </div>
            </div>

            <!-- Problem Statement -->
            <div class="card">
                <h3>üéØ Problem Statement</h3>
                <div style="background: rgba(124, 58, 237, 0.1); padding: 1.5rem; border-radius: 10px; border-left: 4px solid #7c3aed;">
                    <p style="font-size: 1.1rem; margin: 0; color: #cbd5e1;">
                        <strong>Challenge:</strong> Predict the winner of NFL games using only data available <em>before</em> the game starts, 
                        achieving higher accuracy than traditional betting line predictions while avoiding data leakage.
                    </p>
                </div>
                
                <div style="margin-top: 2rem;">
                    <h4 style="color: #3b82f6; margin-bottom: 1rem;">üìã Requirements</h4>
                    <ul style="line-height: 2; color: #cbd5e1;">
                        <li><strong>No Data Leakage:</strong> Cannot use game results or future statistics</li>
                        <li><strong>Rolling Features:</strong> Only use stats from games played <em>before</em> the target game</li>
                        <li><strong>Time-Based Validation:</strong> Train on 1999-2023, validate on 2024, test on 2025</li>
                        <li><strong>Realistic Performance:</strong> Target 60-65% accuracy (not 100% which would indicate leakage)</li>
                        <li><strong>Production Ready:</strong> Weekly predictions for entire 2025 season</li>
                    </ul>
                </div>
            </div>

            <!-- Data Engineering -->
            <div class="card">
                <h3>üìä Data Engineering & Feature Creation</h3>
                
                <div class="stats-grid" style="grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); margin-bottom: 2rem;">
                    <div class="stat-card" style="background: linear-gradient(135deg, #10b981 0%, #059669 100%);">
                        <div style="font-size: 2.5rem; color: white; font-weight: bold;">14,312</div>
                        <div style="color: rgba(255,255,255,0.9); margin-top: 0.5rem;">Total Games</div>
                        <div style="color: rgba(255,255,255,0.7); font-size: 0.9rem;">1999-2025 (27 seasons)</div>
                    </div>
                    <div class="stat-card" style="background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);">
                        <div style="font-size: 2.5rem; color: white; font-weight: bold;">41</div>
                        <div style="color: rgba(255,255,255,0.9); margin-top: 0.5rem;">Input Features</div>
                        <div style="color: rgba(255,255,255,0.7); font-size: 0.9rem;">Per game prediction</div>
                    </div>
                    <div class="stat-card" style="background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);">
                        <div style="font-size: 2.5rem; color: white; font-weight: bold;">6.4x</div>
                        <div style="color: rgba(255,255,255,0.9); margin-top: 0.5rem;">More Data</div>
                        <div style="color: rgba(255,255,255,0.7); font-size: 0.9rem;">Than original model</div>
                    </div>
                    <div class="stat-card" style="background: linear-gradient(135deg, #ec4899 0%, #db2777 100%);">
                        <div style="font-size: 2.5rem; color: white; font-weight: bold;">65.55%</div>
                        <div style="color: rgba(255,255,255,0.9); margin-top: 0.5rem;">Test Accuracy</div>
                        <div style="color: rgba(255,255,255,0.7); font-size: 0.9rem;">2025 season games</div>
                    </div>
                </div>

                <h4 style="color: #3b82f6; margin-top: 2rem; margin-bottom: 1rem;">üîß Feature Engineering (41 Features)</h4>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem;">
                    <div style="background: rgba(59, 130, 246, 0.1); padding: 1.5rem; border-radius: 10px; border-left: 4px solid #3b82f6;">
                        <h5 style="color: #3b82f6; margin-top: 0;">Season Statistics (8 features)</h5>
                        <ul style="color: #cbd5e1; line-height: 1.8; margin: 0.5rem 0 0 1.5rem;">
                            <li>Points Per Game (PPG)</li>
                            <li>EPA per Play</li>
                            <li>Success Rate</li>
                            <li>Yards Per Play</li>
                            <li>Completion Percentage</li>
                            <li>Total Yards</li>
                            <li>Turnovers</li>
                            <li>Third Down %</li>
                        </ul>
                    </div>

                    <div style="background: rgba(139, 92, 246, 0.1); padding: 1.5rem; border-radius: 10px; border-left: 4px solid #8b5cf6;">
                        <h5 style="color: #8b5cf6; margin-top: 0;">Recent Form (8 features)</h5>
                        <ul style="color: #cbd5e1; line-height: 1.8; margin: 0.5rem 0 0 1.5rem;">
                            <li>Last 3 Games (L3) EPA</li>
                            <li>L3 Success Rate</li>
                            <li>L3 PPG</li>
                            <li>L3 Yards/Play</li>
                            <li>Last 5 Games (L5) EPA</li>
                            <li>L5 Success Rate</li>
                            <li>L5 PPG</li>
                            <li>L5 Yards/Play</li>
                        </ul>
                    </div>

                    <div style="background: rgba(16, 185, 129, 0.1); padding: 1.5rem; border-radius: 10px; border-left: 4px solid #10b981;">
                        <h5 style="color: #10b981; margin-top: 0;">Matchup Differentials (16 features)</h5>
                        <ul style="color: #cbd5e1; line-height: 1.8; margin: 0.5rem 0 0 1.5rem;">
                            <li>Home vs Away EPA difference</li>
                            <li>Home vs Away PPG difference</li>
                            <li>Home vs Away Success Rate diff</li>
                            <li>Home vs Away Yards/Play diff</li>
                            <li>L3 EPA differential</li>
                            <li>L5 EPA differential</li>
                            <li>Recent form momentum</li>
                            <li>+ 9 more statistical edges</li>
                        </ul>
                    </div>

                    <div style="background: rgba(236, 72, 153, 0.1); padding: 1.5rem; border-radius: 10px; border-left: 4px solid #ec4899;">
                        <h5 style="color: #ec4899; margin-top: 0;">Vegas Lines (9 features)</h5>
                        <ul style="color: #cbd5e1; line-height: 1.8; margin: 0.5rem 0 0 1.5rem;">
                            <li>Spread Line (point spread)</li>
                            <li>Total Line (over/under)</li>
                            <li>Home Moneyline</li>
                            <li>Away Moneyline</li>
                            <li>Implied Win Probability</li>
                            <li>Line Movement</li>
                            <li>Public Betting %</li>
                            <li>Sharp Money Indicators</li>
                            <li>Historical Line Performance</li>
                        </ul>
                    </div>
                </div>

                <div style="margin-top: 2rem; padding: 1.5rem; background: rgba(234, 179, 8, 0.1); border-radius: 10px; border-left: 4px solid #eab308;">
                    <p style="margin: 0; color: #cbd5e1;"><strong>‚ö†Ô∏è Critical:</strong> All features computed using <strong>rolling windows</strong> - 
                    only data from games played <em>before</em> the prediction date are used. This prevents data leakage and ensures realistic performance.</p>
                </div>
            </div>

            <!-- Model Architecture -->
            <div class="card">
                <h3>üèóÔ∏è Neural Network Architecture</h3>
                
                <div style="background: rgba(30, 41, 59, 0.5); padding: 2rem; border-radius: 15px; margin-bottom: 2rem;">
                    <pre style="color: #cbd5e1; font-family: 'Courier New', monospace; font-size: 0.9rem; line-height: 1.6; overflow-x: auto; margin: 0;">
<span style="color: #10b981;">INPUT LAYER</span> (41 features)
‚îú‚îÄ Team Season Stats (8)
‚îú‚îÄ Recent Form L3/L5 (8)
‚îú‚îÄ Matchup Differentials (16)
‚îî‚îÄ Vegas Lines (9)
         ‚îÇ
         ‚îÇ 41 √ó 128 connections = 5,248 weights + 128 biases
         ‚ñº
<span style="color: #3b82f6;">HIDDEN LAYER 1</span> (128 neurons)
‚îú‚îÄ ReLU Activation: max(0, x)
‚îú‚îÄ L2 Regularization (Œ±=0.0001)
‚îî‚îÄ Learns complex feature interactions
         ‚îÇ
         ‚îÇ 128 √ó 64 connections = 8,192 weights + 64 biases
         ‚ñº
<span style="color: #8b5cf6;">HIDDEN LAYER 2</span> (64 neurons)
‚îú‚îÄ ReLU Activation
‚îú‚îÄ Dropout (30% during training)
‚îî‚îÄ Pattern refinement layer
         ‚îÇ
         ‚îÇ 64 √ó 32 connections = 2,048 weights + 32 biases
         ‚ñº
<span style="color: #ec4899;">HIDDEN LAYER 3</span> (32 neurons)
‚îú‚îÄ ReLU Activation
‚îú‚îÄ Final feature compression
‚îî‚îÄ Decision boundary shaping
         ‚îÇ
         ‚îÇ 32 √ó 1 connections = 32 weights + 1 bias
         ‚ñº
<span style="color: #eab308;">OUTPUT LAYER</span> (1 neuron)
‚îî‚îÄ Sigmoid Activation: 1 / (1 + e^(-x))
   Returns probability (0.0 to 1.0)
   > 0.5 = Home team wins
   < 0.5 = Away team wins

<strong>TOTAL PARAMETERS: 20,097</strong>
                    </pre>
                </div>

                <h4 style="color: #3b82f6; margin-bottom: 1rem;">üßÆ Mathematical Details</h4>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem;">
                    <div style="background: rgba(59, 130, 246, 0.1); padding: 1.5rem; border-radius: 10px;">
                        <h5 style="color: #3b82f6; margin-top: 0;">Activation Functions</h5>
                        <p style="color: #cbd5e1; margin: 0.5rem 0;"><strong>ReLU:</strong> f(x) = max(0, x)</p>
                        <p style="color: #94a3b8; font-size: 0.9rem; margin: 0 0 1rem 0;">Prevents vanishing gradients, allows deep learning</p>
                        <p style="color: #cbd5e1; margin: 0.5rem 0;"><strong>Sigmoid:</strong> œÉ(x) = 1 / (1 + e^(-x))</p>
                        <p style="color: #94a3b8; font-size: 0.9rem; margin: 0;">Converts output to probability [0,1]</p>
                    </div>

                    <div style="background: rgba(139, 92, 246, 0.1); padding: 1.5rem; border-radius: 10px;">
                        <h5 style="color: #8b5cf6; margin-top: 0;">Loss Function</h5>
                        <p style="color: #cbd5e1; margin: 0.5rem 0;"><strong>Binary Cross-Entropy:</strong></p>
                        <p style="color: #cbd5e1; font-family: monospace; font-size: 0.9rem; margin: 0.5rem 0;">L = -[y¬∑log(≈∑) + (1-y)¬∑log(1-≈∑)]</p>
                        <p style="color: #94a3b8; font-size: 0.9rem; margin: 0;">Measures difference between predicted probability and actual outcome</p>
                    </div>

                    <div style="background: rgba(16, 185, 129, 0.1); padding: 1.5rem; border-radius: 10px;">
                        <h5 style="color: #10b981; margin-top: 0;">Optimizer</h5>
                        <p style="color: #cbd5e1; margin: 0.5rem 0;"><strong>Adam (Adaptive Moment Estimation)</strong></p>
                        <p style="color: #94a3b8; font-size: 0.9rem; margin: 0 0 1rem 0;">Learning rate: 0.001 (adaptive)</p>
                        <p style="color: #cbd5e1; margin: 0.5rem 0;"><strong>Features:</strong></p>
                        <ul style="color: #94a3b8; font-size: 0.9rem; margin: 0.5rem 0 0 1.5rem; line-height: 1.6;">
                            <li>Momentum-based updates</li>
                            <li>Per-parameter learning rates</li>
                            <li>Bias correction</li>
                        </ul>
                    </div>

                    <div style="background: rgba(236, 72, 153, 0.1); padding: 1.5rem; border-radius: 10px;">
                        <h5 style="color: #ec4899; margin-top: 0;">Regularization</h5>
                        <p style="color: #cbd5e1; margin: 0.5rem 0;"><strong>L2 (Ridge):</strong> Œ± = 0.0001</p>
                        <p style="color: #94a3b8; font-size: 0.9rem; margin: 0 0 1rem 0;">Penalty = Œ± ¬∑ Œ£(weights¬≤)</p>
                        <p style="color: #cbd5e1; margin: 0.5rem 0;"><strong>Early Stopping:</strong> Patience = 10</p>
                        <p style="color: #94a3b8; font-size: 0.9rem; margin: 0;">Stops if validation loss doesn't improve</p>
                    </div>
                </div>
            </div>

            <!-- Training Process -->
            <div class="card">
                <h3>üéì Training Process & Results</h3>
                
                <div style="background: linear-gradient(135deg, rgba(59, 130, 246, 0.1) 0%, rgba(139, 92, 246, 0.1) 100%); padding: 2rem; border-radius: 15px; margin-bottom: 2rem;">
                    <h4 style="color: #3b82f6; margin-top: 0;">üìä Data Split Strategy</h4>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem; margin-top: 1rem;">
                        <div style="background: rgba(16, 185, 129, 0.2); padding: 1rem; border-radius: 8px; border-left: 4px solid #10b981;">
                            <div style="color: #10b981; font-weight: bold; font-size: 1.1rem;">Training Set</div>
                            <div style="color: white; font-size: 1.8rem; font-weight: bold; margin: 0.5rem 0;">5,477 games</div>
                            <div style="color: #cbd5e1; font-size: 0.9rem;">1999-2023 seasons</div>
                            <div style="color: #94a3b8; font-size: 0.85rem; margin-top: 0.5rem;">Learn patterns from 25 years of data</div>
                        </div>
                        <div style="background: rgba(59, 130, 246, 0.2); padding: 1rem; border-radius: 8px; border-left: 4px solid #3b82f6;">
                            <div style="color: #3b82f6; font-weight: bold; font-size: 1.1rem;">Validation Set</div>
                            <div style="color: white; font-size: 1.8rem; font-weight: bold; margin: 0.5rem 0;">267 games</div>
                            <div style="color: #cbd5e1; font-size: 0.9rem;">2024 season</div>
                            <div style="color: #94a3b8; font-size: 0.85rem; margin-top: 0.5rem;">Tune hyperparameters, prevent overfitting</div>
                        </div>
                        <div style="background: rgba(236, 72, 153, 0.2); padding: 1rem; border-radius: 8px; border-left: 4px solid #ec4899;">
                            <div style="color: #ec4899; font-weight: bold; font-size: 1.1rem;">Test Set</div>
                            <div style="color: white; font-size: 1.8rem; font-weight: bold; margin: 0.5rem 0;">128 games</div>
                            <div style="color: #cbd5e1; font-size: 0.9rem;">2025 season (Weeks 1-9)</div>
                            <div style="color: #94a3b8; font-size: 0.85rem; margin-top: 0.5rem;">Final performance evaluation</div>
                        </div>
                    </div>
                </div>

                <h4 style="color: #3b82f6; margin-bottom: 1rem;">üéØ Performance Metrics</h4>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin-bottom: 2rem;">
                    <div style="text-align: center; padding: 1.5rem; background: linear-gradient(135deg, #10b981 0%, #059669 100%); border-radius: 10px;">
                        <div style="font-size: 3rem; color: white; font-weight: bold;">68.03%</div>
                        <div style="color: rgba(255,255,255,0.9); font-size: 1.1rem; margin-top: 0.5rem;">Validation Accuracy</div>
                        <div style="color: rgba(255,255,255,0.7); font-size: 0.9rem;">2024 Season</div>
                    </div>
                    <div style="text-align: center; padding: 1.5rem; background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%); border-radius: 10px;">
                        <div style="font-size: 3rem; color: white; font-weight: bold;">65.55%</div>
                        <div style="color: rgba(255,255,255,0.9); font-size: 1.1rem; margin-top: 0.5rem;">Test Accuracy</div>
                        <div style="color: rgba(255,255,255,0.7); font-size: 0.9rem;">2025 Season</div>
                    </div>
                    <div style="text-align: center; padding: 1.5rem; background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%); border-radius: 10px;">
                        <div style="font-size: 3rem; color: white; font-weight: bold;">2.7s</div>
                        <div style="color: rgba(255,255,255,0.9); font-size: 1.1rem; margin-top: 0.5rem;">Training Time</div>
                        <div style="color: rgba(255,255,255,0.7); font-size: 0.9rem;">5,477 games</div>
                    </div>
                    <div style="text-align: center; padding: 1.5rem; background: linear-gradient(135deg, #ec4899 0%, #db2777 100%); border-radius: 10px;">
                        <div style="font-size: 3rem; color: white; font-weight: bold;">52-55%</div>
                        <div style="color: rgba(255,255,255,0.9); font-size: 1.1rem; margin-top: 0.5rem;">Vegas Baseline</div>
                        <div style="color: rgba(255,255,255,0.7); font-size: 0.9rem;">Outperformed!</div>
                    </div>
                </div>

                <div style="background: rgba(16, 185, 129, 0.1); padding: 1.5rem; border-radius: 10px; border-left: 4px solid #10b981;">
                    <h5 style="color: #10b981; margin-top: 0;">‚úÖ Why These Results are Good</h5>
                    <ul style="color: #cbd5e1; line-height: 1.8; margin: 0.5rem 0 0 1.5rem;">
                        <li><strong>Beats Vegas:</strong> 65.55% vs 52-55% betting line accuracy</li>
                        <li><strong>No Overfitting:</strong> Validation (68%) and Test (65.5%) scores are close</li>
                        <li><strong>Realistic:</strong> Not 100% (which would indicate data leakage)</li>
                        <li><strong>Fast Training:</strong> 2.7 seconds for 5,477 games with 41 features</li>
                        <li><strong>Generalizes Well:</strong> Performs consistently on unseen 2025 data</li>
                    </ul>
                </div>
            </div>

            <!-- Data Leakage Prevention -->
            <div class="card">
                <h3>üîí Preventing Data Leakage</h3>
                
                <div style="background: rgba(239, 68, 68, 0.1); padding: 1.5rem; border-radius: 10px; border-left: 4px solid #ef4444; margin-bottom: 2rem;">
                    <h4 style="color: #ef4444; margin-top: 0;">‚ùå The Problem: V1 Model (Naive Approach)</h4>
                    <p style="color: #cbd5e1; margin: 0.5rem 0;"><strong>Mistake:</strong> Used entire season averages for prediction</p>
                    <pre style="background: rgba(0,0,0,0.3); padding: 1rem; border-radius: 8px; color: #fca5a5; font-family: monospace; font-size: 0.9rem; overflow-x: auto;">
# BAD: Using full season stats (includes future games!)
team_stats = df[df['season'] == 2025].groupby('team').mean()
home_ppg = team_stats.loc[home_team, 'ppg']  # ‚ùå Includes Week 18 data when predicting Week 1!
                    </pre>
                    <p style="color: #cbd5e1; margin: 1rem 0 0 0;"><strong>Result:</strong> 99.8% training accuracy (impossible!) - model memorized outcomes</p>
                </div>

                <div style="background: rgba(16, 185, 129, 0.1); padding: 1.5rem; border-radius: 10px; border-left: 4px solid #10b981;">
                    <h4 style="color: #10b981; margin-top: 0;">‚úÖ The Solution: V2 Model (Proper Approach)</h4>
                    <p style="color: #cbd5e1; margin: 0.5rem 0;"><strong>Fix:</strong> Rolling features - only use past data</p>
                    <pre style="background: rgba(0,0,0,0.3); padding: 1rem; border-radius: 8px; color: #6ee7b7; font-family: monospace; font-size: 0.9rem; overflow-x: auto;">
# GOOD: Only use games before target week
past_games = df[(df['season'] == season) & 
                (df['week'] < target_week) & 
                (df['team'] == home_team)]

# Compute features from only these past games
home_ppg = past_games['points'].mean()  # ‚úÖ No future data!
home_epa_l3 = past_games.tail(3)['epa_per_play'].mean()  # Last 3 games only
                    </pre>
                    <p style="color: #cbd5e1; margin: 1rem 0 0 0;"><strong>Result:</strong> 65.55% test accuracy (realistic and reliable!)</p>
                </div>

                <div style="margin-top: 2rem;">
                    <h4 style="color: #3b82f6; margin-bottom: 1rem;">üîç Validation Strategy</h4>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem;">
                        <div style="background: rgba(59, 130, 246, 0.1); padding: 1rem; border-radius: 8px;">
                            <h5 style="color: #3b82f6; margin: 0 0 0.5rem 0;">1Ô∏è‚É£ Time-Based Split</h5>
                            <p style="color: #cbd5e1; font-size: 0.9rem; margin: 0;">Train on past seasons (1999-2023), validate on 2024, test on 2025</p>
                        </div>
                        <div style="background: rgba(139, 92, 246, 0.1); padding: 1rem; border-radius: 8px;">
                            <h5 style="color: #8b5cf6; margin: 0 0 0.5rem 0;">2Ô∏è‚É£ Feature Timestamps</h5>
                            <p style="color: #cbd5e1; font-size: 0.9rem; margin: 0;">Every feature stamped with "as of week X" - never use future weeks</p>
                        </div>
                        <div style="background: rgba(16, 185, 129, 0.1); padding: 1rem; border-radius: 8px;">
                            <h5 style="color: #10b981; margin: 0 0 0.5rem 0;">3Ô∏è‚É£ Weekly Prediction</h5>
                            <p style="color: #cbd5e1; font-size: 0.9rem; margin: 0;">Retrain features every week using only completed games</p>
                        </div>
                        <div style="background: rgba(236, 72, 153, 0.1); padding: 1rem; border-radius: 8px;">
                            <h5 style="color: #ec4899; margin: 0 0 0.5rem 0;">4Ô∏è‚É£ Manual Audit</h5>
                            <p style="color: #cbd5e1; font-size: 0.9rem; margin: 0;">Checked sample predictions to verify no game results leaked</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Production Deployment -->
            <div class="card">
                <h3>üöÄ Production Deployment</h3>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem;">
                    <div style="background: rgba(59, 130, 246, 0.1); padding: 1.5rem; border-radius: 10px; border-left: 4px solid #3b82f6;">
                        <h4 style="color: #3b82f6; margin-top: 0;">üêç Backend (Python/Flask)</h4>
                        <ul style="color: #cbd5e1; line-height: 1.8; margin: 0.5rem 0 0 1.5rem;">
                            <li><strong>ml/predict_week.py:</strong> Command-line predictor</li>
                            <li><strong>api_routes_ml.py:</strong> 6 REST API endpoints</li>
                            <li><strong>Endpoints:</strong>
                                <ul style="margin: 0.5rem 0 0 1rem; color: #94a3b8;">
                                    <li>/api/ml/predict-week/&lt;season&gt;/&lt;week&gt;</li>
                                    <li>/api/ml/predict-upcoming</li>
                                    <li>/api/ml/predict-game</li>
                                    <li>/api/ml/model-info</li>
                                    <li>/api/ml/explain</li>
                                    <li>/api/ml/features</li>
                                </ul>
                            </li>
                            <li><strong>Model Storage:</strong> Pickled scikit-learn model (nfl_neural_network_v2.pkl)</li>
                        </ul>
                    </div>

                    <div style="background: rgba(16, 185, 129, 0.1); padding: 1.5rem; border-radius: 10px; border-left: 4px solid #10b981;">
                        <h4 style="color: #10b981; margin-top: 0;">‚öõÔ∏è Frontend (React)</h4>
                        <ul style="color: #cbd5e1; line-height: 1.8; margin: 0.5rem 0 0 1.5rem;">
                            <li><strong>MLPredictions.js:</strong> Main React component</li>
                            <li><strong>4 Tabs:</strong>
                                <ul style="margin: 0.5rem 0 0 1rem; color: #94a3b8;">
                                    <li>Predictions (week selector, confidence viz)</li>
                                    <li>Legend (EPA explained, Vegas sources)</li>
                                    <li>Model Info (architecture, performance)</li>
                                    <li>How It Works (methodology)</li>
                                </ul>
                            </li>
                            <li><strong>Features:</strong> Week selector, team logos, confidence meters, key factors</li>
                            <li><strong>Design:</strong> H.C. Lombardo blue gradient theme, responsive</li>
                        </ul>
                    </div>

                    <div style="background: rgba(139, 92, 246, 0.1); padding: 1.5rem; border-radius: 10px; border-left: 4px solid #8b5cf6;">
                        <h4 style="color: #8b5cf6; margin-top: 0;">üíæ Database Integration</h4>
                        <ul style="color: #cbd5e1; line-height: 1.8; margin: 0.5rem 0 0 1.5rem;">
                            <li><strong>PostgreSQL:</strong> nfl_analytics database</li>
                            <li><strong>HCL Schema:</strong> hcl.games, hcl.team_game_stats</li>
                            <li><strong>Data Source:</strong> nflverse (ESPN API)</li>
                            <li><strong>Vegas Lines:</strong> ESPN Bet (formerly Caesars)</li>
                            <li><strong>Update Frequency:</strong> Weekly after games complete</li>
                            <li><strong>Coverage:</strong> 27 seasons (1999-2025)</li>
                        </ul>
                    </div>

                    <div style="background: rgba(236, 72, 153, 0.1); padding: 1.5rem; border-radius: 10px; border-left: 4px solid #ec4899;">
                        <h4 style="color: #ec4899; margin-top: 0;">üìÖ Weekly Workflow</h4>
                        <ol style="color: #cbd5e1; line-height: 1.8; margin: 0.5rem 0 0 1.5rem;">
                            <li><strong>Tuesday AM:</strong> Database auto-updates with previous week's results</li>
                            <li><strong>Tuesday PM:</strong> Run prediction script:
                                <pre style="background: rgba(0,0,0,0.3); padding: 0.5rem; border-radius: 4px; margin: 0.5rem 0; font-size: 0.85rem; color: #fbbf24;">python ml/predict_week.py --upcoming</pre>
                            </li>
                            <li><strong>Output:</strong> JSON with predictions, confidence scores, key factors</li>
                            <li><strong>Frontend:</strong> Automatically displays via API call</li>
                            <li><strong>Time Required:</strong> ~5 seconds (no retraining needed!)</li>
                        </ol>
                    </div>
                </div>

                <div style="margin-top: 2rem; background: linear-gradient(135deg, rgba(16, 185, 129, 0.1) 0%, rgba(6, 182, 212, 0.1) 100%); padding: 1.5rem; border-radius: 10px; border-left: 4px solid #10b981;">
                    <h4 style="color: #10b981; margin-top: 0;">‚ú® Production Features</h4>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin-top: 1rem;">
                        <div>
                            <div style="color: #3b82f6; font-weight: bold; margin-bottom: 0.5rem;">‚úÖ No Retraining Required</div>
                            <div style="color: #94a3b8; font-size: 0.9rem;">Model pre-trained, just load and predict</div>
                        </div>
                        <div>
                            <div style="color: #3b82f6; font-weight: bold; margin-bottom: 0.5rem;">‚úÖ Fast Predictions</div>
                            <div style="color: #94a3b8; font-size: 0.9rem;">All 14 games in ~2 seconds</div>
                        </div>
                        <div>
                            <div style="color: #3b82f6; font-weight: bold; margin-bottom: 0.5rem;">‚úÖ Confidence Scores</div>
                            <div style="color: #94a3b8; font-size: 0.9rem;">Probability for each prediction</div>
                        </div>
                        <div>
                            <div style="color: #3b82f6; font-weight: bold; margin-bottom: 0.5rem;">‚úÖ Key Factors</div>
                            <div style="color: #94a3b8; font-size: 0.9rem;">EPA advantage, recent form, matchup insights</div>
                        </div>
                        <div>
                            <div style="color: #3b82f6; font-weight: bold; margin-bottom: 0.5rem;">‚úÖ Professional UI</div>
                            <div style="color: #94a3b8; font-size: 0.9rem;">Team logos, color-coded confidence</div>
                        </div>
                        <div>
                            <div style="color: #3b82f6; font-weight: bold; margin-bottom: 0.5rem;">‚úÖ Comprehensive Legend</div>
                            <div style="color: #94a3b8; font-size: 0.9rem;">Explains EPA, Vegas sources, all metrics</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Academic Learning Outcomes -->
            <div class="card">
                <h3>üéì Academic Learning Outcomes (IS330)</h3>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem;">
                    <div style="background: rgba(59, 130, 246, 0.1); padding: 1.5rem; border-radius: 10px;">
                        <h4 style="color: #3b82f6; margin-top: 0;">1Ô∏è‚É£ Machine Learning Concepts</h4>
                        <ul style="color: #cbd5e1; line-height: 1.8; margin: 0.5rem 0 0 1.5rem;">
                            <li>Deep neural network architecture</li>
                            <li>Activation functions (ReLU, Sigmoid)</li>
                            <li>Backpropagation and gradient descent</li>
                            <li>Loss functions (binary cross-entropy)</li>
                            <li>Regularization techniques (L2, dropout)</li>
                            <li>Hyperparameter tuning</li>
                        </ul>
                    </div>

                    <div style="background: rgba(139, 92, 246, 0.1); padding: 1.5rem; border-radius: 10px;">
                        <h4 style="color: #8b5cf6; margin-top: 0;">2Ô∏è‚É£ Data Science Best Practices</h4>
                        <ul style="color: #cbd5e1; line-height: 1.8; margin: 0.5rem 0 0 1.5rem;">
                            <li>Data leakage prevention</li>
                            <li>Time-based validation splits</li>
                            <li>Feature engineering pipelines</li>
                            <li>Rolling window calculations</li>
                            <li>Model evaluation metrics</li>
                            <li>Overfitting detection</li>
                        </ul>
                    </div>

                    <div style="background: rgba(16, 185, 129, 0.1); padding: 1.5rem; border-radius: 10px;">
                        <h4 style="color: #10b981; margin-top: 0;">3Ô∏è‚É£ Full-Stack Development</h4>
                        <ul style="color: #cbd5e1; line-height: 1.8; margin: 0.5rem 0 0 1.5rem;">
                            <li>RESTful API design</li>
                            <li>React component architecture</li>
                            <li>State management (hooks)</li>
                            <li>API integration (fetch)</li>
                            <li>Production deployment</li>
                            <li>UI/UX design principles</li>
                        </ul>
                    </div>

                    <div style="background: rgba(236, 72, 153, 0.1); padding: 1.5rem; border-radius: 10px;">
                        <h4 style="color: #ec4899; margin-top: 0;">4Ô∏è‚É£ Database Engineering</h4>
                        <ul style="color: #cbd5e1; line-height: 1.8; margin: 0.5rem 0 0 1.5rem;">
                            <li>PostgreSQL queries optimization</li>
                            <li>Time-series data handling</li>
                            <li>Data aggregation (GROUP BY)</li>
                            <li>Joining multiple tables</li>
                            <li>Index strategy for performance</li>
                            <li>Database schema design (3NF)</li>
                        </ul>
                    </div>
                </div>

                <div style="margin-top: 2rem; background: linear-gradient(135deg, rgba(234, 179, 8, 0.1) 0%, rgba(249, 115, 22, 0.1) 100%); padding: 1.5rem; border-radius: 10px; border-left: 4px solid #eab308;">
                    <h4 style="color: #eab308; margin-top: 0;">üèÜ Above and Beyond Course Requirements</h4>
                    <ul style="color: #cbd5e1; line-height: 1.8; margin: 0.5rem 0 0 1.5rem;">
                        <li><strong>Data Leakage Fix:</strong> Identified and corrected V1 model flaw (99.8% ‚Üí 65.5% accuracy)</li>
                        <li><strong>Production Deployment:</strong> Full end-to-end system with API and frontend</li>
                        <li><strong>27 Seasons of Data:</strong> 6.4x more training data than baseline requirement</li>
                        <li><strong>Advanced Features:</strong> EPA, success rate, L3/L5 rolling windows</li>
                        <li><strong>Weekly Automation:</strong> No retraining needed, 5-second prediction workflow</li>
                        <li><strong>Comprehensive Documentation:</strong> 3D visualizations, detailed explanations, academic rigor</li>
                    </ul>
                </div>
            </div>

            <!-- Key Takeaways -->
            <div class="card">
                <h3>üí° Key Takeaways</h3>
                
                <div style="background: linear-gradient(135deg, rgba(59, 130, 246, 0.1) 0%, rgba(139, 92, 246, 0.1) 100%); padding: 2rem; border-radius: 15px;">
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem;">
                        <div>
                            <div style="font-size: 2rem; margin-bottom: 0.5rem;">üéØ</div>
                            <h4 style="color: #3b82f6; margin: 0.5rem 0;">Problem Solved</h4>
                            <p style="color: #cbd5e1; margin: 0.5rem 0 0 0; line-height: 1.6;">
                                Built a production-ready NFL game predictor that outperforms Vegas betting lines while maintaining realistic, 
                                generalizable performance through proper data science practices.
                            </p>
                        </div>

                        <div>
                            <div style="font-size: 2rem; margin-bottom: 0.5rem;">üî¨</div>
                            <h4 style="color: #8b5cf6; margin: 0.5rem 0;">Technical Excellence</h4>
                            <p style="color: #cbd5e1; margin: 0.5rem 0 0 0; line-height: 1.6;">
                                Demonstrated mastery of deep learning architecture, feature engineering, data leakage prevention, 
                                and time-series validation‚Äîcritical skills for real-world ML applications.
                            </p>
                        </div>

                        <div>
                            <div style="font-size: 2rem; margin-bottom: 0.5rem;">üöÄ</div>
                            <h4 style="color: #10b981; margin: 0.5rem 0;">Production Ready</h4>
                            <p style="color: #cbd5e1; margin: 0.5rem 0 0 0; line-height: 1.6;">
                                Complete end-to-end system with Python backend, React frontend, PostgreSQL database, and RESTful API‚Äî
                                ready for weekly predictions throughout the 2025 NFL season.
                            </p>
                        </div>

                        <div>
                            <div style="font-size: 2rem; margin-bottom: 0.5rem;">üìö</div>
                            <h4 style="color: #ec4899; margin: 0.5rem 0;">Academic Rigor</h4>
                            <p style="color: #cbd5e1; margin: 0.5rem 0 0 0; line-height: 1.6;">
                                Applied IS330 concepts (ML, databases, APIs, full-stack dev) while exceeding requirements with 
                                advanced techniques, comprehensive testing, and professional documentation.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Week 1-2 Tab -->
        <div id="week1-2" class="tab-content">
            <div class="card">
                <h2>üìù Weeks 1-2: Initial Assignment (Sprints 1-2)</h2>
                <p><strong>Date:</strong> September 2025 | <strong>Sprints:</strong> 1-2</p>
                <p><strong>Objective:</strong> Build a machine learning model to predict NFL game outcomes using historical data stored in SQLite.</p>

                <h3>üèÉ Sprint Overview</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1rem; margin: 1.5rem 0;">
                    <div style="background: rgba(59, 130, 246, 0.15); padding: 1.25rem; border-radius: 8px; border-left: 4px solid #3b82f6;">
                        <h4 style="color: #3b82f6; margin-top: 0;">‚úÖ Sprint 1: ML Model</h4>
                        <p style="font-size: 0.9rem; color: #94a3b8;">Logistic Regression classifier, 85% accuracy</p>
                    </div>
                    <div style="background: rgba(16, 185, 129, 0.15); padding: 1.25rem; border-radius: 8px; border-left: 4px solid #10b981;">
                        <h4 style="color: #10b981; margin-top: 0;">‚úÖ Sprint 2: SQLite Database</h4>
                        <p style="font-size: 0.9rem; color: #94a3b8;">3 tables: teams, games, predictions</p>
                    </div>
                </div>

                <h3>‚úÖ Deliverables</h3>
                <ul>
                    <li><strong>Machine Learning Model:</strong> Logistic Regression classifier with 85% accuracy</li>
                    <li><strong>SQLite Database:</strong> Structured schema with teams, games, and predictions tables</li>
                    <li><strong>Python Scripts:</strong> Data fetching, model training, and prediction pipeline</li>
                    <li><strong>Documentation:</strong> Complete analysis with visualizations</li>
                </ul>

                <h3>üéØ Assignment Questions & Results</h3>
                <div style="background: rgba(15, 23, 42, 0.6); padding: 1.5rem; border-radius: 10px; margin: 1rem 0;">
                    <p><strong>Q1:</strong> What ML algorithm did you choose and why?</p>
                    <p style="color: #10b981; margin-top: 0.5rem;"><strong>A:</strong> Logistic Regression - optimal for binary classification (win/loss), interpretable coefficients, fast training, and achieved 85% validation accuracy.</p>

                    <p style="margin-top: 1.5rem;"><strong>Q2:</strong> How did you handle missing data?</p>
                    <p style="color: #10b981; margin-top: 0.5rem;"><strong>A:</strong> Implemented multiple strategies: forward-fill for time series data, mean imputation for numerical features, and removed rows with >30% missing values.</p>

                    <p style="margin-top: 1.5rem;"><strong>Q3:</strong> Describe your feature engineering process.</p>
                    <p style="color: #10b981; margin-top: 0.5rem;"><strong>A:</strong> Created 12 features including: win streaks, home/away performance differential, rest days between games, division matchup indicators, and rolling averages for offensive/defensive stats.</p>
                </div>

                <h3>üíæ SQLite Database Schema</h3>
                <pre><code>CREATE TABLE teams (
    team_id INTEGER PRIMARY KEY,
    name TEXT NOT NULL,
    abbreviation TEXT UNIQUE,
    division TEXT,
    conference TEXT
);

CREATE TABLE games (
    game_id INTEGER PRIMARY KEY,
    home_team_id INTEGER,
    away_team_id INTEGER,
    game_date DATE,
    home_score INTEGER,
    away_score INTEGER,
    FOREIGN KEY (home_team_id) REFERENCES teams(team_id),
    FOREIGN KEY (away_team_id) REFERENCES teams(team_id)
);

CREATE TABLE predictions (
    prediction_id INTEGER PRIMARY KEY,
    game_id INTEGER,
    predicted_winner INTEGER,
    confidence REAL,
    actual_winner INTEGER,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (game_id) REFERENCES games(game_id)
);</code></pre>

                <h3>üöÄ How to Run</h3>
                <pre><code>cd "H.C. Lombardo App 1st try"
python main.py</code></pre>
            </div>
        </div>

        <!-- Weeks 3-4 Tab -->
        <div id="week3-4" class="tab-content">
            <div class="card">
                <h2>üöÄ Weeks 3-4: Production Architecture & Live Data (Sprints 3-4)</h2>
                <p><strong>Date:</strong> September-October 2025 | <strong>Sprints:</strong> 3-4</p>
                <p><strong>Objective:</strong> Transform the prototype into a scalable three-tier web application with live ESPN API integration and PostgreSQL database.</p>

                <h3>üèÉ Sprint Overview</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1rem; margin: 1.5rem 0;">
                    <div style="background: rgba(139, 92, 246, 0.15); padding: 1.25rem; border-radius: 8px; border-left: 4px solid #8b5cf6;">
                        <h4 style="color: #8b5cf6; margin-top: 0;">‚úÖ Sprint 3: React Frontend</h4>
                        <p style="font-size: 0.9rem; color: #94a3b8;">SPA with responsive design, real-time updates</p>
                    </div>
                    <div style="background: rgba(236, 72, 153, 0.15); padding: 1.25rem; border-radius: 8px; border-left: 4px solid #ec4899;">
                        <h4 style="color: #ec4899; margin-top: 0;">‚úÖ Sprint 4: PostgreSQL Migration</h4>
                        <p style="font-size: 0.9rem; color: #94a3b8;">Three-tier architecture, 15+ tables, production-ready</p>
                    </div>
                </div>

                <h3>‚úÖ Major Upgrades</h3>
                
                <h3>1. React Frontend (Tier 1)</h3>
                <ul>
                    <li>Built modern SPA with React 18 functional components</li>
                    <li>Responsive design with interactive data tables</li>
                    <li>Real-time updates from backend API</li>
                    <li>Professional UI with loading states and error handling</li>
                </ul>
                <pre><code>cd frontend
npm install
npm start  # Runs on http://localhost:3000</code></pre>

                <h3>2. Flask REST API (Tier 2)</h3>
                <ul>
                    <li>RESTful endpoints for teams, standings, and scoreboard data</li>
                    <li>CORS configuration for frontend communication</li>
                    <li>DHCP port management system for dynamic port allocation</li>
                    <li>Comprehensive logging with rotation and archival</li>
                </ul>
                <pre><code>python api_server.py  # Auto-selects available port (default: 5000)</code></pre>

                <h3>3. PostgreSQL Migration (Tier 3)</h3>
                <ul>
                    <li>Migrated from SQLite to PostgreSQL 18 for production scalability</li>
                    <li>Normalized schema with proper foreign key relationships</li>
                    <li>15+ tables including teams, games, standings, injuries, weather</li>
                    <li>Scheduled data refresh from ESPN API</li>
                </ul>

                <h3>üîß DHCP Port Management System</h3>
                <p>Developed intelligent port allocation system to handle dynamic port conflicts:</p>
                <pre><code>class PortManager:
    def __init__(self):
        self.preferred_ports = [5000, 5001, 5002, 5003]
    
    def get_available_port(self):
        # Checks each port, returns first available
        # Falls back to random ephemeral port if needed
        # Logs all allocation decisions</code></pre>

                <h3>üìä Comprehensive Logging System</h3>
                <ul>
                    <li><strong>Centralized Logger:</strong> Single configuration for all modules</li>
                    <li><strong>File Rotation:</strong> Daily log files with automatic archival</li>
                    <li><strong>Log Levels:</strong> DEBUG, INFO, WARNING, ERROR, CRITICAL</li>
                    <li><strong>Log Viewer:</strong> Interactive CLI tool for searching and filtering logs</li>
                </ul>

                <h3>üîÑ Live Data Integration (Weeks 3-4 Historical)</h3>
                <ul>
                    <li>Initial ESPN API integration for NFL data (replaced by nflverse in Sprint 5-7)</li>
                    <li>Automated data refresh every 15 minutes during game days</li>
                    <li>Web scraping from TeamRankings.com for advanced stats</li>
                    <li>Data validation and conflict resolution</li>
                </ul>

                <h3>üé® Interactive 3D Dashboard (v2 - October 10, 2025)</h3>
                <ul>
                    <li><strong>üî¥üü¢ Dynamic API Status Monitoring:</strong> 3D tower changes color based on server health
                        <ul>
                            <li>Red = API offline (static data mode)</li>
                            <li>Green = API online (live data mode)</li>
                        </ul>
                    </li>
                    <li><strong>‚è∞ Auto-Updating Date/Time:</strong> Live clock in header updates every second</li>
                    <li><strong>üéØ THREE.js Visualization:</strong> Interactive 3D network architecture diagram</li>
                    <li><strong>üìä Real-Time Stats:</strong> Dashboard metrics update from API or cached data</li>
                    <li><strong>üåê Responsive Design:</strong> Optimized for 90% browser zoom</li>
                </ul>
            </div>
        </div>

        <!-- Weeks 5-6 Tab -->
        <div id="week5-6" class="tab-content">
            <div class="card">
                <h2>üìä Weeks 5-6: Historical Data System - October 21 - November 1, 2025</h2>
                <p><strong>Date:</strong> October 21 - November 1, 2025 | <strong>Sprints:</strong> 5-8</p>
                <p><strong>Objective:</strong> Build complete historical data analytics system with 950+ games, 3NF database design, REST API, React frontend with Chart.js visualization, and premium gold branding.</p>

                <h3>üèÉ Sprint Overview</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin: 1.5rem 0;">
                    <div style="background: rgba(59, 130, 246, 0.15); padding: 1.25rem; border-radius: 8px; border-left: 4px solid #3b82f6;">
                        <h4 style="color: #3b82f6; margin-top: 0;">‚úÖ Sprint 5: Database Design</h4>
                        <p style="font-size: 0.9rem; color: #94a3b8;">3NF Schema, 47 metrics per game</p>
                    </div>
                    <div style="background: rgba(16, 185, 129, 0.15); padding: 1.25rem; border-radius: 8px; border-left: 4px solid #10b981;">
                        <h4 style="color: #10b981; margin-top: 0;">‚úÖ Sprint 6: REST API</h4>
                        <p style="font-size: 0.9rem; color: #94a3b8;">HCL endpoints, 6/6 tests passed</p>
                    </div>
                    <div style="background: rgba(236, 72, 153, 0.15); padding: 1.25rem; border-radius: 8px; border-left: 4px solid #ec4899;">
                        <h4 style="color: #ec4899; margin-top: 0;">‚úÖ Sprint 7: React Frontend</h4>
                        <p style="font-size: 0.9rem; color: #94a3b8;">Chart.js visualization, team pages</p>
                    </div>
                    <div style="background: rgba(245, 158, 11, 0.15); padding: 1.25rem; border-radius: 8px; border-left: 4px solid #f59e0b;">
                        <h4 style="color: #f59e0b; margin-top: 0;">‚úÖ Sprint 8: Historical Scale</h4>
                        <p style="font-size: 0.9rem; color: #94a3b8;">950+ games, gold branding</p>
                    </div>
                </div>

                <h3>üóÑÔ∏è Sprint 5: Database Design & Data Loading</h3>
                <p><strong>Date:</strong> October 21-22, 2025 | <strong>Status:</strong> ‚úÖ COMPLETE</p>
                
                <h4>HCL Schema (3NF Database Design)</h4>
                <ul>
                    <li>‚úÖ <strong>3 Tables:</strong> <code>games</code>, <code>team_game_stats</code>, <code>league_metrics</code></li>
                    <li>‚úÖ <strong>3 Views:</strong> <code>v_team_season_stats</code>, <code>v_team_momentum</code>, <code>v_matchup_projections</code></li>
                    <li>‚úÖ <strong>47 Metrics per Game:</strong> EPA, success rate, yards, turnovers, red zone efficiency</li>
                    <li>‚úÖ <strong>3NF Compliance:</strong> No transitive dependencies, proper primary/foreign keys</li>
                    <li>‚úÖ <strong>Data Source:</strong> nflverse (nfl-data-py Python package)</li>
                    <li>‚úÖ <strong>Current Data:</strong> 2025 Weeks 1-8 Complete (120+ games, Week 9 in progress)</li>
                </ul>

                <h4>Season Performance (Through Week 8)</h4>
                <ul>
                    <li><strong>Best Offense:</strong> BAL (0.293 EPA/play, 41 pts vs TB)</li>
                    <li><strong>High Scoring:</strong> WAS (40 pts, 0.221 EPA/play)</li>
                    <li><strong>Efficient Attack:</strong> JAX (0.229 EPA/play, 32 pts)</li>
                </ul>

                <h3>üì° Sprint 6: Historical Data REST API</h3>
                <p><strong>Date:</strong> October 22, 2025 | <strong>Status:</strong> ‚úÖ COMPLETE | <strong>Tests:</strong> 6/6 Passed</p>
                
                <h4>API Endpoints (Flask Blueprint)</h4>
                <div style="background: rgba(59, 130, 246, 0.1); padding: 1rem; border-radius: 8px; margin: 1rem 0;">
                    <ul style="font-family: 'Courier New', monospace; font-size: 0.9rem;">
                        <li><code>GET /api/hcl/teams</code> - List all teams with season stats</li>
                        <li><code>GET /api/hcl/teams/&lt;abbr&gt;</code> - Team season overview (record, EPA, PPG)</li>
                        <li><code>GET /api/hcl/teams/&lt;abbr&gt;/games</code> - Team game-by-game history</li>
                    </ul>
                    <p style="color: #94a3b8; font-size: 0.85rem; margin-top: 0.5rem; font-family: 'Segoe UI', sans-serif;">
                        <strong>Note:</strong> Original design included 4 endpoints with <code>/api/hcl/games</code> for week filtering, 
                        but production implementation uses 3 endpoints focused on team-centric queries.
                    </p>
                </div>

                <h4>Validation Results</h4>
                <ul>
                    <li>‚úÖ <strong>6/6 Tests Passed:</strong> All endpoints validated</li>
                    <li>‚úÖ <strong>30 Teams Retrieved:</strong> Season aggregates with EPA rankings</li>
                    <li>‚úÖ <strong>Game History:</strong> Full 47-stat records per team-game</li>
                    <li>‚úÖ <strong>Error Handling:</strong> 404 for invalid teams, 500 for database errors</li>
                    <li>‚úÖ <strong>CORS Enabled:</strong> Ready for React frontend integration</li>
                    <li>‚úÖ <strong>Blueprint Pattern:</strong> Modular <code>api_routes_hcl.py</code> registered in <code>app.py</code></li>
                </ul>

                <h3>‚öõÔ∏è Sprint 7: React Frontend Integration</h3>
                <p><strong>Date:</strong> October 26-27, 2025 | <strong>Status:</strong> ‚úÖ COMPLETE</p>
                
                <h4>Team Detail Pages</h4>
                <ul>
                    <li>‚úÖ <strong>Dynamic Routing:</strong> <code>/team/BAL</code>, <code>/team/KC</code>, etc.</li>
                    <li>‚úÖ <strong>Season Overview:</strong> 6 stat cards (PPG, EPA, Success Rate, YPP, 3rd Down%, Red Zone%)</li>
                    <li>‚úÖ <strong>Interactive Stat Selector:</strong> 8 checkboxes to customize display</li>
                    <li>‚úÖ <strong>Chart.js Visualization:</strong> Multi-line trend charts with dark theme</li>
                    <li>‚úÖ <strong>Game History Table:</strong> Week-by-week results with dynamic stat columns</li>
                    <li>‚úÖ <strong>Navigation:</strong> "View Details" buttons on all 32 team cards</li>
                </ul>

                <h4>Features Implemented</h4>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin: 1rem 0;">
                    <div style="background: rgba(16, 185, 129, 0.1); padding: 1rem; border-radius: 8px;">
                        <h5 style="color: #10b981; margin-top: 0;">‚úÖ User Experience</h5>
                        <ul style="font-size: 0.9rem;">
                            <li>Responsive glass-morphism design</li>
                            <li>Real-time chart updates on stat selection</li>
                            <li>Smooth page transitions</li>
                            <li>Mobile-optimized layouts</li>
                        </ul>
                    </div>
                    <div style="background: rgba(236, 72, 153, 0.1); padding: 1rem; border-radius: 8px;">
                        <h5 style="color: #ec4899; margin-top: 0;">‚úÖ Data Integration</h5>
                        <ul style="font-size: 0.9rem;">
                            <li>API fetch on page load</li>
                            <li>JSON parsing and display</li>
                            <li>Chart.js CDN integration</li>
                            <li>Error handling with fallbacks</li>
                        </ul>
                    </div>
                </div>

                <h3>ÔøΩ Sprint 8: Historical Data Scale + Premium Branding</h3>
                <p><strong>Date:</strong> October 28 - November 1, 2025 | <strong>Status:</strong> ‚úÖ COMPLETE</p>
                
                <h4>November 1: Premium Gold Branding</h4>
                <ul>
                    <li>‚úÖ <strong>Gold Shimmer Effect</strong> on H.C. LOMBARDO header</li>
                    <li>‚úÖ <strong>Italian Quote:</strong> "√à FOTTUTAMENTE INCREDIBILE!" (Frank Lombardo)</li>
                    <li>‚úÖ <strong>9-Stop Gradient:</strong> Dark gold (#6B5416) ‚Üí Bright gold (#FFD700) ‚Üí Dark</li>
                    <li>‚úÖ <strong>Animated Shimmer:</strong> 4.5s right-to-left sweep animation</li>
                    <li>‚úÖ <strong>Realistic Metallic Look:</strong> No glow (gold reflects, doesn't emit light)</li>
                    <li>‚úÖ <strong>Production Build:</strong> 215.71 kB JS, 6.91 kB CSS</li>
                </ul>

                <h4>October 28-31: Historical Database Infrastructure</h4>
                <ul>
                    <li>‚úÖ <strong>950+ Games:</strong> Complete 2022-2025 seasons loaded</li>
                    <li>‚úÖ <strong>1,900+ Team-Game Records:</strong> 47+ metrics per game</li>
                    <li>‚úÖ <strong>HCL Schema:</strong> games, team_game_stats tables in 3NF</li>
                    <li>‚úÖ <strong>Automated Loader:</strong> <code>ingest_historical_games.py</code> (671 lines)</li>
                    <li>‚úÖ <strong>Testing Infrastructure:</strong> 5-phase testbed validation</li>
                    <li>‚úÖ <strong>ML Ready:</strong> Exceeds 600-game minimum by 58%</li>
                </ul>

                <h4>Data Coverage (2022-2025)</h4>
                <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 1rem; margin: 1rem 0;">
                    <div style="background: rgba(59, 130, 246, 0.1); padding: 1rem; border-radius: 8px; text-align: center;">
                        <div style="font-size: 2rem; font-weight: bold; color: #3b82f6;">270</div>
                        <div style="font-size: 0.9rem; color: #94a3b8;">2022 Games</div>
                    </div>
                    <div style="background: rgba(16, 185, 129, 0.1); padding: 1rem; border-radius: 8px; text-align: center;">
                        <div style="font-size: 2rem; font-weight: bold; color: #10b981;">270</div>
                        <div style="font-size: 0.9rem; color: #94a3b8;">2023 Games</div>
                    </div>
                    <div style="background: rgba(236, 72, 153, 0.1); padding: 1rem; border-radius: 8px; text-align: center;">
                        <div style="font-size: 2rem; font-weight: bold; color: #ec4899;">270</div>
                        <div style="font-size: 0.9rem; color: #94a3b8;">2024 Games</div>
                    </div>
                    <div style="background: rgba(245, 158, 11, 0.1); padding: 1rem; border-radius: 8px; text-align: center;">
                        <div style="font-size: 2rem; font-weight: bold; color: #f59e0b;">140</div>
                        <div style="font-size: 0.9rem; color: #94a3b8;">2025 Games</div>
                    </div>
                </div>

                <h3>ÔøΩüéØ Technical Achievements</h3>
                <ul>
                    <li>‚úÖ <strong>Full-Stack Integration:</strong> React ‚Üí Flask ‚Üí PostgreSQL data flow</li>
                    <li>‚úÖ <strong>Blueprint Architecture:</strong> Modular API design with <code>api_routes_hcl.py</code></li>
                    <li>‚úÖ <strong>Environment Configuration:</strong> <code>.env</code> variables for database selection</li>
                    <li>‚úÖ <strong>Real-Time Updates:</strong> Chart redraws on checkbox changes</li>
                    <li>‚úÖ <strong>Clean Code:</strong> 700+ lines added, proper separation of concerns</li>
                </ul>

                <h3>üìä Current System State</h3>
                <div style="background: rgba(139, 92, 246, 0.1); padding: 1.5rem; border-radius: 8px; border-left: 4px solid #8b5cf6; margin: 1.5rem 0;">
                    <h4 style="color: #8b5cf6; margin-top: 0;">Production Ready Features</h4>
                    <ul style="color: #cbd5e1; line-height: 1.8;">
                        <li><strong>Database:</strong> <code>nfl_analytics_test</code> with HCL schema (Weeks 1-8 data loaded)</li>
                        <li><strong>API Server:</strong> Flask blueprint at <code>/api/hcl/*</code> endpoints</li>
                        <li><strong>Frontend:</strong> Team detail pages with Chart.js visualizations</li>
                        <li><strong>Navigation:</strong> Dashboard ‚Üî Team Detail seamless transitions</li>
                        <li><strong>Testing:</strong> 6/6 API tests passed, manual browser validation complete</li>
                    </ul>
                </div>

                <h3>üöÄ Next Steps (Sprint 8)</h3>
                <ul>
                    <li><strong>Full Data Load:</strong> Import 2022-2024 seasons (~600 games)</li>
                    <li><strong>Week Selector:</strong> Dashboard dropdown to view historical weeks</li>
                    <li><strong>Betting Analytics:</strong> Spread/total predictions with accuracy tracking</li>
                    <li><strong>Production Migration:</strong> Move HCL schema to main <code>nfl_analytics</code> database</li>
                </ul>

                <h3>üí° Key Learnings</h3>
                <ul>
                    <li><strong>3NF Design:</strong> Proper normalization reduces redundancy and improves query performance</li>
                    <li><strong>Blueprint Pattern:</strong> Modular Flask routes make APIs maintainable and testable</li>
                    <li><strong>Chart.js Integration:</strong> CDN approach simplifies frontend visualization</li>
                    <li><strong>Test-First:</strong> Separate testbed database validates changes before production</li>
                    <li><strong>Agile Sprints:</strong> 1-day focused sprints delivered working features incrementally</li>
                </ul>
            </div>
        </div>

        <!-- Weeks 7-8 Tab -->
        <div id="week7-8" class="tab-content">
            <div class="card">
                <h2>üß† Weeks 7-8: Machine Learning & Advanced Analytics - November 2-11, 2025</h2>
                <p><strong>Date:</strong> November 2-11, 2025 | <strong>Sprints:</strong> 9-10</p>
                <p><strong>Objective:</strong> Implement production-grade machine learning prediction system with neural network training, data leakage prevention, interactive 3D visualization, and comprehensive historical data analytics.</p>

                <h3>üöÄ Sprint Overview</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1rem; margin: 1.5rem 0;">
                    <div style="background: rgba(139, 92, 246, 0.15); padding: 1.25rem; border-radius: 8px; border-left: 4px solid #8b5cf6;">
                        <h4 style="color: #8b5cf6; margin-top: 0;">‚úÖ Sprint 9 (Week 7): ML Neural Network</h4>
                        <p style="font-size: 0.9rem; color: #94a3b8;">Nov 6, 2025 - Neural network training with 65.55% accuracy</p>
                    </div>
                    <div style="background: rgba(236, 72, 153, 0.15); padding: 1.25rem; border-radius: 8px; border-left: 4px solid #ec4899;">
                        <h4 style="color: #ec4899; margin-top: 0;">‚úÖ Sprint 10 (Week 8): Advanced UI</h4>
                        <p style="font-size: 0.9rem; color: #94a3b8;">Nov 7-11, 2025 - 3D visualization + Historical data redesign</p>
                    </div>
                </div>

                <h3>ü§ñ Sprint 9: Machine Learning Neural Network (November 6, 2025)</h3>
                
                <h4>Problem Solved: Data Leakage Prevention</h4>
                <div style="background: rgba(239, 68, 68, 0.1); padding: 1.5rem; border-radius: 10px; margin: 1rem 0; border-left: 4px solid #ef4444;">
                    <p><strong>V1 Model (Flawed):</strong> 99.8% accuracy - Too good to be true!</p>
                    <p style="color: #94a3b8; font-size: 0.9rem;">Used full season statistics, leaked future game information into training data.</p>
                </div>

                <div style="background: rgba(16, 185, 129, 0.1); padding: 1.5rem; border-radius: 10px; margin: 1rem 0; border-left: 4px solid #10b981;">
                    <p><strong>V2 Model (Production):</strong> 65.55% accuracy - Realistic and honest!</p>
                    <p style="color: #94a3b8; font-size: 0.9rem;">Implemented rolling windows, time-based validation, beats Vegas baseline (52-55%).</p>
                </div>

                <h4>Neural Network Architecture</h4>
                <ul>
                    <li><strong>Input Layer:</strong> 41 engineered features (season stats, recent form, matchup differentials, Vegas lines)</li>
                    <li><strong>Hidden Layer 1:</strong> 128 neurons with ReLU activation</li>
                    <li><strong>Hidden Layer 2:</strong> 64 neurons with ReLU activation</li>
                    <li><strong>Hidden Layer 3:</strong> 32 neurons with ReLU activation</li>
                    <li><strong>Output Layer:</strong> 1 neuron with Sigmoid activation (win probability 0-1)</li>
                    <li><strong>Total Parameters:</strong> 20,097 learnable weights and biases</li>
                </ul>

                <h4>Feature Engineering (41 Features)</h4>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem; margin: 1rem 0;">
                    <div style="background: rgba(59, 130, 246, 0.1); padding: 1rem; border-radius: 8px;">
                        <h5 style="color: #3b82f6; margin-top: 0;">Season Statistics (8)</h5>
                        <p style="font-size: 0.85rem; color: #94a3b8;">PPG, EPA/play, success rate, yards/play, completion %, total yards, turnovers, 3rd down %</p>
                    </div>
                    <div style="background: rgba(16, 185, 129, 0.1); padding: 1rem; border-radius: 8px;">
                        <h5 style="color: #10b981; margin-top: 0;">Recent Form (8)</h5>
                        <p style="font-size: 0.85rem; color: #94a3b8;">Last 3 and Last 5 games: EPA, success rate, PPG, yards/play</p>
                    </div>
                    <div style="background: rgba(139, 92, 246, 0.1); padding: 1rem; border-radius: 8px;">
                        <h5 style="color: #8b5cf6; margin-top: 0;">Matchup Differentials (16)</h5>
                        <p style="font-size: 0.85rem; color: #94a3b8;">Home vs Away differences, L3/L5 momentum indicators</p>
                    </div>
                    <div style="background: rgba(234, 179, 8, 0.1); padding: 1rem; border-radius: 8px;">
                        <h5 style="color: #eab308; margin-top: 0;">Vegas Lines (9)</h5>
                        <p style="font-size: 0.85rem; color: #94a3b8;">Spread, total, moneylines, implied probabilities, line movement</p>
                    </div>
                </div>

                <h4>Training Results</h4>
                <ul>
                    <li><strong>Training Set:</strong> 5,477 games (1999-2023) with rolling features</li>
                    <li><strong>Validation Set:</strong> 267 games (2024 season)</li>
                    <li><strong>Test Set:</strong> 128 games (2025 season)</li>
                    <li><strong>Validation Accuracy:</strong> 68.03%</li>
                    <li><strong>Test Accuracy:</strong> 65.55% (beats Vegas 52-55% baseline)</li>
                    <li><strong>Training Time:</strong> 2.7 seconds on Windows CPU</li>
                </ul>

                <h4>Production Deployment</h4>
                <ul>
                    <li><strong>Backend:</strong> Flask API with 6 endpoints (predict-week, predict-upcoming, predict-game, model-info, explain, features)</li>
                    <li><strong>Frontend:</strong> React component with 4 tabs (Predictions, Upcoming Games, Model Info, Legend)</li>
                    <li><strong>Database:</strong> PostgreSQL HCL schema integration</li>
                    <li><strong>Weekly Workflow:</strong> Monday predictions, live game tracking, Wednesday updates</li>
                    <li><strong>Model File:</strong> nfl_neural_network_v2.pkl (scikit-learn MLPClassifier)</li>
                </ul>

                <h3>üìä Sprint 10: Historical Data & 3D Visualization (November 7-11, 2025)</h3>

                <h4>1. Interactive 3D Neural Network Visualization</h4>
                <ul>
                    <li><strong>Technology:</strong> Three.js WebGL rendering with OrbitControls</li>
                    <li><strong>5 Layers Rendered:</strong> 41 blue inputs ‚Üí 128 green ‚Üí 64 purple ‚Üí 32 pink ‚Üí 1 yellow output</li>
                    <li><strong>Visual Features:</strong>
                        <ul>
                            <li>Spheres representing neurons (0.5 radius)</li>
                            <li>Emissive materials with pulsing animation</li>
                            <li>Semi-transparent connection lines between layers</li>
                            <li>Grid floor for depth perception</li>
                            <li>Floating labels for each layer</li>
                        </ul>
                    </li>
                    <li><strong>Interactivity:</strong> Mouse drag to rotate, scroll to zoom, auto-rotate enabled</li>
                    <li><strong>Performance:</strong> Smooth 60 FPS rendering with smart connection sampling</li>
                </ul>

                <h4>2. Historical Data Spreadsheet Interface</h4>
                <ul>
                    <li><strong>3 Interactive Dropdowns:</strong>
                        <ul>
                            <li>Team Selector: All 32 NFL teams</li>
                            <li>Season Selector: 1999-2025 (27 years of data)</li>
                            <li>Stat Category: 8 categories (All, Offense, Defense, Passing, Rushing, Advanced, Efficiency, Scoring)</li>
                        </ul>
                    </li>
                    <li><strong>Professional Styling:</strong> Blue gradient theme matching ML Predictions page</li>
                    <li><strong>Data Display:</strong> 3-column table (Statistic | Value | Category)</li>
                    <li><strong>41 Total Statistics:</strong> Comprehensive team analytics across all categories</li>
                    <li><strong>Responsive Design:</strong> Mobile-optimized with breakpoints</li>
                </ul>

                <h4>3. Dr. Foster Dashboard ML Documentation</h4>
                <ul>
                    <li><strong>9 Major Sections:</strong>
                        <ol>
                            <li>Problem Statement (data leakage challenge)</li>
                            <li>Data Engineering Statistics (14,312 games, 6.4x more data)</li>
                            <li>Feature Engineering Breakdown (41 features detailed)</li>
                            <li>Model Architecture (ASCII diagram + layer details)</li>
                            <li>Mathematical Details (ReLU, Sigmoid, Binary Cross-Entropy, Adam optimizer)</li>
                            <li>Training Process (data splits, performance metrics)</li>
                            <li>Data Leakage Prevention (V1 vs V2 comparison with code examples)</li>
                            <li>Production Deployment (backend, frontend, database, workflow)</li>
                            <li>Academic Learning Outcomes (ML, data science, full-stack, database)</li>
                        </ol>
                    </li>
                    <li><strong>685 Lines of Content:</strong> Comprehensive educational documentation</li>
                    <li><strong>Interactive 3D Canvas:</strong> Embedded neural network visualization</li>
                </ul>

                <h3>üìö Academic Learning Outcomes</h3>

                <h4>Machine Learning Concepts</h4>
                <ul>
                    <li>Neural network architecture design (input ‚Üí hidden ‚Üí output)</li>
                    <li>Activation functions (ReLU for hidden, Sigmoid for output)</li>
                    <li>Loss functions (Binary Cross-Entropy)</li>
                    <li>Optimization algorithms (Adam with adaptive learning rates)</li>
                    <li>Regularization techniques (L2 penalty, early stopping)</li>
                    <li>Backpropagation and gradient descent</li>
                </ul>

                <h4>Data Science Best Practices</h4>
                <ul>
                    <li><strong>Data Leakage Prevention:</strong> Critical understanding of temporal dependencies</li>
                    <li><strong>Feature Engineering:</strong> Rolling windows, time-based aggregations</li>
                    <li><strong>Validation Strategies:</strong> Time-based splits (no random shuffling)</li>
                    <li><strong>Performance Metrics:</strong> Accuracy vs baseline comparison</li>
                    <li><strong>Model Evaluation:</strong> Training vs validation vs test accuracy</li>
                </ul>

                <h4>Full-Stack Development</h4>
                <ul>
                    <li>Flask API design (6 ML prediction endpoints)</li>
                    <li>React component architecture (4 tabs, state management)</li>
                    <li>Three.js 3D graphics (WebGL, OrbitControls, scene management)</li>
                    <li>Responsive UI/UX (dropdowns, tables, loading states)</li>
                    <li>Production deployment (build process, error handling)</li>
                </ul>

                <h4>Database Engineering</h4>
                <ul>
                    <li>Historical data storage (14,312 games across 27 years)</li>
                    <li>Query optimization (rolling window calculations)</li>
                    <li>Data integrity (validation, conflict resolution)</li>
                    <li>Schema design for ML features (normalization vs denormalization)</li>
                </ul>

                <h3>üéØ Key Takeaways - Weeks 7-8</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1rem; margin: 1.5rem 0;">
                    <div style="background: rgba(59, 130, 246, 0.1); padding: 1.25rem; border-radius: 8px; border-left: 4px solid #3b82f6;">
                        <h4 style="color: #3b82f6; margin-top: 0;">Problem Solved</h4>
                        <p style="font-size: 0.9rem; color: #94a3b8;">Detected and fixed data leakage, achieving realistic 65.55% accuracy that beats Vegas baseline</p>
                    </div>
                    <div style="background: rgba(16, 185, 129, 0.1); padding: 1.25rem; border-radius: 8px; border-left: 4px solid #10b981;">
                        <h4 style="color: #10b981; margin-top: 0;">Technical Excellence</h4>
                        <p style="font-size: 0.9rem; color: #94a3b8;">20,097 parameters, rolling features, time-based validation, Adam optimizer, L2 regularization</p>
                    </div>
                    <div style="background: rgba(139, 92, 246, 0.1); padding: 1.25rem; border-radius: 8px; border-left: 4px solid #8b5cf6;">
                        <h4 style="color: #8b5cf6; margin-top: 0;">Production Ready</h4>
                        <p style="font-size: 0.9rem; color: #94a3b8;">6 Flask endpoints, 4-tab React UI, PostgreSQL integration, weekly prediction workflow</p>
                    </div>
                    <div style="background: rgba(234, 179, 8, 0.1); padding: 1.25rem; border-radius: 8px; border-left: 4px solid #eab308;">
                        <h4 style="color: #eab308; margin-top: 0;">Academic Rigor</h4>
                        <p style="font-size: 0.9rem; color: #94a3b8;">Comprehensive documentation, interactive 3D visualization, educational content, code examples</p>
                    </div>
                </div>

                <h3>üì¶ Deliverables</h3>
                <ul>
                    <li>‚úÖ <strong>nfl_neural_network_v2.pkl:</strong> Production ML model (scikit-learn)</li>
                    <li>‚úÖ <strong>6 Flask API Endpoints:</strong> predict-week, predict-upcoming, predict-game, model-info, explain, features</li>
                    <li>‚úÖ <strong>React ML Predictions Component:</strong> 4 tabs with professional UI</li>
                    <li>‚úÖ <strong>3D Neural Network Visualization:</strong> Interactive Three.js rendering</li>
                    <li>‚úÖ <strong>Historical Data Spreadsheet:</strong> 32 teams, 27 years, 41 stats, 8 categories</li>
                    <li>‚úÖ <strong>Comprehensive Documentation:</strong> SPRINT9_COMPLETE.md, SPRINT10_COMPLETE.md, TRAINING_EXPLAINED.md</li>
                    <li>‚úÖ <strong>Dr. Foster ML Tab:</strong> 685 lines of educational content with diagrams</li>
                </ul>

                <h3>üî¨ Technical Specifications</h3>
                <pre><code># Neural Network Training
python train_neural_network_v2.py
# Output: nfl_neural_network_v2.pkl (65.55% test accuracy)

# Flask API (6 Endpoints)
python api_server.py
# GET /api/ml/predict-week
# GET /api/ml/predict-upcoming
# POST /api/ml/predict-game
# GET /api/ml/model-info
# GET /api/ml/explain
# GET /api/ml/features

# React Frontend
cd frontend
npm start
# Navigate to: ML Predictions page (4 tabs)
# Navigate to: Historical Data page (dropdowns + table)

# Dr. Foster Dashboard
# Open: dr.foster/index.html
# Click: "ML Neural Network" tab
# View: Interactive 3D visualization + comprehensive docs</code></pre>

                <h3>üìä Performance Metrics</h3>
                <div style="background: rgba(15, 23, 42, 0.6); padding: 1.5rem; border-radius: 10px; margin: 1rem 0;">
                    <ul style="margin: 0;">
                        <li><strong>Model Accuracy:</strong> 65.55% (test set), 68.03% (validation set)</li>
                        <li><strong>Training Time:</strong> 2.7 seconds on Windows CPU</li>
                        <li><strong>Training Data:</strong> 5,477 games (1999-2023)</li>
                        <li><strong>Total Games:</strong> 14,312 records across 27 years</li>
                        <li><strong>Features:</strong> 41 engineered features (vs 75 in V1)</li>
                        <li><strong>3D Rendering:</strong> 60 FPS smooth animation</li>
                        <li><strong>React Build:</strong> 141.92 kB gzipped</li>
                        <li><strong>Documentation:</strong> 976 lines of code/docs added in Sprint 10</li>
                    </ul>
                </div>

                <h3>üéì Above and Beyond</h3>
                <ul>
                    <li><strong>Data Integrity:</strong> Identified and corrected data leakage flaw (99.8% ‚Üí 65.55%)</li>
                    <li><strong>Educational Value:</strong> Created comprehensive teaching material with V1 vs V2 comparison</li>
                    <li><strong>Visual Innovation:</strong> Interactive 3D neural network visualization (first in class)</li>
                    <li><strong>Production Quality:</strong> Weekly prediction workflow, error handling, comprehensive logging</li>
                    <li><strong>Academic Honesty:</strong> Realistic performance metrics, transparent methodology</li>
                </ul>
            </div>
        </div>

        <!-- Database Tab -->
        <div id="database" class="tab-content">
            <div class="card">
                <h2>üíæ Database Architecture</h2>
                
                <h3>üîÑ Migration Journey: SQLite ‚Üí PostgreSQL</h3>
                <div style="background: rgba(15, 23, 42, 0.6); padding: 1.5rem; border-radius: 10px; margin: 1rem 0;">
                    <p><strong>Why PostgreSQL?</strong></p>
                    <ul>
                        <li>‚úÖ <strong>Scalability:</strong> Handles concurrent connections from multiple API servers</li>
                        <li>‚úÖ <strong>ACID Compliance:</strong> Ensures data integrity during high-frequency updates</li>
                        <li>‚úÖ <strong>Advanced Features:</strong> JSONB support for flexible schema, full-text search</li>
                        <li>‚úÖ <strong>Production Ready:</strong> Industry-standard RDBMS with proven reliability</li>
                        <li>‚úÖ <strong>Concurrent Access:</strong> Multiple users can query simultaneously</li>
                    </ul>
                </div>

                <h3>üìä Current Schema (PostgreSQL) - Actual Database</h3>
                <div style="background: rgba(16, 185, 129, 0.1); padding: 1.5rem; border-radius: 10px; border-left: 4px solid #10b981; margin: 1rem 0;">
                    <p style="color: #10b981;"><strong>‚úÖ Simple, Efficient Design - 3 Tables Total</strong></p>
                    <p style="color: #cbd5e1; font-size: 0.95rem;">Optimized for the PWA application with focus on team standings and stats. Uses JSONB for flexible stat storage.</p>
                </div>

                <h3>ÔøΩÔ∏è HCL Schema - Historical Data (Weeks 5-6)</h3>
                <div style="background: rgba(236, 72, 153, 0.1); padding: 1.5rem; border-radius: 10px; border-left: 4px solid #ec4899; margin: 1rem 0;">
                    <p style="color: #ec4899;"><strong>‚úÖ PRODUCTION: 3NF Historical Analytics System (Sprints 5-8)</strong></p>
                    <p style="color: #cbd5e1; font-size: 0.95rem;">Separate <code>hcl</code> schema for advanced historical analytics using nflverse data. Stores comprehensive game-by-game data from 1999-2025 (14,312 total games) with 47+ metrics per game for recent seasons. Powers ML predictions (Sprint 9).</p>
                    
                    <div style="margin-top: 1.5rem;">
                        <h4 style="color: #ec4899;">5 Core Tables:</h4>
                        <ul style="color: #cbd5e1;">
                            <li><strong>games:</strong> Game metadata (1,126 games, 2022-2025 seasons with full stats)</li>
                            <li><strong>team_game_stats:</strong> Performance metrics per team per game (1,950 records, 47 columns)</li>
                            <li><strong>betting_lines:</strong> Historical betting odds from sportsbooks (spreads, totals, moneylines)</li>
                            <li><strong>injuries:</strong> Weekly injury reports for advanced analysis (optional)</li>
                            <li><strong>weather:</strong> Game-day weather conditions (optional)</li>
                        </ul>
                        
                        <h4 style="color: #ec4899; margin-top: 1rem;">Materialized View:</h4>
                        <ul style="color: #cbd5e1;">
                            <li><strong>v_game_matchup_display:</strong> Complete game matchup data with 47+ metrics per team, betting lines, and predictions (used by <code>/api/matchups</code>)</li>
                        </ul>
                        
                        <h4 style="color: #ec4899; margin-top: 1rem;">Data Volume:</h4>
                        <p style="color: #cbd5e1; font-size: 0.9rem;"><strong>14,312 games</strong> (1999-2025, 27 seasons) | <strong>1,126 games</strong> with full stats (2022-2025) | <strong>1,950</strong> team-game records</p>
                        
                        <h4 style="color: #ec4899; margin-top: 1rem;">ML Training Data (Sprint 9):</h4>
                        <p style="color: #cbd5e1; font-size: 0.9rem;">All 14,312 games used to train the neural network model. 41 rolling features extracted per game (no data leakage). Model achieves 65.55% test accuracy.</p>
                        
                        <h4 style="color: #ec4899; margin-top: 1rem;">47 Metrics Per Game:</h4>
                        <p style="color: #cbd5e1; font-size: 0.9rem;">EPA per play, success rate, yards per play, total yards, 3rd down conversion %, red zone efficiency, turnovers, time of possession, and more.</p>
                        
                        <h4 style="color: #ec4899; margin-top: 1.5rem;">Detailed Table Structures:</h4>
                        
                        <div style="background: rgba(30, 41, 59, 0.6); padding: 1.25rem; border-radius: 8px; margin: 0.75rem 0;">
                            <h5 style="color: #f472b6; margin-top: 0;">1. hcl.games (Game Metadata - 16 Columns)</h5>
                            <p style="color: #94a3b8; font-size: 0.9rem;">Core game information with context</p>
                            <ul style="color: #cbd5e1; font-size: 0.85rem; line-height: 1.7; column-count: 2; column-gap: 1.5rem;">
                                <li><code>game_id</code> - Unique identifier</li>
                                <li><code>season</code>, <code>week</code> - Temporal</li>
                                <li><code>game_date</code> - Timestamp</li>
                                <li><code>home_team</code>, <code>away_team</code> - Teams</li>
                                <li><code>home_score</code>, <code>away_score</code> - Scores</li>
                                <li><code>roof</code> - Dome/Outdoors/Retractable</li>
                                <li><code>surface</code> - Grass/Turf</li>
                                <li><code>temp</code>, <code>wind</code> - Weather</li>
                                <li><code>stadium</code>, <code>location</code> - Venue</li>
                            </ul>
                        </div>

                        <div style="background: rgba(30, 41, 59, 0.6); padding: 1.25rem; border-radius: 8px; margin: 0.75rem 0;">
                            <h5 style="color: #f472b6; margin-top: 0;">2. hcl.team_game_stats (Performance - 50 Columns)</h5>
                            <p style="color: #cbd5e1; font-size: 0.85rem; margin-bottom: 0.75rem;"><strong>47 Stat Metrics:</strong></p>
                            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 0.75rem;">
                                <div style="background: rgba(59, 130, 246, 0.1); padding: 0.75rem; border-radius: 6px;">
                                    <strong style="color: #60a5fa; font-size: 0.85rem;">Efficiency Metrics</strong>
                                    <ul style="font-size: 0.8rem; margin: 0.5rem 0 0 0;">
                                        <li>EPA per play (offense/defense)</li>
                                        <li>Success rate (offense/defense)</li>
                                        <li>Yards per play</li>
                                        <li>Drive success rate</li>
                                    </ul>
                                </div>
                                <div style="background: rgba(16, 185, 129, 0.1); padding: 0.75rem; border-radius: 6px;">
                                    <strong style="color: #34d399; font-size: 0.85rem;">Situational</strong>
                                    <ul style="font-size: 0.8rem; margin: 0.5rem 0 0 0;">
                                        <li>3rd down attempts/conversions/%</li>
                                        <li>Red zone attempts/scores/%</li>
                                        <li>Time of possession</li>
                                    </ul>
                                </div>
                                <div style="background: rgba(139, 92, 246, 0.1); padding: 0.75rem; border-radius: 6px;">
                                    <strong style="color: #a78bfa; font-size: 0.85rem;">Passing Stats</strong>
                                    <ul style="font-size: 0.8rem; margin: 0.5rem 0 0 0;">
                                        <li>Completions/Attempts/%</li>
                                        <li>Passing yards/TDs</li>
                                        <li>Sacks taken</li>
                                    </ul>
                                </div>
                                <div style="background: rgba(245, 158, 11, 0.1); padding: 0.75rem; border-radius: 6px;">
                                    <strong style="color: #fbbf24; font-size: 0.85rem;">Rushing & Scoring</strong>
                                    <ul style="font-size: 0.8rem; margin: 0.5rem 0 0 0;">
                                        <li>Rushing attempts/yards/avg/TDs</li>
                                        <li>FG made/attempts/%</li>
                                        <li>Turnovers, INTs, fumbles</li>
                                    </ul>
                                </div>
                            </div>
                            <p style="color: #10b981; margin-top: 0.75rem; font-size: 0.85rem;">‚úÖ Season data through Week 8: Full team statistics and game results</p>
                        </div>

                        <h4 style="color: #ec4899; margin-top: 1.5rem;">Sample Queries:</h4>
                        <div style="background: rgba(15, 23, 42, 0.8); padding: 1rem; border-radius: 8px; margin: 0.75rem 0;">
                            <p style="color: #94a3b8; font-size: 0.85rem; margin: 0 0 0.5rem 0;"><strong>Get team season stats:</strong></p>
                            <pre style="margin: 0; padding: 0.75rem; background: rgba(0, 0, 0, 0.3); border-radius: 5px; font-size: 0.75rem; overflow-x: auto;"><code>SELECT * FROM hcl.v_team_season_stats 
WHERE team = 'BAL' AND season = 2024;</code></pre>
                        </div>
                        
                        <div style="background: rgba(15, 23, 42, 0.8); padding: 1rem; border-radius: 8px; margin: 0.75rem 0;">
                            <p style="color: #94a3b8; font-size: 0.85rem; margin: 0 0 0.5rem 0;"><strong>Get game-by-game history:</strong></p>
                            <pre style="margin: 0; padding: 0.75rem; background: rgba(0, 0, 0, 0.3); border-radius: 5px; font-size: 0.75rem; overflow-x: auto;"><code>SELECT g.week, g.opponent, s.points_scored, s.epa_per_play
FROM hcl.team_game_stats s
JOIN hcl.games g ON s.game_id = g.game_id
WHERE s.team = 'KC' AND g.season = 2024
ORDER BY g.week;</code></pre>
                        </div>
                    </div>
                </div>

                <h3>ÔøΩüéì Third Normal Form (3NF) Compliance</h3>
                <div style="background: rgba(139, 92, 246, 0.1); padding: 1.5rem; border-radius: 10px; border-left: 4px solid #8b5cf6; margin: 1rem 0;">
                    <p style="color: #8b5cf6;"><strong>‚úÖ Both Schemas Follow Third Normal Form (3NF)</strong></p>
                    <div style="color: #cbd5e1; font-size: 0.95rem; margin-top: 1rem;">
                        <p><strong>What is 3NF?</strong> A database normalization standard that ensures:</p>
                        <ul style="margin: 1rem 0;">
                            <li>‚úÖ <strong>1NF (First Normal Form):</strong> All columns contain atomic (single) values</li>
                            <li>‚úÖ <strong>2NF (Second Normal Form):</strong> No partial dependencies - all non-key columns depend on the entire primary key</li>
                            <li>‚úÖ <strong>3NF (Third Normal Form):</strong> No transitive dependencies - non-key columns don't depend on other non-key columns</li>
                        </ul>
                        
                        <p style="margin-top: 1rem;"><strong>How Our Database Achieves 3NF:</strong></p>
                        <ul style="margin: 1rem 0;">
                            <li><strong>teams table:</strong> Primary key is <code>id</code>. All other columns (name, wins, losses, ppg, pa) depend directly on the team's ID, not on each other.</li>
                            <li><strong>stats_metadata table:</strong> Primary key is <code>stat_key</code>. Stat descriptions and categories depend only on the stat key itself.</li>
                            <li><strong>update_metadata table:</strong> Primary key is <code>id</code>. Timestamp depends directly on the update record ID.</li>
                            <li><strong>JSONB stats column:</strong> Treated as a single complex value - doesn't create dependencies between table columns, so it doesn't violate 3NF.</li>
                        </ul>
                        
                        <p style="margin-top: 1rem; color: #10b981;"><strong>‚úÖ Result:</strong> No data redundancy, efficient storage, fast queries, and easy maintenance!</p>
                        
                        <div style="background: rgba(30, 41, 59, 0.5); padding: 1rem; border-radius: 8px; margin-top: 1rem;">
                            <p style="color: #94a3b8; font-size: 0.9rem; margin: 0;"><strong>üìö Additional Details:</strong> See <code>DATABASE_3NF_ANALYSIS.md</code> for complete normalization analysis, entity-relationship diagrams, and detailed table structure documentation.</p>
                        </div>
                    </div>
                </div>

                <div class="chart-container">
                    <canvas id="schema-chart"></canvas>
                </div>

                <h3>üóÉÔ∏è Database Tables (<span id="tables-count">3</span> Total)</h3>
                
                <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem; margin: 1.5rem 0;">
                    <div style="background: rgba(59, 130, 246, 0.15); padding: 1rem; border-radius: 8px; text-align: center;">
                        <div style="font-size: 2rem; font-weight: 700; color: #3b82f6;"><span id="tables-count-display">3</span></div>
                        <div style="font-size: 0.9rem; color: #94a3b8;">Tables</div>
                    </div>
                    <div style="background: rgba(139, 92, 246, 0.15); padding: 1rem; border-radius: 8px; text-align: center;">
                        <div style="font-size: 2rem; font-weight: 700; color: #8b5cf6;"><span id="columns-count">20</span></div>
                        <div style="font-size: 0.9rem; color: #94a3b8;">Total Columns</div>
                    </div>
                    <div style="background: rgba(6, 182, 212, 0.15); padding: 1rem; border-radius: 8px; text-align: center;">
                        <div style="font-size: 2rem; font-weight: 700; color: #06b6d4;"><span id="records-count">50</span></div>
                        <div style="font-size: 0.9rem; color: #94a3b8;">Total Records</div>
                    </div>
                </div>
                
                <div style="background: rgba(30, 41, 59, 0.6); padding: 1.5rem; border-radius: 10px; margin: 1rem 0;">
                    <h4 style="color: #3b82f6;">1. teams (Primary Data Table)</h4>
                    <p style="color: #94a3b8; font-size: 0.9rem;"><strong>Records:</strong> 32 NFL teams | <strong>Columns:</strong> 11</p>
                    <ul style="color: #cbd5e1; font-size: 0.95rem;">
                        <li><code>id</code> (integer) - Primary key</li>
                        <li><code>name</code> (text) - Full team name (e.g., "Buffalo Bills")</li>
                        <li><code>abbreviation</code> (text) - Team code (e.g., "BUF")</li>
                        <li><code>wins</code> (integer) - Total wins this season</li>
                        <li><code>losses</code> (integer) - Total losses this season</li>
                        <li><code>ties</code> (integer) - Total ties this season</li>
                        <li><code>ppg</code> (real) - Points per game (offense)</li>
                        <li><code>pa</code> (real) - Points allowed (defense)</li>
                        <li><code>games_played</code> (integer) - Total games played</li>
                        <li><code>stats</code> (jsonb) - Flexible JSON storage for additional stats</li>
                        <li><code>last_updated</code> (timestamp) - Last data refresh</li>
                    </ul>
                    <p style="color: #10b981; margin-top: 0.5rem;">‚úÖ <strong>Status:</strong> All 32 teams loaded with current 2025 season data (through Week 10)</p>
                </div>

                <div style="background: rgba(30, 41, 59, 0.6); padding: 1.5rem; border-radius: 10px; margin: 1rem 0;">
                    <h4 style="color: #8b5cf6;">2. stats_metadata (Stat Type Definitions)</h4>
                    <p style="color: #94a3b8; font-size: 0.9rem;"><strong>Records:</strong> 9 stat definitions | <strong>Columns:</strong> 7</p>
                    <ul style="color: #cbd5e1; font-size: 0.95rem;">
                        <li><code>stat_key</code> (varchar) - Primary key, unique identifier (e.g., "offense.points_per_game")</li>
                        <li><code>stat_name</code> (varchar) - Human-readable name (e.g., "Points Per Game")</li>
                        <li><code>category</code> (varchar) - Grouping (offense, defense, record)</li>
                        <li><code>data_type</code> (varchar) - Data type (integer, float, text)</li>
                        <li><code>description</code> (text) - Full explanation of the stat</li>
                        <li><code>source</code> (varchar) - Data source (ESPN, TeamRankings, Calculated)</li>
                        <li><code>last_updated</code> (timestamp) - When definition was updated</li>
                    </ul>
                    <p style="color: #10b981; margin-top: 0.5rem;">‚úÖ <strong>Purpose:</strong> Documents all available statistics for dynamic stat selection</p>
                </div>

                <div style="background: rgba(30, 41, 59, 0.6); padding: 1.5rem; border-radius: 10px; margin: 1rem 0;">
                    <h4 style="color: #06b6d4;">3. update_metadata (Data Refresh Tracking)</h4>
                    <p style="color: #94a3b8; font-size: 0.9rem;"><strong>Records:</strong> 9 update logs | <strong>Columns:</strong> 2</p>
                    <ul style="color: #cbd5e1; font-size: 0.95rem;">
                        <li><code>id</code> (integer) - Primary key, auto-incrementing</li>
                        <li><code>last_update</code> (timestamp) - When data refresh occurred</li>
                    </ul>
                    <p style="color: #10b981; margin-top: 0.5rem;">‚úÖ <strong>Purpose:</strong> Tracks API refresh times to prevent excessive API calls</p>
                </div>

                <h3>üìà Current Data Status (Nov 11, 2025 - Week 8)</h3>
                <ul>
                    <li>‚úÖ <strong>32 NFL Teams:</strong> Complete 2025 season data through Week 10</li>
                    <li>‚úÖ <strong>HCL Historical Data:</strong> 14,312 games (1999-2025), 1,126 games with full stats (2022-2025)</li>
                    <li>‚úÖ <strong>ML Neural Network:</strong> Trained on all historical data, 65.55% test accuracy</li>
                    <li>‚úÖ <strong>Win/Loss Records:</strong> All teams current</li>
                    <li>‚úÖ <strong>Points Stats:</strong> PPG and PA for all 32 teams</li>
                    <li>‚úÖ <strong>JSONB Stats:</strong> Flexible storage for additional metrics</li>
                    <li>‚úÖ <strong>Betting Lines:</strong> Historical odds data integrated for predictions</li>
                </ul>

                <h3>üîó Database Connection Code</h3>
                <pre><code>import psycopg2
from db_config import DATABASE_CONFIG

def get_db_connection():
    return psycopg2.connect(**DATABASE_CONFIG)

# Query all teams
cursor = conn.cursor()
cursor.execute("SELECT * FROM teams ORDER BY name")
teams = cursor.fetchall()

# Result: 32 NFL teams with complete data</code></pre>

                <h3>üí° Design Philosophy</h3>
                <div style="background: rgba(59, 130, 246, 0.1); padding: 1.5rem; border-radius: 10px; border-left: 4px solid #3b82f6; margin: 1rem 0;">
                    <p style="color: #cbd5e1;"><strong>Keep It Simple, Keep It Working</strong></p>
                    <ul style="color: #94a3b8; font-size: 0.95rem;">
                        <li>‚úÖ <strong>Single Source of Truth:</strong> One teams table with all essential data</li>
                        <li>‚úÖ <strong>Third Normal Form (3NF):</strong> Properly normalized with no data redundancy or transitive dependencies</li>
                        <li>‚úÖ <strong>JSONB Flexibility:</strong> Additional stats stored as JSON without schema changes</li>
                        <li>‚úÖ <strong>Fast Queries:</strong> Simple structure = faster API responses</li>
                        <li>‚úÖ <strong>Easy Maintenance:</strong> Minimal tables = easier to manage and backup</li>
                        <li>‚úÖ <strong>Scalable:</strong> Can add tables as needed (games, injuries, etc.) in future</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Analytics Tab -->
        <div id="analytics" class="tab-content">
            <div class="card">
                <h2>ü§ñ Advanced Analytics & Machine Learning (Sprints 7-10)</h2>
                <p style="color: #94a3b8; margin-bottom: 1.5rem;">
                    Production-ready analytics platform combining 27 seasons of historical data, neural network predictions, and real-time visualizations.
                </p>

                <!-- ML Neural Network Section (Sprint 9) -->
                <h3 style="color: #10b981;">üß† Neural Network Prediction System (Sprint 9 - Nov 6, 2025)</h3>
                <div style="background: linear-gradient(135deg, rgba(16, 185, 129, 0.15), rgba(5, 150, 105, 0.15)); padding: 2rem; border-radius: 12px; border: 2px solid rgba(16, 185, 129, 0.3); margin-bottom: 2rem;">
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem;">
                        <div>
                            <h4 style="color: #10b981; margin-bottom: 1rem;">üìä Model Architecture</h4>
                            <ul style="color: #cbd5e1; line-height: 1.8;">
                                <li><strong>Framework:</strong> TensorFlow 2.18.0</li>
                                <li><strong>Architecture:</strong> 41 ‚Üí 128 ‚Üí 64 ‚Üí 32 ‚Üí 1</li>
                                <li><strong>Activation:</strong> ReLU (hidden), Sigmoid (output)</li>
                                <li><strong>Optimizer:</strong> Adam (lr=0.001)</li>
                                <li><strong>Loss Function:</strong> Binary Crossentropy</li>
                                <li><strong>Training Epochs:</strong> 50</li>
                            </ul>
                        </div>
                        <div>
                            <h4 style="color: #10b981; margin-bottom: 1rem;">üìà Performance Metrics</h4>
                            <ul style="color: #cbd5e1; line-height: 1.8;">
                                <li><strong>Test Accuracy:</strong> <span style="color: #10b981; font-weight: bold;">65.55%</span></li>
                                <li><strong>Training Data:</strong> 14,312 games (1999-2025)</li>
                                <li><strong>Features:</strong> 41 rolling metrics per game</li>
                                <li><strong>Data Split:</strong> 80% train, 20% test</li>
                                <li><strong>No Data Leakage:</strong> Rolling stats only use past games</li>
                            </ul>
                        </div>
                        <div>
                            <h4 style="color: #10b981; margin-bottom: 1rem;">üéØ Feature Engineering</h4>
                            <ul style="color: #cbd5e1; line-height: 1.8; font-size: 0.9rem;">
                                <li>Rolling averages (3-game, 5-game)</li>
                                <li>EPA offense/defense per play</li>
                                <li>Success rates, explosive plays</li>
                                <li>Third down & red zone efficiency</li>
                                <li>Passing/rushing yards per attempt</li>
                                <li>Turnover differential</li>
                                <li>Rest days between games</li>
                                <li>Home field advantage</li>
                            </ul>
                        </div>
                    </div>
                    <div style="background: rgba(15, 23, 42, 0.6); padding: 1.5rem; border-radius: 10px; margin-top: 1.5rem;">
                        <p style="color: #cbd5e1; margin: 0;">
                            <strong style="color: #10b981;">‚úÖ Production Status:</strong> Model deployed and integrated with matchup API. Predictions visible in dashboard matchup cards with confidence percentages. Model outperforms baseline (50%) and Vegas spread accuracy benchmarks.
                        </p>
                    </div>
                </div>

                <!-- Historical Data Analytics (Sprints 5-8) -->
                <h3 style="color: #8b5cf6;">üìö Historical Data Platform (Sprints 5-8)</h3>
                <div style="background: linear-gradient(135deg, rgba(139, 92, 246, 0.15), rgba(124, 58, 237, 0.15)); padding: 2rem; border-radius: 12px; border: 2px solid rgba(139, 92, 246, 0.3); margin-bottom: 2rem;">
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1.5rem;">
                        <div style="background: rgba(15, 23, 42, 0.6); padding: 1.5rem; border-radius: 10px;">
                            <h4 style="color: #8b5cf6; margin-bottom: 1rem;">üíæ Data Volume</h4>
                            <div style="font-size: 2.5rem; color: #8b5cf6; font-weight: bold; margin: 0.5rem 0;">14,312</div>
                            <p style="color: #94a3b8; margin: 0;">Total games (1999-2025, 27 seasons)</p>
                            <div style="font-size: 1.5rem; color: #a78bfa; font-weight: bold; margin: 1rem 0 0.5rem 0;">1,126</div>
                            <p style="color: #94a3b8; margin: 0;">Games with full 47-stat columns (2022-2025)</p>
                            <div style="font-size: 1.5rem; color: #c4b5fd; font-weight: bold; margin: 1rem 0 0.5rem 0;">1,950</div>
                            <p style="color: #94a3b8; margin: 0;">Team-game statistical records</p>
                        </div>
                        <div style="background: rgba(15, 23, 42, 0.6); padding: 1.5rem; border-radius: 10px;">
                            <h4 style="color: #8b5cf6; margin-bottom: 1rem;">üìä Statistical Metrics</h4>
                            <ul style="color: #cbd5e1; line-height: 1.8; font-size: 0.95rem;">
                                <li><strong>47 columns</strong> per team-game record</li>
                                <li><strong>EPA:</strong> Expected Points Added (offense/defense)</li>
                                <li><strong>Success Rate:</strong> Play-by-play efficiency</li>
                                <li><strong>Explosive Plays:</strong> Big gains tracked</li>
                                <li><strong>Situational Stats:</strong> 3rd down, red zone, goal-to-go</li>
                                <li><strong>Yards Per Play/Attempt:</strong> Efficiency metrics</li>
                                <li><strong>Turnovers:</strong> TO differential tracking</li>
                                <li><strong>Time of Possession:</strong> Game control metrics</li>
                            </ul>
                        </div>
                        <div style="background: rgba(15, 23, 42, 0.6); padding: 1.5rem; border-radius: 10px;">
                            <h4 style="color: #8b5cf6; margin-bottom: 1rem;">üóÑÔ∏è Database Schema</h4>
                            <ul style="color: #cbd5e1; line-height: 1.8; font-size: 0.95rem;">
                                <li><strong>5 Core Tables:</strong>
                                    <ul style="margin-top: 0.5rem; margin-left: 1rem;">
                                        <li>games (metadata)</li>
                                        <li>team_game_stats (47 metrics)</li>
                                        <li>betting_lines (odds data)</li>
                                        <li>injuries (optional)</li>
                                        <li>weather (optional)</li>
                                    </ul>
                                </li>
                                <li style="margin-top: 0.5rem;"><strong>Materialized View:</strong> v_game_matchup_display</li>
                                <li><strong>API Endpoint:</strong> <code>/api/matchups</code></li>
                                <li><strong>3NF Normalized:</strong> No data redundancy</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Interactive Visualizations (Sprint 7-8) -->
                <h3 style="color: #ec4899;">üìä Interactive Chart Visualizations (Sprints 7-8)</h3>
                <div style="background: linear-gradient(135deg, rgba(236, 72, 153, 0.15), rgba(219, 39, 119, 0.15)); padding: 2rem; border-radius: 12px; border: 2px solid rgba(236, 72, 153, 0.3); margin-bottom: 2rem;">
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem;">
                        <div>
                            <h4 style="color: #ec4899; margin-bottom: 1rem;">üìà Team Detail Pages</h4>
                            <ul style="color: #cbd5e1; line-height: 1.8;">
                                <li><strong>Chart.js 4.4.0:</strong> Multi-line trend charts</li>
                                <li><strong>8 Selectable Stats:</strong> Toggle visibility</li>
                                <li><strong>Dark Theme:</strong> Matches dashboard aesthetic</li>
                                <li><strong>Dynamic Loading:</strong> Real-time HCL API data</li>
                                <li><strong>Route:</strong> <code>/team/&lt;ABBR&gt;</code></li>
                            </ul>
                        </div>
                        <div>
                            <h4 style="color: #ec4899; margin-bottom: 1rem;">üéÆ Interactive Features</h4>
                            <ul style="color: #cbd5e1; line-height: 1.8;">
                                <li><strong>Checkboxes:</strong> Show/hide stat lines</li>
                                <li><strong>Tooltips:</strong> Hover for exact values</li>
                                <li><strong>Legend:</strong> Color-coded metrics</li>
                                <li><strong>Game Tables:</strong> Week-by-week breakdown</li>
                                <li><strong>Responsive:</strong> Mobile-friendly design</li>
                            </ul>
                        </div>
                        <div>
                            <h4 style="color: #ec4899; margin-bottom: 1rem;">üìä Available Metrics</h4>
                            <ul style="color: #cbd5e1; line-height: 1.8; font-size: 0.9rem;">
                                <li>Points Per Game (PPG)</li>
                                <li>EPA (Expected Points Added)</li>
                                <li>Success Rate %</li>
                                <li>Yards Per Play (YPP)</li>
                                <li>Third Down %</li>
                                <li>Red Zone %</li>
                                <li>Total Yards</li>
                                <li>Time of Possession</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- 3D Visualization (Sprint 10) -->
                <h3 style="color: #3b82f6;">üåê 3D Historical Data Visualization (Sprint 10 - Nov 7-11, 2025)</h3>
                <div style="background: linear-gradient(135deg, rgba(59, 130, 246, 0.15), rgba(37, 99, 235, 0.15)); padding: 2rem; border-radius: 12px; border: 2px solid rgba(59, 130, 246, 0.3); margin-bottom: 2rem;">
                    <p style="color: #cbd5e1; margin-bottom: 1.5rem;">
                        Interactive Three.js visualization of 27 seasons of NFL data, combining historical trends with neural network predictions.
                    </p>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem;">
                        <div>
                            <h4 style="color: #3b82f6; margin-bottom: 1rem;">üé® Visual Components</h4>
                            <ul style="color: #cbd5e1; line-height: 1.8;">
                                <li><strong>Three.js r128:</strong> WebGL 3D rendering</li>
                                <li><strong>32 Team Spheres:</strong> Conference-colored nodes</li>
                                <li><strong>Connections:</strong> Lines show game relationships</li>
                                <li><strong>Camera Controls:</strong> OrbitControls for navigation</li>
                                <li><strong>Animations:</strong> Smooth rotation & zoom</li>
                            </ul>
                        </div>
                        <div>
                            <h4 style="color: #3b82f6; margin-bottom: 1rem;">üìä Data Integration</h4>
                            <ul style="color: #cbd5e1; line-height: 1.8;">
                                <li><strong>HCL Database:</strong> 14,312 historical games</li>
                                <li><strong>ML Predictions:</strong> Neural network confidence</li>
                                <li><strong>Real-time Stats:</strong> Current season data</li>
                                <li><strong>Color Coding:</strong> AFC (red) vs NFC (blue)</li>
                                <li><strong>Interactive:</strong> Click teams for details</li>
                            </ul>
                        </div>
                        <div>
                            <h4 style="color: #3b82f6; margin-bottom: 1rem;">‚ö° Performance</h4>
                            <ul style="color: #cbd5e1; line-height: 1.8;">
                                <li><strong>60 FPS:</strong> Smooth rendering</li>
                                <li><strong>WebGL:</strong> Hardware acceleration</li>
                                <li><strong>Responsive:</strong> Auto-resize on window change</li>
                                <li><strong>Memory Efficient:</strong> Optimized geometry</li>
                                <li><strong>Tab Integration:</strong> Dedicated 3D Architecture tab</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Technology Stack Summary -->
                <h3>üõ†Ô∏è Complete Analytics Technology Stack</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem; margin: 1rem 0;">
                    <div style="background: rgba(16, 185, 129, 0.1); padding: 1rem; border-radius: 8px; border-left: 4px solid #10b981;">
                        <div style="color: #10b981; font-weight: bold; margin-bottom: 0.5rem;">üß† Machine Learning</div>
                        <ul style="color: #cbd5e1; font-size: 0.9rem; line-height: 1.6;">
                            <li>TensorFlow 2.18.0</li>
                            <li>Keras Sequential API</li>
                            <li>NumPy, Pandas</li>
                            <li>Scikit-learn</li>
                        </ul>
                    </div>
                    <div style="background: rgba(139, 92, 246, 0.1); padding: 1rem; border-radius: 8px; border-left: 4px solid #8b5cf6;">
                        <div style="color: #8b5cf6; font-weight: bold; margin-bottom: 0.5rem;">üíæ Data Storage</div>
                        <ul style="color: #cbd5e1; font-size: 0.9rem; line-height: 1.6;">
                            <li>PostgreSQL 18</li>
                            <li>HCL Schema (3NF)</li>
                            <li>Materialized Views</li>
                            <li>14,312 game records</li>
                        </ul>
                    </div>
                    <div style="background: rgba(236, 72, 153, 0.1); padding: 1rem; border-radius: 8px; border-left: 4px solid #ec4899;">
                        <div style="color: #ec4899; font-weight: bold; margin-bottom: 0.5rem;">üìä Visualization</div>
                        <ul style="color: #cbd5e1; font-size: 0.9rem; line-height: 1.6;">
                            <li>Chart.js 4.4.0</li>
                            <li>Three.js r128</li>
                            <li>React 18</li>
                            <li>Mermaid Diagrams</li>
                        </ul>
                    </div>
                    <div style="background: rgba(59, 130, 246, 0.1); padding: 1rem; border-radius: 8px; border-left: 4px solid #3b82f6;">
                        <div style="color: #3b82f6; font-weight: bold; margin-bottom: 0.5rem;">üîå API & Backend</div>
                        <ul style="color: #cbd5e1; font-size: 0.9rem; line-height: 1.6;">
                            <li>Flask Python</li>
                            <li>RESTful APIs</li>
                            <li>nflverse data source</li>
                            <li>Real-time updates</li>
                        </ul>
                    </div>
                </div>

                <!-- Production Deployment Status -->
                <h3 style="margin-top: 2rem;">üöÄ Production Status (Nov 11, 2025)</h3>
                <div style="background: rgba(16, 185, 129, 0.1); padding: 1.5rem; border-radius: 10px; border-left: 4px solid #10b981;">
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">
                        <div>
                            <div style="color: #10b981; font-size: 1.2rem; font-weight: bold;">‚úÖ ML Model</div>
                            <p style="color: #94a3b8; font-size: 0.9rem; margin: 0.5rem 0 0 0;">Deployed & predicting</p>
                        </div>
                        <div>
                            <div style="color: #10b981; font-size: 1.2rem; font-weight: bold;">‚úÖ HCL Database</div>
                            <p style="color: #94a3b8; font-size: 0.9rem; margin: 0.5rem 0 0 0;">27 seasons loaded</p>
                        </div>
                        <div>
                            <div style="color: #10b981; font-size: 1.2rem; font-weight: bold;">‚úÖ 3D Visualization</div>
                            <p style="color: #94a3b8; font-size: 0.9rem; margin: 0.5rem 0 0 0;">Interactive & live</p>
                        </div>
                        <div>
                            <div style="color: #10b981; font-size: 1.2rem; font-weight: bold;">‚úÖ Chart Analytics</div>
                            <p style="color: #94a3b8; font-size: 0.9rem; margin: 0.5rem 0 0 0;">All 32 teams ready</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Mermaid Database Diagrams Tab -->
        <div id="mermaid" class="tab-content">
            <div class="card">
                <h2>üìä Database Architecture Diagrams</h2>
                <p style="color: #cbd5e1; margin-bottom: 2rem;">
                    Interactive Mermaid diagrams showing the complete database evolution from SQLite to PostgreSQL with HCL Schema.
                </p>

                <!-- SQLite Schema (Weeks 1-2) -->
                <h3 style="margin-top: 2rem;">üóÑÔ∏è SQLite Schema (Weeks 1-2)</h3>
                <div style="background: rgba(59, 130, 246, 0.1); padding: 1.5rem; border-radius: 10px; margin: 1rem 0;">
                    <pre class="mermaid">
erDiagram
    TEAMS {
        int id PK
        string name
        string abbreviation
        string division
        string conference
    }
    
    GAMES {
        int id PK
        int home_team_id FK
        int away_team_id FK
        int home_score
        int away_score
        date game_date
        string status
    }
    
    PREDICTIONS {
        int id PK
        int game_id FK
        int predicted_winner_id FK
        float confidence
        datetime created_at
    }
    
    TEAMS ||--o{ GAMES : "home_team"
    TEAMS ||--o{ GAMES : "away_team"
    GAMES ||--o{ PREDICTIONS : "predicts"
    TEAMS ||--o{ PREDICTIONS : "predicted_winner"
                    </pre>
                    <p style="color: #94a3b8; margin-top: 1rem;">
                        <strong>Initial Design:</strong> Simple 3-table schema for machine learning predictions with basic team and game data.
                    </p>
                </div>

                <!-- PostgreSQL Schema (Weeks 3-4) -->
                <h3 style="margin-top: 2rem;">üêò PostgreSQL Schema (Weeks 3-4)</h3>
                <div style="background: rgba(16, 185, 129, 0.1); padding: 1.5rem; border-radius: 10px; margin: 1rem 0;">
                    <pre class="mermaid">
erDiagram
    TEAMS {
        serial id PK
        varchar name
        varchar abbreviation
        varchar division
        varchar conference
        int wins
        int losses
        int ties
        decimal points_for
        decimal points_against
        int games_played
        timestamp last_updated
    }
    
    TEAMS ||--o{ STANDINGS : "team_stats"
    
    STANDINGS {
        serial id PK
        int team_id FK
        int rank
        decimal win_percentage
        varchar streak
        int home_wins
        int home_losses
        int away_wins
        int away_losses
        timestamp last_updated
    }
                    </pre>
                    <p style="color: #94a3b8; margin-top: 1rem;">
                        <strong>Production Schema:</strong> Expanded to 11-column teams table with real-time standings tracking. Live ESPN API integration (later replaced by nflverse).
                    </p>
                </div>

                <!-- HCL Schema (Weeks 5-8) -->
                <h3 style="margin-top: 2rem;">‚ö° HCL Schema - Historical Data System (Sprints 5-8, Production)</h3>
                <div style="background: rgba(245, 158, 11, 0.1); padding: 1.5rem; border-radius: 10px; margin: 1rem 0;">
                    <pre class="mermaid">
erDiagram
    GAMES {
        serial game_id PK
        int season
        int week
        varchar home_team FK
        varchar away_team FK
        int home_score
        int away_score
        date game_date
        varchar game_type
    }
    
    TEAM_GAME_STATS {
        serial id PK
        int game_id FK
        varchar team FK
        varchar opponent FK
        boolean is_home
        decimal epa_offense
        decimal epa_defense
        decimal success_rate_off
        decimal success_rate_def
        decimal explosive_plays
        decimal third_down_pct
        decimal red_zone_pct
        decimal yards_per_play
        decimal turnover_diff
        text plus_37_more_columns
    }
    
    BETTING_LINES {
        serial id PK
        int game_id FK
        decimal spread_line
        varchar spread_favorite
        decimal total_line
        decimal home_moneyline
        decimal away_moneyline
    }
    
    INJURIES {
        serial id PK
        varchar team FK
        int season
        int week
        varchar player_name
        varchar injury_status
    }
    
    WEATHER {
        serial id PK
        int game_id FK
        int temperature
        int wind_speed
        varchar precipitation
    }
    
    GAMES ||--o{ TEAM_GAME_STATS : "has_stats"
    GAMES ||--o{ BETTING_LINES : "has_odds"
    GAMES ||--o{ WEATHER : "has_conditions"
                    </pre>
                    <p style="color: #94a3b8; margin-top: 1rem;">
                        <strong>Production Architecture (Sprints 5-8):</strong> 3NF normalized HCL schema with 5 core tables. Stores <strong>14,312 games</strong> (1999-2025, 27 seasons) with <strong>1,950 team-game records</strong> containing 47 statistical metrics. Powers ML neural network predictions and historical analytics.
                    </p>
                    <ul style="color: #cbd5e1; margin-left: 2rem; line-height: 1.8; margin-top: 1rem;">
                        <li><strong>games:</strong> 1,126 games with full stats (2022-2025), 14,312 total games (1999-2025)</li>
                        <li><strong>team_game_stats:</strong> 1,950 records with 47 columns per team-game (EPA, success rate, explosive plays, etc.)</li>
                        <li><strong>betting_lines:</strong> Historical odds data from sportsbooks (spreads, totals, moneylines)</li>
                        <li><strong>injuries:</strong> Weekly injury reports for advanced analysis (optional)</li>
                        <li><strong>weather:</strong> Game-day weather conditions (optional)</li>
                    </ul>
                </div>

                <!-- HCL Materialized View -->
                <h3 style="margin-top: 2rem;">üëÅÔ∏è HCL Materialized View (Sprint 8)</h3>
                <div style="background: rgba(139, 92, 246, 0.1); padding: 1.5rem; border-radius: 10px; margin: 1rem 0;">
                    <pre class="mermaid">
graph LR
    A[games] --> D[v_game_matchup_display]
    B[team_game_stats] --> D
    C[betting_lines] --> D
    
    D --> E[Matchup API Endpoint]
    E --> F[Dashboard Cards]
    E --> G[ML Predictions]
    
    style A fill:#3b82f6,stroke:#1e40af,color:#fff
    style B fill:#10b981,stroke:#059669,color:#fff
    style C fill:#f59e0b,stroke:#d97706,color:#fff
    style D fill:#8b5cf6,stroke:#6d28d9,color:#fff
    style E fill:#ec4899,stroke:#db2777,color:#fff
    style F fill:#06b6d4,stroke:#0891b2,color:#fff
    style G fill:#84cc16,stroke:#65a30d,color:#fff
                    </pre>
                    <p style="color: #94a3b8; margin-top: 1rem;">
                        <strong>Materialized View Layer:</strong> <code>v_game_matchup_display</code> joins games, team_game_stats (47+ metrics per team), and betting_lines for efficient API queries.
                    </p>
                    <ul style="color: #cbd5e1; margin-left: 2rem; line-height: 1.8;">
                        <li><strong>v_game_matchup_display:</strong> Complete matchup data with home/away team stats, betting lines, and predictions</li>
                        <li><strong>API Endpoint:</strong> <code>/api/matchups</code> serves all matchup data to dashboard</li>
                        <li><strong>ML Integration:</strong> Neural network uses 41 rolling features from this view for predictions</li>
                        <li><strong>Performance:</strong> Materialized for fast query response times</li>
                    </ul>
                </div>

                <!-- Data Flow Architecture -->
                <h3 style="margin-top: 2rem;">üîÑ Complete Data Flow Architecture (Production - Sprint 10)</h3>
                <div style="background: rgba(236, 72, 153, 0.1); padding: 1.5rem; border-radius: 10px; margin: 1rem 0;">
                    <pre class="mermaid">
flowchart TD
    A[nflverse Package] --> B[Database Loader]
    B --> C[PostgreSQL HCL Schema]
    C --> D[games table]
    C --> E[team_game_stats]
    C --> F[betting_lines]
    C --> G[injuries]
    C --> H[weather]
    
    D --> I[Materialized View]
    E --> I
    F --> I
    
    I --> J[Flask API]
    
    J --> K[Dashboard Cards]
    J --> L[ML Neural Network]
    
    L --> M[Win Predictions]
    M --> K
    
    E --> N[Team Detail Pages]
    N --> O[Chart.js Charts]
    
    I --> P[3D Visualization]
    P --> Q[Interactive Network]
    
    style A fill:#8b5cf6,stroke:#6d28d9,color:#fff
    style B fill:#3b82f6,stroke:#1e40af,color:#fff
    style C fill:#10b981,stroke:#059669,color:#fff
    style D fill:#f59e0b,stroke:#d97706,color:#000
    style E fill:#f59e0b,stroke:#d97706,color:#000
    style F fill:#f59e0b,stroke:#d97706,color:#000
    style G fill:#94a3b8,stroke:#64748b,color:#fff
    style H fill:#94a3b8,stroke:#64748b,color:#fff
    style I fill:#06b6d4,stroke:#0891b2,color:#fff
    style J fill:#ec4899,stroke:#db2777,color:#fff
    style K fill:#f97316,stroke:#ea580c,color:#fff
    style L fill:#84cc16,stroke:#65a30d,color:#fff
    style M fill:#a3e635,stroke:#84cc16,color:#000
    style N fill:#f97316,stroke:#ea580c,color:#fff
    style O fill:#fbbf24,stroke:#f59e0b,color:#000
    style P fill:#60a5fa,stroke:#3b82f6,color:#fff
    style Q fill:#93c5fd,stroke:#60a5fa,color:#000
                    </pre>
                    <p style="color: #94a3b8; margin-top: 1rem;">
                        <strong>Full Stack Production Pipeline:</strong> From nflverse data source through HCL schema (5 tables + materialized view), REST APIs, ML predictions, React components, to Chart.js & Three.js visualizations.
                    </p>
                    <ul style="color: #cbd5e1; margin-left: 2rem; line-height: 1.8; margin-top: 1rem;">
                        <li><strong>Data Source:</strong> nflverse Python package (27 seasons, 1999-2025)</li>
                        <li><strong>Storage:</strong> PostgreSQL 18 with HCL schema (3NF normalized) - 14,312 games, 1,950 team-game records</li>
                        <li><strong>ML Layer:</strong> TensorFlow 2.18.0 neural network trained on all historical games (65.55% accuracy)</li>
                        <li><strong>API:</strong> Flask RESTful endpoints (/api/matchups, /api/teams, /team/:abbr)</li>
                        <li><strong>Frontend:</strong> React 18 with Chart.js 4.4.0 and Three.js r128 visualizations</li>
                    </ul>
                </div>

                <!-- REST API Endpoints -->
                <h3 style="margin-top: 2rem;">üîå REST API Endpoint Structure (Production)</h3>
                <div style="background: rgba(6, 182, 212, 0.1); padding: 1.5rem; border-radius: 10px; margin: 1rem 0;">
                    <pre class="mermaid">
graph TD
    A[Flask API Server] --> B[Matchups Endpoint]
    A --> C[Teams Endpoint]
    A --> D[Team Detail Endpoint]
    
    B --> E[Matchup View]
    C --> F[Teams Table]
    D --> G[Game Stats]
    
    E --> H[Dashboard Cards]
    E --> I[ML Network Input]
    
    I --> J[TensorFlow Model]
    J --> H
    
    F --> K[Team List View]
    G --> L[Chart Visualizations]
    
    H --> M[3D Visualization]
    
    style A fill:#ef4444,stroke:#dc2626,color:#fff
    style B fill:#3b82f6,stroke:#1e40af,color:#fff
    style C fill:#3b82f6,stroke:#1e40af,color:#fff
    style D fill:#3b82f6,stroke:#1e40af,color:#fff
    style E fill:#10b981,stroke:#059669,color:#fff
    style F fill:#10b981,stroke:#059669,color:#fff
    style G fill:#10b981,stroke:#059669,color:#fff
    style H fill:#f59e0b,stroke:#d97706,color:#000
    style I fill:#84cc16,stroke:#65a30d,color:#fff
    style J fill:#a3e635,stroke:#84cc16,color:#000
    style K fill:#f59e0b,stroke:#d97706,color:#000
    style L fill:#ec4899,stroke:#db2777,color:#fff
    style M fill:#60a5fa,stroke:#3b82f6,color:#fff
                    </pre>
                    <p style="color: #94a3b8; margin-top: 1rem;">
                        <strong>3-Tier Production Architecture:</strong> Flask endpoints ‚Üí PostgreSQL views/tables ‚Üí React visualization components with ML predictions.
                    </p>
                    <ul style="color: #cbd5e1; margin-left: 2rem; line-height: 1.8; margin-top: 1rem;">
                        <li><strong>/api/matchups:</strong> Serves complete matchup data from v_game_matchup_display (games + team_game_stats + betting_lines)</li>
                        <li><strong>/api/teams:</strong> Returns all 32 NFL teams with current season stats (W/L, PPG, PA)</li>
                        <li><strong>/team/:abbr:</strong> Team-specific endpoint for detail pages with 47 statistical metrics per game</li>
                        <li><strong>ML Integration:</strong> Neural network processes matchup data to generate win probability predictions (65.55% accuracy)</li>
                    </ul>
                </div>

                <!-- ML Neural Network Architecture -->
                <h3 style="margin-top: 2rem;">üß† ML Neural Network Architecture (Sprint 9)</h3>
                <div style="background: rgba(16, 185, 129, 0.1); padding: 1.5rem; border-radius: 10px; margin: 1rem 0;">
                    <pre class="mermaid">
graph LR
    A[Historical Data] --> B[Feature Engineering]
    B --> C[Input Layer 41]
    C --> D[Hidden Layer 128]
    D --> E[Hidden Layer 64]
    E --> F[Hidden Layer 32]
    F --> G[Output Layer 1]
    G --> H[Win Probability]
    
    H --> I[Dashboard]
    
    style A fill:#8b5cf6,stroke:#6d28d9,color:#fff
    style B fill:#3b82f6,stroke:#1e40af,color:#fff
    style C fill:#10b981,stroke:#059669,color:#fff
    style D fill:#f59e0b,stroke:#d97706,color:#000
    style E fill:#f59e0b,stroke:#d97706,color:#000
    style F fill:#f59e0b,stroke:#d97706,color:#000
    style G fill:#ec4899,stroke:#db2777,color:#fff
    style H fill:#84cc16,stroke:#65a30d,color:#fff
    style I fill:#06b6d4,stroke:#0891b2,color:#fff
                    </pre>
                    <p style="color: #94a3b8; margin-top: 1rem;">
                        <strong>TensorFlow 2.18.0 Neural Network:</strong> Deep learning model trained on 27 seasons of NFL data with rolling feature engineering.
                    </p>
                    <ul style="color: #cbd5e1; margin-left: 2rem; line-height: 1.8; margin-top: 1rem;">
                        <li><strong>Training Data:</strong> 14,312 games from 1999-2025 (27 seasons)</li>
                        <li><strong>Features:</strong> 41 rolling metrics per game (EPA, success rate, explosive plays, situational stats)</li>
                        <li><strong>Architecture:</strong> 41 ‚Üí 128 ‚Üí 64 ‚Üí 32 ‚Üí 1 (4 layers, 223 total neurons, ReLU activation)</li>
                        <li><strong>Training:</strong> 50 epochs, Adam optimizer (lr=0.001), binary crossentropy loss</li>
                        <li><strong>Performance:</strong> 65.55% test accuracy (outperforms 50% baseline and Vegas spread benchmarks)</li>
                        <li><strong>No Data Leakage:</strong> Rolling stats only use past games, ensuring valid predictions</li>
                    </ul>
                </div>
    
    H --> I["Dashboard Predictions<br/>65.55% accuracy"]
    
    style A fill:#8b5cf6,stroke:#6d28d9,color:#fff
    style B fill:#3b82f6,stroke:#1e40af,color:#fff
    style C fill:#10b981,stroke:#059669,color:#fff
    style D fill:#f59e0b,stroke:#d97706,color:#000
    style E fill:#f59e0b,stroke:#d97706,color:#000
    style F fill:#f59e0b,stroke:#d97706,color:#000
    style G fill:#ec4899,stroke:#db2777,color:#fff
    style H fill:#84cc16,stroke:#65a30d,color:#fff
    style I fill:#06b6d4,stroke:#0891b2,color:#fff
                    </pre>
                    <p style="color: #94a3b8; margin-top: 1rem;">
                        <strong>TensorFlow 2.18.0 Neural Network:</strong> Deep learning model trained on 27 seasons of NFL data with rolling feature engineering.
                    </p>
                    <ul style="color: #cbd5e1; margin-left: 2rem; line-height: 1.8; margin-top: 1rem;">
                        <li><strong>Training Data:</strong> 14,312 games from 1999-2025 (27 seasons)</li>
                        <li><strong>Features:</strong> 41 rolling metrics per game (EPA, success rate, explosive plays, situational stats)</li>
                        <li><strong>Architecture:</strong> 41 ‚Üí 128 ‚Üí 64 ‚Üí 32 ‚Üí 1 (4 layers, 223 total neurons)</li>
                        <li><strong>Training:</strong> 50 epochs, Adam optimizer (lr=0.001), binary crossentropy loss</li>
                        <li><strong>Performance:</strong> 65.55% test accuracy (outperforms 50% baseline and Vegas spread benchmarks)</li>
                        <li><strong>No Data Leakage:</strong> Rolling stats only use past games, ensuring valid predictions</li>
                    </ul>
                </div>

            </div>
        </div>

        <!-- Milestones Tab -->
        <div id="milestones" class="tab-content">
            <div class="card" style="background: linear-gradient(135deg, rgba(245, 158, 11, 0.1) 0%, rgba(251, 146, 60, 0.1) 100%); border: 2px solid rgba(245, 158, 11, 0.3);">
                <h2>üéØ H.C. Lombardo NFL Analytics - Development Timeline</h2>
                <p style="font-size: 1.05rem; color: #cbd5e1; line-height: 1.7;">
                    Complete development history from initial concept through advanced ML predictions and 3D visualizations. October-November 2025.
                </p>
            </div>

            <!-- Sprint 1-2: Foundation (Weeks 1-2) -->
            <div class="card" style="background: rgba(59, 130, 246, 0.05); border: 2px solid rgba(59, 130, 246, 0.2);">
                <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem;">
                    <div style="background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%); width: 60px; height: 60px; border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 1.8rem;">
                        üèóÔ∏è
                    </div>
                    <div>
                        <h2 style="margin: 0; color: #3b82f6;">Sprints 1-2: Foundation & Database Design</h2>
                        <p style="margin: 0.25rem 0 0 0; color: #64748b;">Weeks 1-2 (Oct 1-15, 2025)</p>
                    </div>
                </div>

                <h3>üéØ Objectives</h3>
                <ul style="color: #cbd5e1; line-height: 1.8;">
                    <li>Set up development environment (React + Flask + PostgreSQL)</li>
                    <li>Design initial database schema with 3NF normalization</li>
                    <li>Build basic NFL team data management system</li>
                    <li>Create responsive UI with dark theme</li>
                </ul>

                <h3 style="margin-top: 1.5rem;">‚úÖ Achievements</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem; margin: 1rem 0;">
                    <div style="background: rgba(59, 130, 246, 0.1); padding: 1rem; border-radius: 8px; border-left: 3px solid #3b82f6;">
                        <strong style="color: #3b82f6;">üíæ PostgreSQL 18 Database</strong>
                        <p style="font-size: 0.9rem; color: #94a3b8; margin: 0.5rem 0 0 0;">3NF normalized public schema with teams, stats_metadata, update_metadata tables</p>
                    </div>
                    <div style="background: rgba(16, 185, 129, 0.1); padding: 1rem; border-radius: 8px; border-left: 3px solid #10b981;">
                        <strong style="color: #10b981;">‚öõÔ∏è React 18 Frontend</strong>
                        <p style="font-size: 0.9rem; color: #94a3b8; margin: 0.5rem 0 0 0;">Component-based architecture with routing and state management</p>
                    </div>
                    <div style="background: rgba(139, 92, 246, 0.1); padding: 1rem; border-radius: 8px; border-left: 3px solid #8b5cf6;">
                        <strong style="color: #8b5cf6;">üîå Flask REST API</strong>
                        <p style="font-size: 0.9rem; color: #94a3b8; margin: 0.5rem 0 0 0;">RESTful endpoints for team data with CORS support</p>
                    </div>
                    <div style="background: rgba(236, 72, 153, 0.1); padding: 1rem; border-radius: 8px; border-left: 3px solid #ec4899;">
                        <strong style="color: #ec4899;">üì± PWA Integration</strong>
                        <p style="font-size: 0.9rem; color: #94a3b8; margin: 0.5rem 0 0 0;">Progressive Web App with offline capabilities and manifest</p>
                    </div>
                </div>

                <h3 style="margin-top: 1.5rem;">üîß Technologies</h3>
                <p style="color: #cbd5e1;">React 18.3.1 ‚Ä¢ Flask 3.0.3 ‚Ä¢ PostgreSQL 18 ‚Ä¢ Tailwind CSS ‚Ä¢ Vite 5.4.1</p>
            </div>

            <!-- Sprint 3-4: Data Integration (Weeks 3-4) -->
            <div class="card" style="background: rgba(16, 185, 129, 0.05); border: 2px solid rgba(16, 185, 129, 0.2);">
                <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem;">
                    <div style="background: linear-gradient(135deg, #10b981 0%, #059669 100%); width: 60px; height: 60px; border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 1.8rem;">
                        üîÑ
                    </div>
                    <div>
                        <h2 style="margin: 0; color: #10b981;">Sprints 3-4: Live Data & Real-Time Updates</h2>
                        <p style="margin: 0.25rem 0 0 0; color: #64748b;">Weeks 3-4 (Oct 16-29, 2025)</p>
                    </div>
                </div>

                <h3>üéØ Objectives</h3>
                <ul style="color: #cbd5e1; line-height: 1.8;">
                    <li>Integrate live NFL data sources (ESPN, TeamRankings)</li>
                    <li>Implement automatic data refresh system</li>
                    <li>Add comprehensive error handling and logging</li>
                    <li>Deploy production-ready application</li>
                </ul>

                <h3 style="margin-top: 1.5rem;">‚úÖ Achievements</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem; margin: 1rem 0;">
                    <div style="background: rgba(16, 185, 129, 0.1); padding: 1rem; border-radius: 8px; border-left: 3px solid #10b981;">
                        <strong style="color: #10b981;">üåê ESPN API Integration</strong>
                        <p style="font-size: 0.9rem; color: #94a3b8; margin: 0.5rem 0 0 0;">Real-time NFL standings, scores, and team stats</p>
                    </div>
                    <div style="background: rgba(59, 130, 246, 0.1); padding: 1rem; border-radius: 8px; border-left: 3px solid #3b82f6;">
                        <strong style="color: #3b82f6;">‚è±Ô∏è Auto-Refresh System</strong>
                        <p style="font-size: 0.9rem; color: #94a3b8; margin: 0.5rem 0 0 0;">Dashboard updates every 30 seconds with live data</p>
                    </div>
                    <div style="background: rgba(245, 158, 11, 0.1); padding: 1rem; border-radius: 8px; border-left: 3px solid #f59e0b;">
                        <strong style="color: #f59e0b;">üìä TeamRankings Data</strong>
                        <p style="font-size: 0.9rem; color: #94a3b8; margin: 0.5rem 0 0 0;">Advanced statistics and performance metrics</p>
                    </div>
                    <div style="background: rgba(139, 92, 246, 0.1); padding: 1rem; border-radius: 8px; border-left: 3px solid #8b5cf6;">
                        <strong style="color: #8b5cf6;">üöÄ Production Deployment</strong>
                        <p style="font-size: 0.9rem; color: #94a3b8; margin: 0.5rem 0 0 0;">Stable app deployed to GitHub Pages</p>
                    </div>
                </div>
            </div>

            <!-- Sprint 5-8: Historical Data System (Weeks 5-8) -->
            <div class="card" style="background: rgba(139, 92, 246, 0.05); border: 2px solid rgba(139, 92, 246, 0.2);">
                <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem;">
                    <div style="background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%); width: 60px; height: 60px; border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 1.8rem;">
                        üìö
                    </div>
                    <div>
                        <h2 style="margin: 0; color: #8b5cf6;">Sprints 5-8: Historical Data Analytics (HCL Schema)</h2>
                        <p style="margin: 0.25rem 0 0 0; color: #64748b;">Weeks 5-8 (Oct 21 - Nov 5, 2025)</p>
                    </div>
                </div>

                <h3>üéØ Objectives</h3>
                <ul style="color: #cbd5e1; line-height: 1.8;">
                    <li>Design 3NF normalized HCL schema for historical NFL data</li>
                    <li>Integrate nflverse Python package for 27 seasons of data</li>
                    <li>Build REST API layer for historical queries</li>
                    <li>Create interactive Chart.js visualizations</li>
                </ul>

                <h3 style="margin-top: 1.5rem;">‚úÖ Achievements</h3>
                <div style="background: rgba(139, 92, 246, 0.1); padding: 1.5rem; border-radius: 10px; margin: 1rem 0;">
                    <h4 style="color: #8b5cf6; margin-top: 0;">üóÑÔ∏è HCL Database Schema (Production)</h4>
                    <ul style="color: #cbd5e1; line-height: 1.8;">
                        <li><strong>5 Core Tables:</strong> games, team_game_stats, betting_lines, injuries, weather</li>
                        <li><strong>14,312 total games</strong> (1999-2025, 27 NFL seasons)</li>
                        <li><strong>1,126 games with full stats</strong> (2022-2025 seasons, 47 metrics per team-game)</li>
                        <li><strong>1,950 team-game records</strong> with comprehensive performance data</li>
                        <li><strong>Materialized View:</strong> v_game_matchup_display for efficient API queries</li>
                    </ul>
                </div>

                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem; margin: 1rem 0;">
                    <div style="background: rgba(59, 130, 246, 0.1); padding: 1rem; border-radius: 8px; border-left: 3px solid #3b82f6;">
                        <strong style="color: #3b82f6;">üîå HCL REST API</strong>
                        <p style="font-size: 0.9rem; color: #94a3b8; margin: 0.5rem 0 0 0;">/api/matchups endpoint serving complete game data with 47+ metrics</p>
                    </div>
                    <div style="background: rgba(236, 72, 153, 0.1); padding: 1rem; border-radius: 8px; border-left: 3px solid #ec4899;">
                        <strong style="color: #ec4899;">üìä Chart.js 4.4.0</strong>
                        <p style="font-size: 0.9rem; color: #94a3b8; margin: 0.5rem 0 0 0;">Team detail pages with interactive trend charts and 8 selectable stats</p>
                    </div>
                    <div style="background: rgba(16, 185, 129, 0.1); padding: 1rem; border-radius: 8px; border-left: 3px solid #10b981;">
                        <strong style="color: #10b981;">üìà 47 Statistical Metrics</strong>
                        <p style="font-size: 0.9rem; color: #94a3b8; margin: 0.5rem 0 0 0;">EPA, success rate, explosive plays, 3rd down %, red zone %, turnovers, and more</p>
                    </div>
                    <div style="background: rgba(245, 158, 11, 0.1); padding: 1rem; border-radius: 8px; border-left: 3px solid #f59e0b;">
                        <strong style="color: #f59e0b;">üé≤ Betting Lines</strong>
                        <p style="font-size: 0.9rem; color: #94a3b8; margin: 0.5rem 0 0 0;">Historical odds data (spreads, totals, moneylines)</p>
                    </div>
                </div>
            </div>

            <!-- Sprint 9: ML Neural Network (Week 7) -->
            <div class="card" style="background: rgba(16, 185, 129, 0.05); border: 2px solid rgba(16, 185, 129, 0.2);">
                <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem;">
                    <div style="background: linear-gradient(135deg, #10b981 0%, #059669 100%); width: 60px; height: 60px; border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 1.8rem;">
                        üß†
                    </div>
                    <div>
                        <h2 style="margin: 0; color: #10b981;">Sprint 9: Machine Learning Prediction System</h2>
                        <p style="margin: 0.25rem 0 0 0; color: #64748b;">Week 7 (Nov 6, 2025)</p>
                    </div>
                </div>

                <h3>üéØ Objectives</h3>
                <ul style="color: #cbd5e1; line-height: 1.8;">
                    <li>Train TensorFlow neural network on 27 seasons of historical data</li>
                    <li>Engineer 41 rolling features without data leakage</li>
                    <li>Integrate ML predictions into dashboard matchup cards</li>
                    <li>Achieve accuracy above baseline and Vegas benchmarks</li>
                </ul>

                <h3 style="margin-top: 1.5rem;">‚úÖ Achievements</h3>
                <div style="background: rgba(16, 185, 129, 0.1); padding: 1.5rem; border-radius: 10px; margin: 1rem 0;">
                    <h4 style="color: #10b981; margin-top: 0;">ü§ñ Neural Network Model</h4>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">
                        <div>
                            <p style="color: #cbd5e1; margin: 0; font-size: 0.9rem;"><strong>Framework:</strong> TensorFlow 2.18.0</p>
                            <p style="color: #cbd5e1; margin: 0.5rem 0 0 0; font-size: 0.9rem;"><strong>Architecture:</strong> 41 ‚Üí 128 ‚Üí 64 ‚Üí 32 ‚Üí 1</p>
                            <p style="color: #cbd5e1; margin: 0.5rem 0 0 0; font-size: 0.9rem;"><strong>Activation:</strong> ReLU (hidden), Sigmoid (output)</p>
                        </div>
                        <div>
                            <p style="color: #cbd5e1; margin: 0; font-size: 0.9rem;"><strong>Training Data:</strong> 14,312 games</p>
                            <p style="color: #cbd5e1; margin: 0.5rem 0 0 0; font-size: 0.9rem;"><strong>Features:</strong> 41 rolling metrics</p>
                            <p style="color: #cbd5e1; margin: 0.5rem 0 0 0; font-size: 0.9rem;"><strong>Epochs:</strong> 50</p>
                        </div>
                        <div>
                            <p style="color: #10b981; margin: 0; font-size: 1.2rem; font-weight: bold;">65.55% Accuracy</p>
                            <p style="color: #94a3b8; margin: 0.5rem 0 0 0; font-size: 0.9rem;">Outperforms baseline (50%) and Vegas spread accuracy</p>
                        </div>
                    </div>
                </div>

                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem; margin: 1rem 0;">
                    <div style="background: rgba(59, 130, 246, 0.1); padding: 1rem; border-radius: 8px; border-left: 3px solid #3b82f6;">
                        <strong style="color: #3b82f6;">üéØ Feature Engineering</strong>
                        <p style="font-size: 0.9rem; color: #94a3b8; margin: 0.5rem 0 0 0;">Rolling 3/5-game averages, EPA metrics, success rates, situational stats</p>
                    </div>
                    <div style="background: rgba(236, 72, 153, 0.1); padding: 1rem; border-radius: 8px; border-left: 3px solid #ec4899;">
                        <strong style="color: #ec4899;">üö´ No Data Leakage</strong>
                        <p style="font-size: 0.9rem; color: #94a3b8; margin: 0.5rem 0 0 0;">Rolling features only use past games, ensuring valid predictions</p>
                    </div>
                    <div style="background: rgba(139, 92, 246, 0.1); padding: 1rem; border-radius: 8px; border-left: 3px solid #8b5cf6;">
                        <strong style="color: #8b5cf6;">üì± Dashboard Integration</strong>
                        <p style="font-size: 0.9rem; color: #94a3b8; margin: 0.5rem 0 0 0;">Win probability predictions displayed on matchup cards</p>
                    </div>
                </div>
            </div>

            <!-- Sprint 10: 3D Visualization (Week 8) -->
            <div class="card" style="background: rgba(59, 130, 246, 0.05); border: 2px solid rgba(59, 130, 246, 0.2);">
                <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem;">
                    <div style="background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%); width: 60px; height: 60px; border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 1.8rem;">
                        üåê
                    </div>
                    <div>
                        <h2 style="margin: 0; color: #3b82f6;">Sprint 10: 3D Visualization & Production Polish</h2>
                        <p style="margin: 0.25rem 0 0 0; color: #64748b;">Week 8 (Nov 7-11, 2025)</p>
                    </div>
                </div>

                <h3>üéØ Objectives</h3>
                <ul style="color: #cbd5e1; line-height: 1.8;">
                    <li>Create interactive 3D visualization of NFL data</li>
                    <li>Integrate Three.js with historical data and ML predictions</li>
                    <li>Polish all dashboard tabs for teacher presentation</li>
                    <li>Finalize documentation and technical diagrams</li>
                </ul>

                <h3 style="margin-top: 1.5rem;">‚úÖ Achievements</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem; margin: 1rem 0;">
                    <div style="background: rgba(59, 130, 246, 0.1); padding: 1rem; border-radius: 8px; border-left: 3px solid #3b82f6;">
                        <strong style="color: #3b82f6;">üé® Three.js r128</strong>
                        <p style="font-size: 0.9rem; color: #94a3b8; margin: 0.5rem 0 0 0;">WebGL 3D rendering with 32 team spheres and game connections</p>
                    </div>
                    <div style="background: rgba(16, 185, 129, 0.1); padding: 1rem; border-radius: 8px; border-left: 3px solid #10b981;">
                        <strong style="color: #10b981;">‚ö° 60 FPS Performance</strong>
                        <p style="font-size: 0.9rem; color: #94a3b8; margin: 0.5rem 0 0 0;">Smooth animations with hardware acceleration and orbit controls</p>
                    </div>
                    <div style="background: rgba(139, 92, 246, 0.1); padding: 1rem; border-radius: 8px; border-left: 3px solid #8b5cf6;">
                        <strong style="color: #8b5cf6;">üéØ Interactive Network</strong>
                        <p style="font-size: 0.9rem; color: #94a3b8; margin: 0.5rem 0 0 0;">Click teams for details, visualize 27 seasons of data relationships</p>
                    </div>
                    <div style="background: rgba(236, 72, 153, 0.1); padding: 1rem; border-radius: 8px; border-left: 3px solid #ec4899;">
                        <strong style="color: #ec4899;">üìä Complete Dashboard</strong>
                        <p style="font-size: 0.9rem; color: #94a3b8; margin: 0.5rem 0 0 0;">12 polished tabs: Overview, 3D, ML, Weeks 1-8, Database, Analytics, Diagrams, Milestones, GitHub</p>
                    </div>
                </div>
            </div>

            <!-- Final Production Stats -->
            <div class="card" style="background: linear-gradient(135deg, rgba(16, 185, 129, 0.1) 0%, rgba(5, 150, 105, 0.1) 100%); border: 2px solid rgba(16, 185, 129, 0.3);">
                <h2 style="color: #10b981;">üèÜ Final Production Statistics (Nov 11, 2025)</h2>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin: 1.5rem 0;">
                    <div style="text-align: center; padding: 1rem; background: rgba(16, 185, 129, 0.1); border-radius: 8px;">
                        <div style="font-size: 2.5rem; color: #10b981; font-weight: bold;">14,312</div>
                        <div style="color: #94a3b8; font-size: 0.9rem;">Total Games</div>
                        <div style="color: #64748b; font-size: 0.8rem; margin-top: 0.25rem;">27 seasons (1999-2025)</div>
                    </div>
                    <div style="text-align: center; padding: 1rem; background: rgba(59, 130, 246, 0.1); border-radius: 8px;">
                        <div style="font-size: 2.5rem; color: #3b82f6; font-weight: bold;">1,950</div>
                        <div style="color: #94a3b8; font-size: 0.9rem;">Team-Game Records</div>
                        <div style="color: #64748b; font-size: 0.8rem; margin-top: 0.25rem;">47 metrics each</div>
                    </div>
                    <div style="text-align: center; padding: 1rem; background: rgba(139, 92, 246, 0.1); border-radius: 8px;">
                        <div style="font-size: 2.5rem; color: #8b5cf6; font-weight: bold;">65.55%</div>
                        <div style="color: #94a3b8; font-size: 0.9rem;">ML Accuracy</div>
                        <div style="color: #64748b; font-size: 0.8rem; margin-top: 0.25rem;">TensorFlow neural network</div>
                    </div>
                    <div style="text-align: center; padding: 1rem; background: rgba(236, 72, 153, 0.1); border-radius: 8px;">
                        <div style="font-size: 2.5rem; color: #ec4899; font-weight: bold;">5</div>
                        <div style="color: #94a3b8; font-size: 0.9rem;">Database Tables</div>
                        <div style="color: #64748b; font-size: 0.8rem; margin-top: 0.25rem;">3NF normalized HCL schema</div>
                    </div>
                    <div style="text-align: center; padding: 1rem; background: rgba(245, 158, 11, 0.1); border-radius: 8px;">
                        <div style="font-size: 2.5rem; color: #f59e0b; font-weight: bold;">12</div>
                        <div style="color: #94a3b8; font-size: 0.9rem;">Dashboard Tabs</div>
                        <div style="color: #64748b; font-size: 0.8rem; margin-top: 0.25rem;">Complete documentation</div>
                    </div>
                    <div style="text-align: center; padding: 1rem; background: rgba(6, 182, 212, 0.1); border-radius: 8px;">
                        <div style="font-size: 2.5rem; color: #06b6d4; font-weight: bold;">10</div>
                        <div style="color: #94a3b8; font-size: 0.9rem;">Week Sprints</div>
                        <div style="color: #64748b; font-size: 0.8rem; margin-top: 0.25rem;">Oct 1 - Nov 11, 2025</div>
                    </div>
                </div>

                <h3 style="margin-top: 2rem;">üõ†Ô∏è Complete Technology Stack</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 1rem; margin: 1rem 0;">
                    <div>
                        <h4 style="color: #3b82f6; margin: 0 0 0.5rem 0;">Frontend</h4>
                        <ul style="color: #cbd5e1; font-size: 0.9rem; line-height: 1.6; margin: 0;">
                            <li>React 18.3.1</li>
                            <li>Three.js r128</li>
                            <li>Chart.js 4.4.0</li>
                            <li>Tailwind CSS</li>
                            <li>Vite 5.4.1</li>
                        </ul>
                    </div>
                    <div>
                        <h4 style="color: #10b981; margin: 0 0 0.5rem 0;">Backend</h4>
                        <ul style="color: #cbd5e1; font-size: 0.9rem; line-height: 1.6; margin: 0;">
                            <li>Flask 3.0.3</li>
                            <li>PostgreSQL 18</li>
                            <li>Python 3.12</li>
                            <li>nflverse package</li>
                            <li>RESTful APIs</li>
                        </ul>
                    </div>
                    <div>
                        <h4 style="color: #8b5cf6; margin: 0 0 0.5rem 0;">Machine Learning</h4>
                        <ul style="color: #cbd5e1; font-size: 0.9rem; line-height: 1.6; margin: 0;">
                            <li>TensorFlow 2.18.0</li>
                            <li>Keras Sequential API</li>
                            <li>NumPy, Pandas</li>
                            <li>Scikit-learn</li>
                        </ul>
                    </div>
                    <div>
                        <h4 style="color: #ec4899; margin: 0 0 0.5rem 0;">DevOps</h4>
                        <ul style="color: #cbd5e1; font-size: 0.9rem; line-height: 1.6; margin: 0;">
                            <li>Git version control</li>
                            <li>GitHub Pages</li>
                            <li>PWA deployment</li>
                            <li>Automated backups</li>
                        </ul>
                    </div>
                </div>
            </div>

        </div>

        <!-- GitHub Tab -->
        <div id="github" class="tab-content">
            <div class="card">
                <h2>üîó GitHub Repository</h2>
                <p><strong>Repository:</strong> <a href="https://github.com/AprilV/H.C.-Lombardo-App" target="_blank" style="color: #3b82f6;">AprilV/H.C.-Lombardo-App</a></p>
                
                <h3>üìÅ Current Project Structure</h3>
                <pre><code>H.C Lombardo App/
‚îú‚îÄ‚îÄ START-DEV.bat                # Development mode launcher
‚îú‚îÄ‚îÄ START.bat                    # Production mode launcher
‚îú‚îÄ‚îÄ STOP.bat                     # Shutdown script
‚îú‚îÄ‚îÄ api_server.py                # Flask REST API + static serving
‚îú‚îÄ‚îÄ db_config.py                 # PostgreSQL 18 connection
‚îú‚îÄ‚îÄ nfl_database_loader.py       # nflverse data loader
‚îú‚îÄ‚îÄ ml/                          # Machine Learning (Sprint 9)
‚îÇ   ‚îú‚îÄ‚îÄ train_model.py           # TensorFlow 2.18.0 training
‚îÇ   ‚îú‚îÄ‚îÄ predict.py               # Game predictions
‚îÇ   ‚îî‚îÄ‚îÄ models/                  # Saved neural network models
‚îú‚îÄ‚îÄ frontend/                    # React PWA application
‚îÇ   ‚îú‚îÄ‚îÄ public/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ manifest.json        # PWA configuration
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ images/              # Local assets (1.69 MB)
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ afc.png          # 49 KB
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ nfc.png          # 2.8 KB
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ teams/           # 32 team logos (1.6 MB)
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ App.js               # Main router
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Homepage.js          # NFL standings
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ TeamStats.js         # Chart.js visualizations
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ HistoricalData.js    # Historical analytics
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ NeuralNetwork3D.js   # Three.js 3D visualization
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ SideMenu.js          # Navigation drawer
‚îÇ   ‚îî‚îÄ‚îÄ package.json             # React, Three.js, Chart.js
‚îú‚îÄ‚îÄ dr.foster/                   # Technical documentation
‚îÇ   ‚îî‚îÄ‚îÄ index.html               # This dashboard (12 tabs)
‚îú‚îÄ‚îÄ backups/                     # Automated backups
‚îî‚îÄ‚îÄ logs/                        # Application logs</code></pre>

                <h3>üì¶ Installation from GitHub</h3>
                <ol style="color: #cbd5e1; line-height: 1.8;">
                    <li><strong>Clone Repository:</strong>
                        <pre><code>git clone https://github.com/AprilV/H.C.-Lombardo-App.git
cd "H.C Lombardo App"</code></pre>
                    </li>
                    <li><strong>Install Python Dependencies:</strong>
                        <pre><code>pip install flask flask-cors psycopg2 pandas numpy requests beautifulsoup4 nfl_data_py tensorflow</code></pre>
                    </li>
                    <li><strong>Install React Dependencies:</strong>
                        <pre><code>cd frontend
npm install
cd ..</code></pre>
                    </li>
                    <li><strong>Configure PostgreSQL 18 Database:</strong>
                        <pre><code>python nfl_database_loader.py</code></pre>
                    </li>
                    <li><strong>Start the Application:</strong>
                        <pre><code>START-DEV.bat  # Development mode
# OR
START.bat      # Production mode</code></pre>
                    </li>
                </ol>

                <h3>üìä Repository Info</h3>
                <ul style="color: #cbd5e1; line-height: 1.8;">
                    <li><strong>Primary Language:</strong> JavaScript (React), Python (Flask, ML)</li>
                    <li><strong>License:</strong> MIT</li>
                    <li><strong>Main Branch:</strong> master</li>
                    <li><strong>Topics:</strong> nfl, analytics, machine-learning, react, flask, postgresql, three-js</li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        // Tab Switching - Define in global scope
        window.showTab = function(tabName, evt) {
            // Hide all tabs
            const allTabContents = document.querySelectorAll('.tab-content');
            allTabContents.forEach(tab => {
                tab.classList.remove('active');
            });
            
            const allTabs = document.querySelectorAll('.tab');
            allTabs.forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Show selected tab
            const selectedContent = document.getElementById(tabName);
            if (selectedContent) {
                selectedContent.classList.add('active');
            } else {
                console.error('Tab content not found:', tabName);
            }
            
            // Activate the clicked tab button
            if (evt && evt.currentTarget) {
                evt.currentTarget.classList.add('active');
            } else {
                // Fallback: find and activate the tab button by matching tabName
                allTabs.forEach(tab => {
                    const onclick = tab.getAttribute('onclick');
                    if (onclick && onclick.includes("'" + tabName + "'")) {
                        tab.classList.add('active');
                    }
                });
            }
            
            // Save the current tab to localStorage
            localStorage.setItem('drFosterActiveTab', tabName);
            console.log('üíæ Saved active tab:', tabName);

            // Initialize 3D scene if architecture tab
            if (tabName === 'architecture') {
                init3DArchitecture();
            }

            // Initialize 3D neural network if ML tab
            if (tabName === 'ml-neural-net') {
                init3DNeuralNetwork();
            }

            // Initialize charts if analytics tab
            if (tabName === 'analytics') {
                // Use requestAnimationFrame to ensure DOM is updated
                requestAnimationFrame(() => {
                    console.log('üé® Initializing Analytics charts...');
                    initCharts();
                    // Load live data after charts are initialized
                    setTimeout(() => {
                        updateAnalyticsTab();
                    }, 200);
                });
            }

            // Initialize database chart if database tab
            if (tabName === 'database') {
                initDatabaseChart();
            }

            // Re-render Mermaid diagrams if mermaid tab (DB Diagrams)
            if (tabName === 'mermaid') {
                setTimeout(() => {
                    try {
                        mermaid.contentLoaded();
                    } catch (e) {
                        console.log('Mermaid re-render:', e);
                    }
                }, 100);
            }
        };

        // ============================================
        // AUTO-UPDATING DASHBOARD SYSTEM
        // ============================================
        
        const API_BASE_URL = 'http://localhost:5000';
        let isLiveMode = false;
        let autoRefreshInterval = null;
        let lastUpdateTime = null;
        let refreshCountdown = 30; // seconds

        // Static fallback data
        const staticData = {
            stats: {
                current_week: 8,
                total_teams: 32,
                conferences: 2,
                divisions: 8,
                last_update: "Static Demo Data"
            },
            database: {
                total_tables: 3,
                total_columns: 18,
                total_records: 32,
                tables: [
                    { name: "teams", columns: 11, records: 32 },
                    { name: "stats_metadata", columns: 4, records: 0 },
                    { name: "update_metadata", columns: 3, records: 0 }
                ]
            },
            analytics: {
                conferences: [
                    { name: "AFC", teams: 16, wins: 88, losses: 72, avg_ppg: 22.5, win_rate: 0.550 },
                    { name: "NFC", teams: 16, wins: 72, losses: 88, avg_ppg: 21.8, win_rate: 0.450 }
                ],
                divisions: [
                    { name: "AFC East", leader: "BUF", wins: 6, losses: 2 },
                    { name: "AFC North", leader: "BAL", wins: 5, losses: 3 },
                    { name: "AFC South", leader: "HOU", wins: 5, losses: 3 },
                    { name: "AFC West", leader: "KC", wins: 7, losses: 1 },
                    { name: "NFC East", leader: "PHI", wins: 6, losses: 2 },
                    { name: "NFC North", leader: "DET", wins: 6, losses: 1 },
                    { name: "NFC South", leader: "ATL", wins: 5, losses: 3 },
                    { name: "NFC West", leader: "SF", wins: 4, losses: 4 }
                ],
                top_teams: [
                    { rank: 1, team: "Kansas City Chiefs", record: "7-1", ppg: 28.5, pa: 19.2, diff: 9.3 },
                    { rank: 2, team: "Detroit Lions", record: "6-1", ppg: 27.8, pa: 20.1, diff: 7.7 },
                    { rank: 3, team: "Buffalo Bills", record: "6-2", ppg: 26.9, pa: 21.5, diff: 5.4 },
                    { rank: 4, team: "Philadelphia Eagles", record: "6-2", ppg: 25.2, pa: 20.8, diff: 4.4 },
                    { rank: 5, team: "Baltimore Ravens", record: "5-3", ppg: 26.1, pa: 22.3, diff: 3.8 },
                    { rank: 6, team: "Houston Texans", record: "5-3", ppg: 24.5, pa: 21.9, diff: 2.6 },
                    { rank: 7, team: "San Francisco 49ers", record: "4-4", ppg: 24.8, pa: 22.4, diff: 2.4 },
                    { rank: 8, team: "Atlanta Falcons", record: "5-3", ppg: 23.7, pa: 21.5, diff: 2.2 },
                    { rank: 9, team: "Green Bay Packers", record: "5-3", ppg: 23.2, pa: 21.8, diff: 1.4 },
                    { rank: 10, team: "Minnesota Vikings", record: "5-2", ppg: 22.9, pa: 21.6, diff: 1.3 }
                ]
            },
            github: {
                commits: [
                    { sha: "2a9116b", message: "Fix database accuracy", author: "AprilV", date: "2025-10-14" }
                ]
            },
            status: {
                overall: "static",
                database: { status: "unknown", message: "API offline" },
                api: { status: "offline", message: "Not connected" }
            }
        };

        // Fetch data from all dashboard endpoints
        async function fetchAllDashboardData() {
            const endpoints = ['stats', 'database', 'analytics', 'status'];  // Removed 'github' - using static data
            const data = { ...staticData };
            let anySuccess = false;

            console.log('üîÑ Fetching dashboard data...');

            for (const endpoint of endpoints) {
                try {
                    const controller = new AbortController();
                    const timeoutId = setTimeout(() => controller.abort(), 5000);
                    
                    const response = await fetch(`${API_BASE_URL}/api/dashboard/${endpoint}`, {
                        signal: controller.signal,
                        mode: 'cors'
                    });
                    
                    clearTimeout(timeoutId);
                    
                    if (response.ok) {
                        const result = await response.json();
                        if (result.success && result.data) {
                            data[endpoint] = result.data;
                            anySuccess = true;
                            console.log(`‚úÖ ${endpoint} data loaded`);
                        }
                    }
                } catch (error) {
                    console.log(`‚ö†Ô∏è ${endpoint} offline, using static data`);
                }
            }

            isLiveMode = anySuccess;
            lastUpdateTime = new Date();
            updateStatusIndicator();
            
            return data;
        }

        // Update all dashboard components
        async function updateDashboard() {
            const data = await fetchAllDashboardData();
            
            // Update Overview tab
            updateOverviewTab(data.stats, data.status);
            
            // Update Database tab
            updateDatabaseTab(data.database);
            
            // Update Analytics tab
            updateAnalyticsTab(data.analytics);
            
            // Update GitHub tab
            updateGitHubTab(data.github);
            
            console.log('üìä Dashboard updated successfully');
        }

        // Update Overview Tab
        function updateOverviewTab(stats, status) {
            const weekEl = document.getElementById('current-week');
            const teamsEl = document.getElementById('total-teams');
            const lastUpdateEl = document.getElementById('last-update');
            
            if (weekEl) weekEl.textContent = `Week ${stats.current_week}`;
            if (teamsEl) teamsEl.textContent = `${stats.total_teams} Teams`;
            if (lastUpdateEl) {
                const now = new Date();
                const updateTime = now.toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' }) + 
                                   ' at ' + now.toLocaleTimeString('en-US', { hour: 'numeric', minute: '2-digit' });
                lastUpdateEl.textContent = updateTime;
            }
            
            // Update status indicators
            const dbStatusEl = document.getElementById('db-status');
            const apiStatusEl = document.getElementById('api-status');
            
            if (dbStatusEl) {
                const isOnline = status.database.status === 'online';
                dbStatusEl.innerHTML = isOnline ? 
                    'üü¢ <strong>Database:</strong> Connected' : 
                    'üî¥ <strong>Database:</strong> Offline';
                dbStatusEl.style.color = isOnline ? '#10b981' : '#ef4444';
            }
            
            if (apiStatusEl) {
                const isOnline = status.api.status === 'online';
                apiStatusEl.innerHTML = isOnline ? 
                    'üü¢ <strong>API:</strong> Running' : 
                    'üî¥ <strong>API:</strong> Offline';
                apiStatusEl.style.color = isOnline ? '#10b981' : '#ef4444';
            }
        }

        // Update Database Tab
        function updateDatabaseTab(database) {
            const tablesCountEl = document.getElementById('tables-count');
            const columnsCountEl = document.getElementById('columns-count');
            const recordsCountEl = document.getElementById('records-count');
            
            if (tablesCountEl) tablesCountEl.textContent = database.total_tables;
            if (columnsCountEl) columnsCountEl.textContent = database.total_columns;
            if (recordsCountEl) recordsCountEl.textContent = database.total_records;
            
            // Update database chart
            if (window.databaseChart) {
                window.databaseChart.data.labels = database.tables.map(t => t.name);
                window.databaseChart.data.datasets[0].data = database.tables.map(t => t.columns);
                window.databaseChart.update('none'); // No animation for live updates
            }
        }

        // Update Analytics Tab
        async function updateAnalyticsTab(analytics) {
            console.log('üîÑ Loading Analytics data...');
            
            // Check if we're on the analytics tab - if not, skip
            const analyticsTab = document.getElementById('analytics');
            if (!analyticsTab || !analyticsTab.classList.contains('active')) {
                console.log('‚è≠Ô∏è Analytics tab not active, skipping update');
                return;
            }
            
            // Initialize charts if they don't exist yet
            if (!window.conferenceChart || !window.pointsChart) {
                console.log('üìä Charts not initialized, initializing now...');
                initCharts();
                // Wait for charts to be created
                await new Promise(resolve => setTimeout(resolve, 100));
            }
            
            // Fetch real data from Flask API
            try {
                const response = await fetch('http://127.0.0.1:5000/api/teams');
                if (!response.ok) {
                    throw new Error(`API returned ${response.status}`);
                }
                const data = await response.json();
                const teams = data.teams || [];
                
                console.log(`‚úÖ Loaded ${teams.length} teams from API`);
                
                if (teams.length === 0) {
                    console.error('‚ùå No teams data received');
                    return;
                }
                
                // Define NFL divisions
                const NFL_DIVISIONS = {
                    'AFC': {
                        'AFC East': ['BUF', 'MIA', 'NYJ', 'NE'],
                        'AFC North': ['BAL', 'CIN', 'CLE', 'PIT'],
                        'AFC South': ['HOU', 'IND', 'JAX', 'TEN'],
                        'AFC West': ['DEN', 'KC', 'LV', 'LAC']
                    },
                    'NFC': {
                        'NFC East': ['DAL', 'NYG', 'PHI', 'WAS'],
                        'NFC North': ['CHI', 'DET', 'GB', 'MIN'],
                        'NFC South': ['ATL', 'CAR', 'NO', 'TB'],
                        'NFC West': ['ARI', 'LAR', 'SF', 'SEA']
                    }
                };
                
                // Calculate conference stats
                const afcTeams = teams.filter(t => 
                    Object.values(NFL_DIVISIONS.AFC).flat().includes(t.abbreviation)
                );
                const nfcTeams = teams.filter(t => 
                    Object.values(NFL_DIVISIONS.NFC).flat().includes(t.abbreviation)
                );
                
                const afcWins = afcTeams.reduce((sum, t) => sum + (t.wins || 0), 0);
                const nfcWins = nfcTeams.reduce((sum, t) => sum + (t.wins || 0), 0);
                const afcGames = afcTeams.reduce((sum, t) => sum + ((t.wins || 0) + (t.losses || 0)), 0);
                const nfcGames = nfcTeams.reduce((sum, t) => sum + ((t.wins || 0) + (t.losses || 0)), 0);
                const afcPPG = afcTeams.reduce((sum, t) => sum + (t.ppg || 0), 0) / afcTeams.length;
                const nfcPPG = nfcTeams.reduce((sum, t) => sum + (t.ppg || 0), 0) / nfcTeams.length;
                
                // Update AFC stats
                document.getElementById('afc-teams').textContent = afcTeams.length;
                document.getElementById('afc-wins').textContent = afcWins;
                document.getElementById('afc-ppg').textContent = afcPPG.toFixed(1);
                document.getElementById('afc-winrate').textContent = ((afcWins / afcGames) * 100).toFixed(1) + '%';
                
                // Update NFC stats
                document.getElementById('nfc-teams').textContent = nfcTeams.length;
                document.getElementById('nfc-wins').textContent = nfcWins;
                document.getElementById('nfc-ppg').textContent = nfcPPG.toFixed(1);
                document.getElementById('nfc-winrate').textContent = ((nfcWins / nfcGames) * 100).toFixed(1) + '%';
                
                // Top 10 teams by PPG
                const topTeams = [...teams]
                    .filter(t => t.ppg != null)
                    .sort((a, b) => (b.ppg || 0) - (a.ppg || 0))
                    .slice(0, 10);
                
                const topTeamsBody = document.getElementById('top-teams-body');
                if (topTeamsBody) {
                    topTeamsBody.innerHTML = topTeams.map((team, index) => {
                        const diff = (team.ppg || 0) - (team.pa || 0);
                        const diffColor = diff > 0 ? '#10b981' : '#ef4444';
                        return `
                            <tr style="background: ${index % 2 === 0 ? 'rgba(30, 41, 59, 0.3)' : 'rgba(15, 23, 42, 0.3)'};">
                                <td style="padding: 0.75rem; text-align: center;">${index + 1}</td>
                                <td style="padding: 0.75rem;"><strong>${team.name}</strong> <span style="color: #94a3b8;">(${team.abbreviation})</span></td>
                                <td style="padding: 0.75rem; text-align: center;">${team.wins}-${team.losses}${team.ties > 0 ? `-${team.ties}` : ''}</td>
                                <td style="padding: 0.75rem; text-align: center; color: #10b981; font-weight: bold;">${(team.ppg || 0).toFixed(1)}</td>
                                <td style="padding: 0.75rem; text-align: center; color: #ef4444;">${(team.pa || 0).toFixed(1)}</td>
                                <td style="padding: 0.75rem; text-align: center; color: ${diffColor}; font-weight: bold;">${diff > 0 ? '+' : ''}${diff.toFixed(1)}</td>
                            </tr>
                        `;
                    }).join('');
                }
                
                // Division Leaders
                const divisionLeadersEl = document.getElementById('division-leaders');
                if (divisionLeadersEl) {
                    const leaders = [];
                    for (const [conf, divisions] of Object.entries(NFL_DIVISIONS)) {
                        for (const [divName, teamAbbrs] of Object.entries(divisions)) {
                            const divTeams = teams.filter(t => teamAbbrs.includes(t.abbreviation));
                            const leader = divTeams.sort((a, b) => {
                                const aWinPct = (a.wins || 0) / ((a.wins || 0) + (a.losses || 0) || 1);
                                const bWinPct = (b.wins || 0) / ((b.wins || 0) + (b.losses || 0) || 1);
                                return bWinPct - aWinPct;
                            })[0];
                            if (leader) {
                                leaders.push({ divName, team: leader, conf });
                            }
                        }
                    }
                    
                    divisionLeadersEl.innerHTML = leaders.map(({ divName, team, conf }) => {
                        const borderColor = conf === 'AFC' ? '#ef4444' : '#3b82f6';
                        return `
                            <div style="background: rgba(15, 23, 42, 0.6); padding: 1rem; border-radius: 8px; border-left: 4px solid ${borderColor};">
                                <div style="color: #94a3b8; font-size: 0.85rem; margin-bottom: 0.5rem;">${divName}</div>
                                <div style="font-weight: bold; font-size: 1.1rem;">${team.name}</div>
                                <div style="color: #cbd5e1; margin-top: 0.25rem;">${team.wins}-${team.losses} ‚Ä¢ ${(team.ppg || 0).toFixed(1)} PPG</div>
                            </div>
                        `;
                    }).join('');
                }
                
                // Update database stats
                const totalGames = teams.reduce((sum, t) => sum + (t.games_played || 0), 0);
                const avgPPG = teams.reduce((sum, t) => sum + (t.ppg || 0), 0) / teams.length;
                const now = new Date();
                const updateTime = now.toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' }) + 
                                   ' at ' + now.toLocaleTimeString('en-US', { hour: 'numeric', minute: '2-digit' });
                
                document.getElementById('total-games').textContent = totalGames;
                document.getElementById('avg-ppg').textContent = avgPPG.toFixed(1);
                document.getElementById('last-update').textContent = updateTime;
                
                // Update Conference Chart
                if (window.conferenceChart) {
                    console.log('üìä Updating Conference Chart...');
                    window.conferenceChart.data.labels = ['AFC Wins', 'NFC Wins', 'AFC Losses', 'NFC Losses'];
                    window.conferenceChart.data.datasets[0].data = [
                        afcWins,
                        nfcWins,
                        afcGames - afcWins,
                        nfcGames - nfcWins
                    ];
                    window.conferenceChart.data.datasets[0].backgroundColor = [
                        'rgba(239, 68, 68, 0.8)',
                        'rgba(59, 130, 246, 0.8)',
                        'rgba(239, 68, 68, 0.3)',
                        'rgba(59, 130, 246, 0.3)'
                    ];
                    window.conferenceChart.update('none');
                    console.log('‚úÖ Conference Chart updated');
                } else {
                    console.error('‚ùå Conference Chart not found!');
                }
                
                // Update Points Chart
                if (window.pointsChart) {
                    console.log('üìä Updating Points Chart...');
                    const top8 = topTeams.slice(0, 8);
                    window.pointsChart.data.labels = top8.map(t => t.abbreviation);
                    window.pointsChart.data.datasets[0].data = top8.map(t => t.ppg || 0);
                    window.pointsChart.data.datasets[1].data = top8.map(t => t.pa || 0);
                    window.pointsChart.update('none');
                    console.log('‚úÖ Points Chart updated');
                } else {
                    console.error('‚ùå Points Chart not found!');
                }
                
                console.log('‚úÖ Analytics update complete!');
                
            } catch (error) {
                console.error('‚ùå Failed to update analytics:', error);
            }
        }

        // Update GitHub Tab
        function updateGitHubTab(github) {
            const commitsEl = document.getElementById('latest-commits');
            if (commitsEl && github.commits.length > 0) {
                commitsEl.innerHTML = github.commits.map(commit => `
                    <div style="border-left: 4px solid #10b981; padding-left: 1rem; margin-bottom: 1rem;">
                        <p style="color: #10b981;"><strong>Commit ${commit.sha}</strong> - ${commit.message}</p>
                        <p style="font-size: 0.85rem; color: #94a3b8;">
                            ${commit.author} ‚Ä¢ ${new Date(commit.date).toLocaleString()}
                        </p>
                    </div>
                `).join('');
            }
        }

        // Create status indicator
        function createStatusIndicator() {
            const indicator = document.createElement('div');
            indicator.id = 'status-indicator';
            indicator.style.cssText = `
                position: fixed;
                bottom: 20px;
                right: 20px;
                padding: 12px 20px;
                border-radius: 30px;
                font-size: 0.9rem;
                font-weight: 600;
                z-index: 10000;
                backdrop-filter: blur(10px);
                box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);
                transition: all 0.3s ease;
                cursor: pointer;
                display: flex;
                align-items: center;
                gap: 10px;
            `;
            
            indicator.addEventListener('click', showStatusModal);
            document.body.appendChild(indicator);
            
            // Create countdown display
            const countdown = document.createElement('div');
            countdown.id = 'refresh-countdown';
            countdown.style.cssText = `
                position: fixed;
                bottom: 70px;
                right: 20px;
                padding: 8px 16px;
                border-radius: 20px;
                font-size: 0.8rem;
                font-weight: 500;
                z-index: 10000;
                backdrop-filter: blur(10px);
                background: rgba(15, 23, 42, 0.8);
                color: #94a3b8;
                box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
                display: none;
            `;
            document.body.appendChild(countdown);
        }

        // Update status indicator
        function updateStatusIndicator() {
            const indicator = document.getElementById('status-indicator');
            if (!indicator) return;
            
            if (isLiveMode) {
                indicator.innerHTML = `
                    <span style="font-size: 1.2rem;">üü¢</span>
                    <span>Live Data</span>
                    <span style="font-size: 0.7rem; opacity: 0.8;">Auto-Refresh</span>
                `;
                indicator.style.background = 'linear-gradient(135deg, rgba(16, 185, 129, 0.95) 0%, rgba(5, 150, 105, 0.95) 100%)';
                indicator.style.color = '#ffffff';
                indicator.style.animation = 'pulse 2s infinite';
                indicator.title = 'Connected to Flask API\nAuto-refresh every 30 seconds\nClick for details';
                
                // Show countdown
                const countdown = document.getElementById('refresh-countdown');
                if (countdown) countdown.style.display = 'block';
            } else {
                indicator.innerHTML = `
                    <span style="font-size: 1.2rem;">üìä</span>
                    <span>Static Data</span>
                `;
                indicator.style.background = 'linear-gradient(135deg, rgba(59, 130, 246, 0.95) 0%, rgba(37, 99, 235, 0.95) 100%)';
                indicator.style.color = '#ffffff';
                indicator.style.animation = 'none';
                indicator.title = 'API offline - using demo data\nClick for details';
                
                // Hide countdown
                const countdown = document.getElementById('refresh-countdown');
                if (countdown) countdown.style.display = 'none';
            }
        }

        // Update countdown timer
        function updateCountdown() {
            const countdown = document.getElementById('refresh-countdown');
            if (countdown && isLiveMode) {
                if (refreshCountdown > 0) {
                    countdown.textContent = `Next refresh in ${refreshCountdown}s`;
                    countdown.style.display = 'block';
                    refreshCountdown--;
                } else {
                    countdown.textContent = 'Refreshing...';
                    refreshCountdown = 30;
                }
            }
        }

        // Show status modal
        function showStatusModal() {
            const modal = document.createElement('div');
            modal.style.cssText = `
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
                padding: 2rem;
                border-radius: 15px;
                box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
                z-index: 10001;
                max-width: 500px;
                border: 2px solid ${isLiveMode ? '#10b981' : '#3b82f6'};
                color: #e2e8f0;
            `;
            
            const lastUpdate = lastUpdateTime ? lastUpdateTime.toLocaleTimeString() : 'Never';
            
            modal.innerHTML = `
                <h3 style="margin-top: 0; color: ${isLiveMode ? '#10b981' : '#3b82f6'}; display: flex; align-items: center; gap: 10px;">
                    <span style="font-size: 1.5rem;">${isLiveMode ? 'üü¢' : 'üìä'}</span>
                    ${isLiveMode ? 'Live Data Mode' : 'Static Data Mode'}
                </h3>
                
                ${isLiveMode ? `
                    <p><strong>Status:</strong> ‚úÖ Connected to Flask API</p>
                    <p><strong>API Endpoint:</strong> <code style="color: #10b981;">http://localhost:5000</code></p>
                    <p><strong>Data Sources:</strong></p>
                    <ul style="margin: 0.5rem 0;">
                        <li>PostgreSQL Database (live stats)</li>
                        <li>GitHub API (latest commits)</li>
                        <li>ESPN API (team data)</li>
                    </ul>
                    <p><strong>Auto-Refresh:</strong> Every 30 seconds</p>
                    <p><strong>Last Update:</strong> ${lastUpdate}</p>
                    <hr style="border-color: rgba(16, 185, 129, 0.3); margin: 1rem 0;">
                    <p style="font-size: 0.9rem; color: #94a3b8;">
                        All dashboard tabs are pulling real-time data from your Flask API. 
                        Stats update automatically - no manual refresh needed! üéâ
                    </p>
                ` : `
                    <p><strong>Status:</strong> ‚ö†Ô∏è API server offline</p>
                    <p><strong>Data Source:</strong> Static demonstration data</p>
                    <p><strong>Refresh:</strong> Manual only</p>
                    <p><strong>Benefits:</strong> Always accessible, perfect for demos</p>
                    <hr style="border-color: rgba(59, 130, 246, 0.3); margin: 1rem 0;">
                    <p style="font-size: 0.9rem; color: #94a3b8;">
                        Dashboard is using cached data. To enable auto-updates, start your Flask API server:
                    </p>
                    <div style="background: rgba(59, 130, 246, 0.1); padding: 0.75rem; border-radius: 5px; margin-top: 0.75rem; border-left: 3px solid #3b82f6;">
                        <strong>Windows:</strong><br>
                        <code style="color: #3b82f6; font-size: 0.85rem;">START.bat</code> (production)<br>
                        <code style="color: #3b82f6; font-size: 0.85rem;">START-DEV.bat</code> (development)
                    </div>
                `}
                
                <button onclick="this.parentElement.remove(); document.getElementById('modal-overlay').remove();" 
                        style="margin-top: 1.5rem; padding: 0.75rem 1.5rem; background: ${isLiveMode ? '#10b981' : '#3b82f6'}; 
                        border: none; border-radius: 8px; color: white; font-weight: 600; cursor: pointer; width: 100%;">
                    Got it!
                </button>
            `;
            
            // Create overlay
            const overlay = document.createElement('div');
            overlay.id = 'modal-overlay';
            overlay.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0, 0, 0, 0.7);
                z-index: 10000;
                backdrop-filter: blur(5px);
            `;
            overlay.onclick = () => {
                modal.remove();
                overlay.remove();
            };
            
            document.body.appendChild(overlay);
            document.body.appendChild(modal);
        }

        // Start auto-refresh
        function startAutoRefresh() {
            // Initial update
            updateDashboard();
            
            // Auto-refresh every 30 seconds
            if (autoRefreshInterval) clearInterval(autoRefreshInterval);
            autoRefreshInterval = setInterval(() => {
                updateDashboard();
                refreshCountdown = 30;
            }, 30000);
            
            // Countdown timer every second
            setInterval(updateCountdown, 1000);
        }

        // Add CSS animation
        const style = document.createElement('style');
        style.textContent = `
            @keyframes pulse {
                0%, 100% { box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4); }
                50% { box-shadow: 0 4px 30px rgba(16, 185, 129, 0.6); }
            }
        `;
        document.head.appendChild(style);

        // Initialize on page load
        window.addEventListener('DOMContentLoaded', () => {
            // Scroll to top on page load
            window.scrollTo(0, 0);
            
            // Restore the last active tab from localStorage
            const savedTab = localStorage.getItem('drFosterActiveTab');
            if (savedTab) {
                console.log('üîÑ Restoring saved tab:', savedTab);
                showTab(savedTab);
            } else {
                // Default to overview if no saved tab
                console.log('üìä No saved tab, showing overview');
                showTab('overview');
            }
            
            createStatusIndicator();
            startAutoRefresh();
            console.log('üöÄ Auto-updating dashboard initialized');
        });
        
        // Also scroll to top when page fully loads (including images)
        window.addEventListener('load', () => {
            window.scrollTo(0, 0);
        });

        // ============================================
        // END AUTO-UPDATE SYSTEM
        // ============================================

        // 3D Architecture Visualization
        let scene, camera, renderer, labelRenderer, controls;
        let architectureInitialized = false;

        function init3DArchitecture() {
            if (architectureInitialized) return;
            architectureInitialized = true;

            const container = document.getElementById('canvas-container');
            const canvas = document.getElementById('architecture-canvas');

            // Scene setup - Packet Tracer style professional network
            scene = new THREE.Scene();
            scene.background = new THREE.Color(0x2b2d42); // Packet Tracer dark background
            // No fog - clean network diagram

            // Camera - Packet Tracer style wide view for many devices
            camera = new THREE.PerspectiveCamera(65, container.clientWidth / container.clientHeight, 0.1, 1000);
            camera.position.set(0, 50, 40); // Much higher for network overview
            camera.lookAt(0, 0, 0);

            // WebGL Renderer setup
            renderer = new THREE.WebGLRenderer({ canvas: canvas, antialias: true });
            renderer.setSize(container.clientWidth, container.clientHeight);
            renderer.setPixelRatio(window.devicePixelRatio);

            // CSS2D Label Renderer
            labelRenderer = new THREE.CSS2DRenderer();
            labelRenderer.setSize(container.clientWidth, container.clientHeight);
            labelRenderer.domElement.style.position = 'absolute';
            labelRenderer.domElement.style.top = '0';
            labelRenderer.domElement.style.pointerEvents = 'none';
            container.appendChild(labelRenderer.domElement);

            // Controls - Full interactivity with room for 100s of devices
            controls = new THREE.OrbitControls(camera, renderer.domElement);
            controls.enableDamping = true;
            controls.dampingFactor = 0.05;
            controls.screenSpacePanning = false;
            controls.minDistance = 10; // Can zoom in close
            controls.maxDistance = 120; // Can zoom out very far
            controls.target.set(0, 0, 0); // Center of network
            controls.maxPolarAngle = Math.PI * 0.55; // Mostly top-down
            controls.minPolarAngle = Math.PI * 0.15;
            controls.update();

            // Lights - Packet Tracer style professional lighting
            const ambientLight = new THREE.AmbientLight(0xffffff, 0.5);
            scene.add(ambientLight);

            // Main light from above
            const mainLight = new THREE.DirectionalLight(0xffffff, 0.7);
            mainLight.position.set(0, 40, 20);
            scene.add(mainLight);

            // Fill lights (cool professional tones)
            const fillLight1 = new THREE.PointLight(0x4a90e2, 0.4, 100); // Professional blue
            fillLight1.position.set(20, 15, 20);
            scene.add(fillLight1);

            const fillLight2 = new THREE.PointLight(0x50c878, 0.4, 100); // Professional green
            fillLight2.position.set(-20, 15, -20);
            scene.add(fillLight2);

            // Grid floor - Packet Tracer style (large for many devices)
            const gridHelper = new THREE.GridHelper(150, 75, 0x3a3d5c, 0x3a3d5c);
            gridHelper.material.opacity = 0.4;
            gridHelper.material.transparent = true;
            scene.add(gridHelper);

            // Create 3D Architecture
            createArchitecture();

            // Setup hover interactions
            setupHoverInteractions();

            // Animation loop - Professional subtle pulsing
            let animationTime = 0;
            function animate() {
                requestAnimationFrame(animate);
                animationTime += 0.015; // Slightly slower for professional look
                
                // Subtle pulsing glow on all objects (professional but cool)
                scene.traverse((object) => {
                    if (object.userData && object.userData.material && object.userData.pulsePhase !== undefined) {
                        const pulse = Math.sin(animationTime + object.userData.pulsePhase) * 0.25 + 0.75; // More subtle range
                        object.userData.material.emissiveIntensity = pulse;
                    }
                });
                
                controls.update();
                renderer.render(scene, camera);
                labelRenderer.render(scene, camera);
            }
            animate();
            
            // Apply initial color state based on current live mode
            // This ensures the tower colors match the current API connection status
            setTimeout(() => {
                update3DMonitorColors(isLiveMode);
            }, 100);

            // Handle window resize
            window.addEventListener('resize', () => {
                const newWidth = container.clientWidth;
                const newHeight = container.clientHeight;
                
                camera.aspect = newWidth / newHeight;
                camera.updateProjectionMatrix();
                
                renderer.setSize(newWidth, newHeight);
                labelRenderer.setSize(newWidth, newHeight);
                
                // Keep centered on resize
                controls.update();
            });
        }

        function createArchitecture() {
            // Tier 1: Frontend (React) - Top - React logo inspired hexagon (smaller for network diagram)
            const frontendShape = new THREE.Shape();
            const radius = 3; // Reduced from 4.5 for Packet Tracer scale
            for (let i = 0; i < 6; i++) {
                const angle = (Math.PI / 3) * i;
                const x = radius * Math.cos(angle);
                const y = radius * Math.sin(angle);
                if (i === 0) frontendShape.moveTo(x, y);
                else frontendShape.lineTo(x, y);
            }
            frontendShape.lineTo(radius, 0);
            
            const extrudeSettings = { depth: 1.5, bevelEnabled: true, bevelThickness: 0.2, bevelSize: 0.15, bevelSegments: 2 };
            const frontendGeometry = new THREE.ExtrudeGeometry(frontendShape, extrudeSettings);
            const frontendMaterial = new THREE.MeshPhongMaterial({ 
                color: 0x4a90e2, // Professional blue (Packet Tracer client device)
                emissive: 0x4a90e2, 
                emissiveIntensity: 0.6,
                shininess: 100,
                transparent: true,
                opacity: 0.95
            });
            const frontend = new THREE.Mesh(frontendGeometry, frontendMaterial);
            frontend.position.set(-35, 2, -15); // Spread out for 100s of devices
            frontend.rotation.x = Math.PI / 2;
            scene.add(frontend);
            
            // Add pulsing animation
            frontend.userData.pulsePhase = 0;
            frontend.userData.material = frontendMaterial;

            // Add edges for better definition
            const frontendEdges = new THREE.EdgesGeometry(frontendGeometry);
            const frontendLine = new THREE.LineSegments(frontendEdges, new THREE.LineBasicMaterial({ color: 0x6bb6ff, linewidth: 2 }));
            frontend.add(frontendLine);

            // Add label
            addLabel('React<br><small>Port 3000</small>', frontend, 'label-frontend');

            // Store metadata for hover
            frontend.userData = {
                name: 'React Frontend',
                tier: 'Tier 1: Presentation Layer',
                port: '3000 (Development)',
                technology: 'React 18.2 with Functional Components',
                features: [
                    'Real-time data display with live updates',
                    'Responsive design (mobile & desktop)',
                    'Interactive data tables with sorting',
                    'Chart.js visualizations',
                    'RESTful API integration'
                ],
                communication: 'Sends HTTP requests to Flask API (Port 5000)',
                files: 'frontend/src/App.js, frontend/src/components/',
                dependencies: 'react, react-dom, axios, chart.js'
            };

            // Tier 2: Backend (Flask) - Middle - Professional server rack (smaller)
            const backendGroup = new THREE.Group();
            
            // Main server body
            const serverBody = new THREE.BoxGeometry(5, 3, 3); // Reduced from 8x5x4.5
            const backendMaterial = new THREE.MeshPhongMaterial({ 
                color: 0x5a6c7d, // Professional gray (Packet Tracer server)
                emissive: 0x5a6c7d, 
                emissiveIntensity: 0.5,
                shininess: 80
            });
            const backend = new THREE.Mesh(serverBody, backendMaterial);
            backendGroup.add(backend);
            
            // Add pulsing animation
            backendGroup.userData.pulsePhase = Math.PI / 3;
            backendGroup.userData.material = backendMaterial;

            // Server rack details (horizontal lines)
            for (let i = -1.2; i <= 1.2; i += 0.6) {
                const rackLine = new THREE.Mesh(
                    new THREE.BoxGeometry(4.8, 0.1, 3.1),
                    new THREE.MeshPhongMaterial({ color: 0x3d4856, emissive: 0x3d4856, emissiveIntensity: 0.3 })
                );
                rackLine.position.y = i;
                backendGroup.add(rackLine);
            }

            // LED indicators (professional green)
            for (let i = 0; i < 3; i++) {
                const led = new THREE.Mesh(
                    new THREE.BoxGeometry(0.2, 0.2, 0.2),
                    new THREE.MeshPhongMaterial({ 
                        color: 0x50c878, // Professional green
                        emissive: 0x50c878, 
                        emissiveIntensity: 0.8 
                    })
                );
                led.position.set(-1.5 + i * 1.5, 1.4, 1.6);
                backendGroup.add(led);
            }

            const backendEdges = new THREE.EdgesGeometry(serverBody);
            const backendLine = new THREE.LineSegments(backendEdges, new THREE.LineBasicMaterial({ color: 0x7a8c9e, linewidth: 2 }));
            backendGroup.add(backendLine);

            backendGroup.position.set(0, 2, 0); // Center hub
            scene.add(backendGroup);

            addLabel('Flask API<br><small>Port 5000</small>', backendGroup, 'label-backend');

            // Store metadata for hover
            backendGroup.userData = {
                name: 'Flask API Server',
                tier: 'Tier 2: Application Layer',
                port: '5000 (DHCP Managed)',
                technology: 'Python Flask 3.0 + Flask-CORS',
                features: [
                    'RESTful API endpoints (/api/teams, /api/games)',
                    'DHCP port management (5000-5009)',
                    'Comprehensive logging system',
                    'PostgreSQL database integration',
                    'ESPN CDN logo URLs only (no data fetching)'
                ],
                communication: 'Receives requests from React, queries PostgreSQL & nflverse data',
                files: 'api_server_v2.py, db_config.py, nfl_database_loader.py',
                dependencies: 'flask, flask-cors, psycopg2, nfl-data-py'
            };

            // Tier 3: Database (PostgreSQL) - Bottom Left - Classic cylinder database (smaller)
            const dbGroup = new THREE.Group();
            
            // Database cylinder (stacked disks)
            const cylinderGeometry = new THREE.CylinderGeometry(2.2, 2.2, 3.5, 32); // Reduced from 3.5x5
            const dbMaterial = new THREE.MeshPhongMaterial({ 
                color: 0x2a9d8f, // Professional teal (Packet Tracer database)
                emissive: 0x2a9d8f, 
                emissiveIntensity: 0.6,
                shininess: 100
            });
            const cylinder = new THREE.Mesh(cylinderGeometry, dbMaterial);
            dbGroup.add(cylinder);
            
            // Add pulsing animation
            dbGroup.userData.pulsePhase = Math.PI * 2 / 3;
            dbGroup.userData.material = dbMaterial;

            // Disk separators
            for (let i = -1.3; i <= 1.3; i += 1.3) {
                const disk = new THREE.Mesh(
                    new THREE.CylinderGeometry(2.4, 2.4, 0.15, 32),
                    new THREE.MeshPhongMaterial({ color: 0x1e7a6e, emissive: 0x1e7a6e, emissiveIntensity: 0.3 })
                );
                disk.position.y = i;
                dbGroup.add(disk);
            }

            const dbEdges = new THREE.EdgesGeometry(cylinderGeometry);
            const dbLine = new THREE.LineSegments(dbEdges, new THREE.LineBasicMaterial({ color: 0x4db8a8, linewidth: 2 }));
            dbGroup.add(dbLine);

            dbGroup.position.set(-35, 2, 15); // Bottom left corner
            scene.add(dbGroup);

            addLabel('PostgreSQL<br><small>Port 5432</small>', dbGroup, 'label-database');

            // Store metadata for hover
            dbGroup.userData = {
                name: 'PostgreSQL 18 Database',
                tier: 'Tier 3: Data Layer',
                port: '5432 (Standard PostgreSQL)',
                technology: 'PostgreSQL 18.0 on Windows x64',
                features: [
                    'Stores 32 NFL teams with full statistics',
                    'Game schedules & live scores',
                    'Historical betting data',
                    'Optimized indexes for fast queries',
                    'Automated backups & migrations'
                ],
                communication: 'Responds to SQL queries from Flask API',
                schema: 'teams, games, update_metadata tables',
                credentials: 'User: postgres, Database: nfl_analytics'
            };

            // ESPN Logo CDN (NOT API) - Bottom Right - Crossed-out cloud to show it's deprecated
            const apiGroup = new THREE.Group();
            
            // Main body (grayed out/deprecated)
            const apiBody = new THREE.SphereGeometry(3, 32, 32);
            const apiMaterial = new THREE.MeshPhongMaterial({ 
                color: 0x64748b, // Grayed out (deprecated)
                emissive: 0x64748b, 
                emissiveIntensity: 0.2,
                shininess: 50,
                transparent: true,
                opacity: 0.4 // Very faded
            });
            const apiSphere = new THREE.Mesh(apiBody, apiMaterial);
            apiGroup.add(apiSphere);
            
            // Add pulsing animation (slower for deprecated)
            apiGroup.userData.pulsePhase = Math.PI;
            apiGroup.userData.material = apiMaterial;

            // Cloud puffs (smaller spheres, also grayed)
            const puffPositions = [
                [-2.2, 0.6, 0], [2.2, 0.6, 0], [0, 0.6, 2.2], [0, 0.6, -2.2],
                [-1.6, -0.6, 1.6], [1.6, -0.6, 1.6], [-1.6, -0.6, -1.6], [1.6, -0.6, -1.6]
            ];
            
            puffPositions.forEach(pos => {
                const puff = new THREE.Mesh(
                    new THREE.SphereGeometry(1, 16, 16),
                    new THREE.MeshPhongMaterial({ 
                        color: 0x475569, 
                        emissive: 0x475569, 
                        emissiveIntensity: 0.1,
                        transparent: true,
                        opacity: 0.3
                    })
                );
                puff.position.set(pos[0], pos[1], pos[2]);
                apiGroup.add(puff);
            });

            // Add "X" mark to show it's not used
            const xMaterial = new THREE.LineBasicMaterial({ color: 0xef4444, linewidth: 3 });
            const xPoints1 = [new THREE.Vector3(-2, -2, 3.5), new THREE.Vector3(2, 2, 3.5)];
            const xPoints2 = [new THREE.Vector3(-2, 2, 3.5), new THREE.Vector3(2, -2, 3.5)];
            const xGeometry1 = new THREE.BufferGeometry().setFromPoints(xPoints1);
            const xGeometry2 = new THREE.BufferGeometry().setFromPoints(xPoints2);
            const xLine1 = new THREE.Line(xGeometry1, xMaterial);
            const xLine2 = new THREE.Line(xGeometry2, xMaterial);
            apiGroup.add(xLine1);
            apiGroup.add(xLine2);

            apiGroup.position.set(35, 2, 15); // Bottom right corner
            scene.add(apiGroup);

            addLabel('ESPN CDN<br><small>‚ùå Logos Only</small>', apiGroup, 'label-api');

            // Store metadata for hover
            apiGroup.userData = {
                name: 'ESPN CDN (Not API)',
                tier: '‚ö†Ô∏è DEPRECATED - Logo Images Only',
                port: 'HTTPS (443)',
                technology: 'ESPN CDN (Content Delivery Network)',
                features: [
                    '‚ùå NO DATA API - Only logo images',
                    '‚úÖ Team logo URLs from ESPN CDN',
                    '‚ö†Ô∏è Historical: Used ESPN API in Weeks 3-4',
                    '‚úÖ Current: nflverse for all data (Sprint 5-7)',
                    'Logo URL pattern: a.espncdn.com/i/teamlogos/nfl/500/{team}.png'
                ],
                communication: 'Logo URLs returned by Flask API (no data fetching)',
                endpoints: 'a.espncdn.com/i/teamlogos/ (images only)',
                refresh: 'N/A - Static image hosting'
            };

            // Tier 5: Data Monitor (Hybrid System) - Top Center - Monitoring tower/antenna
            const monitorGroup = new THREE.Group();
            
            // Main monitoring tower body (octagonal prism)
            const towerShape = new THREE.Shape();
            const towerRadius = 2.5;
            for (let i = 0; i < 8; i++) {
                const angle = (Math.PI / 4) * i;
                const x = towerRadius * Math.cos(angle);
                const y = towerRadius * Math.sin(angle);
                if (i === 0) towerShape.moveTo(x, y);
                else towerShape.lineTo(x, y);
            }
            towerShape.lineTo(towerRadius, 0);
            
            const towerExtrudeSettings = { depth: 4, bevelEnabled: false };
            const towerGeometry = new THREE.ExtrudeGeometry(towerShape, towerExtrudeSettings);
            const monitorMaterial = new THREE.MeshPhongMaterial({ 
                color: 0xe63946, // Professional red/orange (monitoring system)
                emissive: 0xe63946, 
                emissiveIntensity: 0.7,
                shininess: 100,
                transparent: true,
                opacity: 0.95
            });
            const tower = new THREE.Mesh(towerGeometry, monitorMaterial);
            tower.rotation.x = Math.PI / 2;
            monitorGroup.add(tower);
            
            // Add pulsing animation
            monitorGroup.userData.pulsePhase = Math.PI * 4 / 3;
            monitorGroup.userData.material = monitorMaterial;

            // Antenna/sensor rings (spinning rings at top)
            for (let i = 0; i < 3; i++) {
                const ring = new THREE.Mesh(
                    new THREE.TorusGeometry(1.8 - i * 0.5, 0.15, 8, 16),
                    new THREE.MeshPhongMaterial({ 
                        color: 0xff6b6b, 
                        emissive: 0xff6b6b, 
                        emissiveIntensity: 0.5 
                    })
                );
                ring.position.y = 2.5 + i * 0.4;
                ring.rotation.x = Math.PI / 2;
                monitorGroup.add(ring);
            }

            // Status LED indicator (glowing sphere at top)
            const statusLED = new THREE.Mesh(
                new THREE.SphereGeometry(0.5, 16, 16),
                new THREE.MeshPhongMaterial({ 
                    color: 0xff4444, // Red for offline (will change to green when live)
                    emissive: 0xff4444, 
                    emissiveIntensity: 1.0 
                })
            );
            statusLED.position.y = 4.5;
            statusLED.name = 'statusLED'; // Name it so we can find it later
            monitorGroup.add(statusLED);

            // Tower edges for definition
            const towerEdges = new THREE.EdgesGeometry(towerGeometry);
            const towerLine = new THREE.LineSegments(towerEdges, new THREE.LineBasicMaterial({ color: 0xff8fa3, linewidth: 2 }));
            towerLine.name = 'towerLine';
            monitorGroup.add(towerLine);

            monitorGroup.position.set(35, 2, -15); // Top right corner
            monitorGroup.name = 'apiStatusMonitor'; // Name it so we can find it later
            scene.add(monitorGroup);

            addLabel('API Status<br><small>Uptime Monitor</small>', monitorGroup, 'label-monitor');

            // Store metadata for hover
            monitorGroup.userData = {
                name: 'API Status Monitor',
                tier: 'Monitoring & Observability',
                port: 'N/A (Monitoring Service)',
                technology: 'JavaScript Fetch API with Timeout',
                features: [
                    'Auto-detects API availability (3s timeout)',
                    'Seamless fallback to static data',
                    'Visual status indicator (green=live, red=static)',
                    'Auto-refresh every 5 minutes in live mode',
                    'Clickable status badge with detailed info'
                ],
                communication: 'Monitors Flask API health via periodic checks',
                modes: 'Live Mode (connects to API) | Static Mode (cached fallback data)',
                indicator: 'Bottom-right floating badge shows current status'
            };

            // ========================================
            // NEW SPRINT 5-7 COMPONENTS (Oct 21-27, 2025)
            // ========================================
            
            // HCL Historical Database Schema - Bottom Center (between PostgreSQL and Flask)
            const hclGroup = new THREE.Group();
            
            // Database stack (3 stacked cubes representing 3 tables)
            for (let i = 0; i < 3; i++) {
                const cube = new THREE.Mesh(
                    new THREE.BoxGeometry(3.5, 1.2, 3.5),
                    new THREE.MeshPhongMaterial({ 
                        color: 0xf59e0b, // Professional amber/orange
                        emissive: 0xf59e0b, 
                        emissiveIntensity: 0.6,
                        shininess: 90
                    })
                );
                cube.position.y = i * 1.3 - 1.3;
                hclGroup.add(cube);
                
                // Add edges
                const cubeEdges = new THREE.EdgesGeometry(cube.geometry);
                const cubeLine = new THREE.LineSegments(cubeEdges, new THREE.LineBasicMaterial({ color: 0xfbbf24, linewidth: 2 }));
                cube.add(cubeLine);
            }
            
            // Add pulsing animation
            hclGroup.userData.pulsePhase = Math.PI * 5 / 3;
            hclGroup.userData.material = hclGroup.children[0].material;
            
            hclGroup.position.set(-17, 2, 7); // Between PostgreSQL and Flask
            scene.add(hclGroup);
            
            addLabel('HCL Schema<br><small>3 Tables + 3 Views</small>', hclGroup, 'label-database');
            
            hclGroup.userData = {
                name: 'HCL Historical Schema',
                tier: 'Sprint 5: Database Design (Oct 21-22, 2025)',
                port: '5432 (Within PostgreSQL)',
                technology: '3NF Normalized Schema with Views',
                features: [
                    '3 Tables: games, team_game_stats, league_metrics',
                    '3 Views: v_team_season_stats, v_team_momentum, v_matchup_projections',
                    '47 metrics per game (EPA, success rate, yards, turnovers, etc.)',
                    'Current season: 2025 Weeks 1-8 complete (120+ games, Week 9 in progress)',
                    'Designed for historical analytics & betting predictions'
                ],
                communication: 'Queried by HCL REST API endpoints, populated from nflverse data',
                schema: 'hcl.games (16 cols), hcl.team_game_stats (50 cols), hcl.league_metrics',
                dataSource: 'nflverse via nfl-data-py Python package'
            };
            
            // nflverse Data Source - Far Bottom Right (external data feed)
            const nflverseGroup = new THREE.Group();
            
            // Cloud-like structure (multiple small spheres)
            const mainSphere = new THREE.Mesh(
                new THREE.SphereGeometry(2.8, 32, 32),
                new THREE.MeshPhongMaterial({ 
                    color: 0x8b5cf6, // Professional purple
                    emissive: 0x8b5cf6, 
                    emissiveIntensity: 0.6,
                    shininess: 100,
                    transparent: true,
                    opacity: 0.9
                })
            );
            nflverseGroup.add(mainSphere);
            
            // Add smaller orbs around it (data nodes)
            const orbPositions = [
                [-2, 1, 0], [2, 1, 0], [0, 1, 2], [0, 1, -2],
                [-1.5, -1, 1.5], [1.5, -1, 1.5]
            ];
            
            orbPositions.forEach(pos => {
                const orb = new THREE.Mesh(
                    new THREE.SphereGeometry(0.8, 16, 16),
                    new THREE.MeshPhongMaterial({ 
                        color: 0xa78bfa, 
                        emissive: 0xa78bfa, 
                        emissiveIntensity: 0.4,
                        transparent: true,
                        opacity: 0.8
                    })
                );
                orb.position.set(pos[0], pos[1], pos[2]);
                nflverseGroup.add(orb);
            });
            
            // Add pulsing animation
            nflverseGroup.userData.pulsePhase = Math.PI * 1.5;
            nflverseGroup.userData.material = mainSphere.material;
            
            nflverseGroup.position.set(17, 2, 30); // Far bottom right
            scene.add(nflverseGroup);
            
            addLabel('nflverse<br><small>Historical Data</small>', nflverseGroup, 'label-api');
            
            nflverseGroup.userData = {
                name: 'nflverse Data Source',
                tier: 'External Data Provider',
                port: 'HTTPS (Python Package)',
                technology: 'nfl-data-py (nflverse)',
                features: [
                    'Free, no API key required',
                    'Comprehensive historical data (1999-present)',
                    'Play-by-play, team stats, betting lines',
                    'Weekly game-level statistics',
                    'Calculated advanced metrics (EPA, success rate)'
                ],
                communication: 'Python package loads data into HCL schema',
                dataTypes: 'Team stats, game results, betting spreads, play-by-play',
                update: 'Weekly batch loads (not real-time)'
            };
            
            // ========================================
            // SPRINT 9: ML NEURAL NETWORK (Nov 6, 2025)
            // ========================================
            
            // ML Neural Network Model - Center Bottom (between HCL and nflverse)
            const mlGroup = new THREE.Group();
            
            // Brain/neural network structure - interconnected spheres
            const mlCoreMaterial = new THREE.MeshPhongMaterial({ 
                color: 0xec4899, // Professional pink/magenta
                emissive: 0xec4899, 
                emissiveIntensity: 0.7,
                shininess: 120,
                transparent: true,
                opacity: 0.95
            });
            
            // Central processing sphere (brain core)
            const mlCore = new THREE.Mesh(
                new THREE.SphereGeometry(2.5, 32, 32),
                mlCoreMaterial
            );
            mlGroup.add(mlCore);
            
            // Neural layers (rings around core representing network layers)
            for (let i = 0; i < 4; i++) {
                const ring = new THREE.Mesh(
                    new THREE.TorusGeometry(1.2 + i * 0.6, 0.2, 8, 16),
                    new THREE.MeshPhongMaterial({ 
                        color: 0xf472b6, 
                        emissive: 0xf472b6, 
                        emissiveIntensity: 0.5 - i * 0.1,
                        transparent: true,
                        opacity: 0.8
                    })
                );
                ring.rotation.x = Math.PI / 2 + i * 0.3;
                ring.rotation.y = i * Math.PI / 4;
                mlGroup.add(ring);
            }
            
            // Neuron nodes (small spheres around the core)
            const neuronPositions = [
                [-2.5, 2, 0], [2.5, 2, 0], [0, 2, 2.5], [0, 2, -2.5],
                [-2.5, -2, 0], [2.5, -2, 0], [0, -2, 2.5], [0, -2, -2.5]
            ];
            
            neuronPositions.forEach((pos, idx) => {
                const neuron = new THREE.Mesh(
                    new THREE.SphereGeometry(0.5, 16, 16),
                    new THREE.MeshPhongMaterial({ 
                        color: 0xfbbf24, // Gold neurons
                        emissive: 0xfbbf24, 
                        emissiveIntensity: 0.8
                    })
                );
                neuron.position.set(pos[0], pos[1], pos[2]);
                mlGroup.add(neuron);
            });
            
            // Add pulsing animation
            mlGroup.userData.pulsePhase = Math.PI * 1.8;
            mlGroup.userData.material = mlCoreMaterial;
            
            mlGroup.position.set(0, 2, 20); // Center bottom, between HCL and nflverse
            scene.add(mlGroup);
            
            addLabel('ML Model<br><small>TensorFlow Neural Net</small>', mlGroup, 'label-ml');
            
            mlGroup.userData = {
                name: 'ML Neural Network Model',
                tier: 'Sprint 9: Machine Learning (Nov 6, 2025)',
                port: 'N/A (Trained Model)',
                technology: 'TensorFlow 2.18.0 + Keras',
                features: [
                    'Deep Neural Network: 41 ‚Üí 128 ‚Üí 64 ‚Üí 32 ‚Üí 1',
                    'Training Data: 14,312 games (1999-2025, 27 seasons)',
                    '41 rolling features (PPG, yards, turnovers, etc.)',
                    'Test Accuracy: 65.55% (beats Vegas lines 52-55%)',
                    'No data leakage - uses only pre-game statistics',
                    '20,097 learnable parameters'
                ],
                communication: 'Trained on HCL historical data, deployed via Flask API',
                model: 'Saved as .keras file, loaded for predictions',
                training: 'Train: 1999-2023 | Validation: 2024 | Test: 2025'
            };
            
            // React Team Detail Pages - Top Left (frontend extension)
            const teamPagesGroup = new THREE.Group();
            
            // Multiple page stack (representing different team pages)
            for (let i = 0; i < 4; i++) {
                const page = new THREE.Mesh(
                    new THREE.BoxGeometry(3, 4, 0.3),
                    new THREE.MeshPhongMaterial({ 
                        color: 0x06b6d4, // Professional cyan
                        emissive: 0x06b6d4, 
                        emissiveIntensity: 0.6,
                        shininess: 100,
                        transparent: true,
                        opacity: 0.85
                    })
                );
                page.position.set(i * 0.3, 0, i * 0.3);
                teamPagesGroup.add(page);
                
                // Add edges
                const pageEdges = new THREE.EdgesGeometry(page.geometry);
                const pageLine = new THREE.LineSegments(pageEdges, new THREE.LineBasicMaterial({ color: 0x22d3ee, linewidth: 2 }));
                page.add(pageLine);
            }
            
            // Add Chart.js symbol (small bar chart on front page)
            const barHeights = [1, 1.5, 0.8, 1.2];
            barHeights.forEach((height, idx) => {
                const bar = new THREE.Mesh(
                    new THREE.BoxGeometry(0.3, height, 0.1),
                    new THREE.MeshPhongMaterial({ color: 0x10b981, emissive: 0x10b981, emissiveIntensity: 0.8 })
                );
                bar.position.set(-0.9 + idx * 0.6, -1 + height/2, 0.2);
                teamPagesGroup.add(bar);
            });
            
            // Add pulsing animation
            teamPagesGroup.userData.pulsePhase = Math.PI * 0.5;
            teamPagesGroup.userData.material = teamPagesGroup.children[0].material;
            
            teamPagesGroup.position.set(-35, 2, -35); // Top left corner
            scene.add(teamPagesGroup);
            
            addLabel('Team Details<br><small>React + Charts</small>', teamPagesGroup, 'label-frontend');
            
            teamPagesGroup.userData = {
                name: 'Team Detail Pages',
                tier: 'Sprint 7: Frontend (Oct 26-27, 2025)',
                port: '3000 (React Dev Server)',
                technology: 'React with Chart.js 4.4.0',
                features: [
                    'Dynamic team pages (/team/BAL, /team/KC, etc.)',
                    '6 stat cards: PPG, EPA, Success Rate, YPP, 3rd Down%, Red Zone%',
                    '8 selectable stats via checkboxes',
                    'Multi-line trend charts (dark theme)',
                    'Game history table with dynamic columns'
                ],
                communication: 'Fetches data from HCL REST API (/api/hcl/teams/<abbr>/games)',
                files: 'templates/team_detail.html',
                integration: 'Registered in app.py, accessible from main dashboard'
            };

            // Bidirectional Connection Lines and Data Flow (Packet Tracer colors)
            createBidirectionalConnection(frontend.position, backendGroup.position, 0x4a90e2, 0x5a6c7d); // Blue to Gray
            createBidirectionalConnection(backendGroup.position, dbGroup.position, 0x5a6c7d, 0x2a9d8f); // Gray to Teal
            // ESPN CDN connection removed - only logo URLs, no data flow
            createBidirectionalConnection(monitorGroup.position, backendGroup.position, 0xe63946, 0x5a6c7d); // Red to Gray (monitoring connection)
            
            // NEW Sprint 5-7 connections
            createBidirectionalConnection(nflverseGroup.position, hclGroup.position, 0x8b5cf6, 0xf59e0b); // Purple to Amber (nflverse ‚Üí HCL)
            createBidirectionalConnection(hclGroup.position, backendGroup.position, 0xf59e0b, 0x5a6c7d); // Amber to Gray (HCL ‚Üí Flask API)
            createBidirectionalConnection(teamPagesGroup.position, backendGroup.position, 0x06b6d4, 0x5a6c7d); // Cyan to Gray (Team Pages ‚Üí Flask API)
            
            // NEW Sprint 9 ML connections
            createBidirectionalConnection(hclGroup.position, mlGroup.position, 0xf59e0b, 0xec4899); // Amber to Pink (HCL ‚Üí ML for training)
            createBidirectionalConnection(mlGroup.position, backendGroup.position, 0xec4899, 0x5a6c7d); // Pink to Gray (ML ‚Üí Flask API for predictions)
        }

        function createBidirectionalConnection(start, end, color1, color2) {
            // Professional connection lines - clean but visible
            const points = [start.clone(), end.clone()];
            const geometry = new THREE.BufferGeometry().setFromPoints(points);
            
            // Main clean line
            const mainLine = new THREE.Line(
                geometry, 
                new THREE.LineBasicMaterial({ 
                    color: color1, 
                    opacity: 0.7, 
                    transparent: true, 
                    linewidth: 2 
                })
            );
            scene.add(mainLine);
            
            // Subtle glowing tube for depth
            const direction = new THREE.Vector3().subVectors(end, start);
            const length = direction.length();
            const tubeGeometry = new THREE.CylinderGeometry(0.18, 0.18, length, 8);
            const tubeMaterial = new THREE.MeshBasicMaterial({ 
                color: color1, 
                transparent: true, 
                opacity: 0.5 // Slightly more visible since we removed emissive
            });
            const tube = new THREE.Mesh(tubeGeometry, tubeMaterial);
            
            // Position and rotate the tube to connect start and end
            tube.position.copy(start).add(end).multiplyScalar(0.5);
            tube.quaternion.setFromUnitVectors(
                new THREE.Vector3(0, 1, 0), 
                direction.normalize()
            );
            tube.userData.pulsePhase = Math.random() * Math.PI * 2;
            tube.userData.material = tubeMaterial;
            scene.add(tube);

            // Animated particles in both directions - MORE PARTICLES!
            for (let i = 0; i < 3; i++) {
                setTimeout(() => {
                    createDataFlowParticle(start, end, color1, 1.5); // Forward direction
                    createDataFlowParticle(end, start, color2, 1.5); // Reverse direction
                }, i * 500);
            }
        }

        function createDataFlowParticle(start, end, color, speed) {
            const geometry = new THREE.SphereGeometry(0.35, 16, 16); // Slightly smaller
            const material = new THREE.MeshPhongMaterial({ 
                color: color, 
                emissive: color, 
                emissiveIntensity: 1.2, // More subtle glow
                transparent: true,
                opacity: 0.9
            });
            const particle = new THREE.Mesh(geometry, material);
            
            // Subtle glowing trail
            const glowGeometry = new THREE.SphereGeometry(0.6, 16, 16);
            const glowMaterial = new THREE.MeshBasicMaterial({ 
                color: color, 
                transparent: true, 
                opacity: 0.3 // More subtle
            });
            const glow = new THREE.Mesh(glowGeometry, glowMaterial);
            particle.add(glow);
            
            particle.userData.start = start.clone();
            particle.userData.end = end.clone();
            particle.userData.progress = Math.random(); // Random start position
            particle.userData.speed = speed;
            
            scene.add(particle);

            // Animate particle
            function animateParticle() {
                particle.userData.progress += 0.01 * particle.userData.speed;
                if (particle.userData.progress > 1) {
                    particle.userData.progress = 0;
                }
                
                particle.position.lerpVectors(
                    particle.userData.start, 
                    particle.userData.end, 
                    particle.userData.progress
                );
                
                // Pulse effect
                const scale = 1 + Math.sin(particle.userData.progress * Math.PI) * 0.3;
                particle.scale.set(scale, scale, scale);
                
                requestAnimationFrame(animateParticle);
            }
            animateParticle();
        }

            function addLabel(text, mesh, className) {
                const labelDiv = document.createElement('div');
                labelDiv.className = 'label-3d ' + className;
                labelDiv.innerHTML = text;
                
                const label = new THREE.CSS2DObject(labelDiv);
                label.position.set(6, 0, 0); // Position to the right of the object, not on top
                mesh.add(label);
            }        function setupHoverInteractions() {
            const raycaster = new THREE.Raycaster();
            const mouse = new THREE.Vector2();
            const tooltip = document.getElementById('hover-tooltip');
            const canvas = document.getElementById('architecture-canvas');

            // Get all interactive objects
            const interactiveObjects = [];
            scene.traverse((object) => {
                if (object.userData && object.userData.name) {
                    interactiveObjects.push(object);
                }
            });

            canvas.addEventListener('mousemove', (event) => {
                const rect = canvas.getBoundingClientRect();
                mouse.x = ((event.clientX - rect.left) / rect.width) * 2 - 1;
                mouse.y = -((event.clientY - rect.top) / rect.height) * 2 + 1;

                raycaster.setFromCamera(mouse, camera);
                const intersects = raycaster.intersectObjects(interactiveObjects, true);

                if (intersects.length > 0) {
                    // Find the parent object with userData
                    let targetObject = intersects[0].object;
                    while (targetObject && !targetObject.userData.name) {
                        targetObject = targetObject.parent;
                    }

                    if (targetObject && targetObject.userData.name) {
                        const data = targetObject.userData;
                        
                        // Build tooltip content
                        let content = `<h3>${data.name}</h3>`;
                        content += `<div class="detail-row"><span class="detail-label">Tier:</span><span class="detail-value">${data.tier}</span></div>`;
                        content += `<div class="detail-row"><span class="detail-label">Port:</span><span class="detail-value">${data.port}</span></div>`;
                        content += `<div class="detail-row"><span class="detail-label">Technology:</span><span class="detail-value">${data.technology}</span></div>`;
                        
                        if (data.features) {
                            content += `<div style="margin-top: 10px;"><strong>Features:</strong></div>`;
                            content += '<ul style="margin: 5px 0; padding-left: 20px;">';
                            data.features.forEach(f => content += `<li style="margin: 3px 0;">${f}</li>`);
                            content += '</ul>';
                        }
                        
                        content += `<div class="detail-row" style="margin-top: 8px;"><span class="detail-label">Data Flow:</span><span class="detail-value">${data.communication}</span></div>`;
                        
                        if (data.files) {
                            content += `<div class="detail-row"><span class="detail-label">Files:</span><span class="detail-value">${data.files}</span></div>`;
                        }
                        if (data.schema) {
                            content += `<div class="detail-row"><span class="detail-label">Schema:</span><span class="detail-value">${data.schema}</span></div>`;
                        }
                        if (data.endpoints) {
                            content += `<div class="detail-row"><span class="detail-label">Endpoints:</span><span class="detail-value">${data.endpoints}</span></div>`;
                        }
                        
                        tooltip.innerHTML = content;
                        tooltip.style.display = 'block';
                        tooltip.style.left = event.clientX + 'px';
                        tooltip.style.top = event.clientY + 'px';
                        
                        canvas.style.cursor = 'pointer';
                    }
                } else {
                    tooltip.style.display = 'none';
                    canvas.style.cursor = 'default';
                }
            });

            canvas.addEventListener('mouseleave', () => {
                tooltip.style.display = 'none';
                canvas.style.cursor = 'default';
            });
        }

        // ========================================
        // 3D NEURAL NETWORK VISUALIZATION
        // ========================================
        
        let neuralNetScene, neuralNetCamera, neuralNetRenderer, neuralNetControls;
        let neuralNetInitialized = false;
        let neuralNetAnimationId;
        
        function init3DNeuralNetwork() {
            if (neuralNetInitialized) return;
            console.log('üß† Initializing 3D Neural Network...');
            
            const container = document.getElementById('neural-net-canvas');
            if (!container) {
                console.error('‚ùå Neural network canvas container not found!');
                return;
            }
            
            neuralNetInitialized = true;
            
            // Clear container
            container.innerHTML = '';
            
            // Scene setup
            neuralNetScene = new THREE.Scene();
            neuralNetScene.background = new THREE.Color(0x0f172a);
            neuralNetScene.fog = new THREE.Fog(0x0f172a, 80, 200);
            
            // Camera - responsive height
            const width = container.clientWidth;
            let height = 600;
            if (window.innerWidth <= 480) {
                height = 300;
            } else if (window.innerWidth <= 768) {
                height = 400;
            } else if (window.innerWidth <= 968) {
                height = 500;
            }
            container.style.height = height + 'px';
            
            neuralNetCamera = new THREE.PerspectiveCamera(60, width / height, 0.1, 1000);
            neuralNetCamera.position.set(0, 30, 100);
            neuralNetCamera.lookAt(0, 0, 0);
            
            // Renderer
            neuralNetRenderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
            neuralNetRenderer.setSize(width, height);
            neuralNetRenderer.setPixelRatio(window.devicePixelRatio);
            container.appendChild(neuralNetRenderer.domElement);
            
            // Controls
            neuralNetControls = new THREE.OrbitControls(neuralNetCamera, neuralNetRenderer.domElement);
            neuralNetControls.enableDamping = true;
            neuralNetControls.dampingFactor = 0.05;
            neuralNetControls.minDistance = 50;
            neuralNetControls.maxDistance = 200;
            neuralNetControls.autoRotate = true;
            neuralNetControls.autoRotateSpeed = 0.5;
            
            // Lighting
            const ambientLight = new THREE.AmbientLight(0xffffff, 0.5);
            neuralNetScene.add(ambientLight);
            
            const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);
            directionalLight.position.set(10, 10, 10);
            neuralNetScene.add(directionalLight);
            
            const backLight = new THREE.DirectionalLight(0x6366f1, 0.4);
            backLight.position.set(-10, -10, -10);
            neuralNetScene.add(backLight);
            
            // Create neural network layers
            createNeuralNetworkLayers();
            
            // Start animation
            animateNeuralNet();
            
            console.log('‚úÖ 3D Neural Network initialized successfully!');
        }
        
        function createNeuralNetworkLayers() {
            // Layer definitions matching our actual model architecture
            const layers = [
                { 
                    count: 41, 
                    color: 0x3b82f6, 
                    label: 'Input Layer\n41 Features', 
                    z: 50,
                    rows: 7,
                    cols: 6
                },
                { 
                    count: 128, 
                    color: 0x10b981, 
                    label: 'Hidden Layer 1\n128 Neurons\nReLU', 
                    z: 25,
                    rows: 8,
                    cols: 16
                },
                { 
                    count: 64, 
                    color: 0x8b5cf6, 
                    label: 'Hidden Layer 2\n64 Neurons\nReLU', 
                    z: 0,
                    rows: 8,
                    cols: 8
                },
                { 
                    count: 32, 
                    color: 0xec4899, 
                    label: 'Hidden Layer 3\n32 Neurons\nReLU', 
                    z: -25,
                    rows: 4,
                    cols: 8
                },
                { 
                    count: 1, 
                    color: 0xeab308, 
                    label: 'Output Layer\n1 Prediction\nSigmoid', 
                    z: -50,
                    rows: 1,
                    cols: 1
                }
            ];
            
            const neuronGroups = [];
            
            // Create neurons for each layer
            layers.forEach((layer, layerIndex) => {
                const neurons = [];
                const spacing = 3;
                const offsetX = -(layer.cols - 1) * spacing / 2;
                const offsetY = -(layer.rows - 1) * spacing / 2;
                
                for (let i = 0; i < layer.count; i++) {
                    const row = Math.floor(i / layer.cols);
                    const col = i % layer.cols;
                    
                    // Create neuron sphere
                    const geometry = new THREE.SphereGeometry(0.5, 16, 16);
                    const material = new THREE.MeshPhongMaterial({
                        color: layer.color,
                        emissive: layer.color,
                        emissiveIntensity: 0.3,
                        shininess: 100,
                        transparent: true,
                        opacity: 0.9
                    });
                    
                    const neuron = new THREE.Mesh(geometry, material);
                    neuron.position.set(
                        offsetX + col * spacing,
                        offsetY + row * spacing,
                        layer.z
                    );
                    
                    // Store original color for animation
                    neuron.userData = {
                        originalColor: layer.color,
                        layer: layerIndex,
                        index: i,
                        phase: Math.random() * Math.PI * 2
                    };
                    
                    neuralNetScene.add(neuron);
                    neurons.push(neuron);
                }
                
                neuronGroups.push(neurons);
                
                // Add layer label
                const labelDiv = document.createElement('div');
                labelDiv.className = 'neural-net-label';
                labelDiv.style.cssText = `
                    color: #${layer.color.toString(16).padStart(6, '0')};
                    background: rgba(15, 23, 42, 0.9);
                    padding: 8px 12px;
                    border-radius: 6px;
                    border: 2px solid #${layer.color.toString(16).padStart(6, '0')};
                    font-weight: bold;
                    text-align: center;
                    white-space: pre-line;
                    font-size: 12px;
                    line-height: 1.4;
                    pointer-events: none;
                `;
                labelDiv.textContent = layer.label;
                
                const label = new THREE.CSS2DObject(labelDiv);
                label.position.set(0, offsetY - 5, layer.z);
                neuralNetScene.add(label);
            });
            
            // Create connections between layers
            for (let i = 0; i < neuronGroups.length - 1; i++) {
                const currentLayer = neuronGroups[i];
                const nextLayer = neuronGroups[i + 1];
                
                // Sample connections (not all neurons to avoid clutter)
                const connectionSampleRate = Math.max(1, Math.floor(currentLayer.length / 20));
                
                currentLayer.forEach((neuron, idx) => {
                    if (idx % connectionSampleRate === 0) {
                        // Connect to sample of next layer neurons
                        const nextSampleRate = Math.max(1, Math.floor(nextLayer.length / 5));
                        nextLayer.forEach((nextNeuron, nextIdx) => {
                            if (nextIdx % nextSampleRate === 0) {
                                const points = [neuron.position, nextNeuron.position];
                                const geometry = new THREE.BufferGeometry().setFromPoints(points);
                                const material = new THREE.LineBasicMaterial({
                                    color: 0x94a3b8,
                                    transparent: true,
                                    opacity: 0.35
                                });
                                const line = new THREE.Line(geometry, material);
                                neuralNetScene.add(line);
                            }
                        });
                    }
                });
            }
            
            // Add grid helper
            const gridHelper = new THREE.GridHelper(100, 20, 0x1e293b, 0x0f172a);
            gridHelper.position.y = -20;
            neuralNetScene.add(gridHelper);
            
            // Add title
            const titleDiv = document.createElement('div');
            titleDiv.className = 'neural-net-title';
            titleDiv.style.cssText = `
                color: #e2e8f0;
                background: linear-gradient(135deg, rgba(59, 130, 246, 0.3), rgba(139, 92, 246, 0.3));
                padding: 12px 24px;
                border-radius: 8px;
                border: 2px solid rgba(59, 130, 246, 0.5);
                font-weight: bold;
                text-align: center;
                font-size: 16px;
                pointer-events: none;
            `;
            titleDiv.innerHTML = 'üß† Neural Network Architecture<br><span style="font-size: 12px; opacity: 0.8;">41 ‚Üí 128 ‚Üí 64 ‚Üí 32 ‚Üí 1</span>';
            
            const title = new THREE.CSS2DObject(titleDiv);
            title.position.set(0, 35, 0);
            neuralNetScene.add(title);
        }
        
        function animateNeuralNet() {
            neuralNetAnimationId = requestAnimationFrame(animateNeuralNet);
            
            // Update controls
            if (neuralNetControls) {
                neuralNetControls.update();
            }
            
            // Animate neurons (pulsing effect)
            const time = Date.now() * 0.001;
            neuralNetScene.traverse((object) => {
                if (object.userData && object.userData.layer !== undefined) {
                    const phase = object.userData.phase;
                    const pulse = Math.sin(time * 2 + phase) * 0.15 + 1;
                    object.scale.set(pulse, pulse, pulse);
                    
                    // Adjust emissive intensity
                    if (object.material && object.material.emissiveIntensity !== undefined) {
                        object.material.emissiveIntensity = 0.2 + Math.sin(time * 2 + phase) * 0.2;
                    }
                }
            });
            
            // Render scene
            if (neuralNetRenderer && neuralNetScene && neuralNetCamera) {
                neuralNetRenderer.render(neuralNetScene, neuralNetCamera);
            }
        }
        
        // Handle window resize for neural network
        window.addEventListener('resize', () => {
            if (neuralNetInitialized && neuralNetCamera && neuralNetRenderer) {
                const container = document.getElementById('neural-net-canvas');
                if (container) {
                    const width = container.clientWidth;
                    // Responsive height based on screen size
                    let height = 600;
                    if (window.innerWidth <= 480) {
                        height = 300;
                    } else if (window.innerWidth <= 768) {
                        height = 400;
                    } else if (window.innerWidth <= 968) {
                        height = 500;
                    }
                    neuralNetCamera.aspect = width / height;
                    neuralNetCamera.updateProjectionMatrix();
                    neuralNetRenderer.setSize(width, height);
                    container.style.height = height + 'px';
                }
            }
        });

        // Chart Initialization
        function initCharts() {
            console.log('üé¨ initCharts() called!');
            console.log('üìç Analytics tab active?', document.getElementById('analytics')?.classList.contains('active'));
            
            // Performance Chart (might not exist on Analytics tab)
            const perfCtx = document.getElementById('performance-chart');
            if (perfCtx) {
                new Chart(perfCtx, {
                type: 'bar',
                data: {
                    labels: ['Training', 'Validation', 'Test'],
                    datasets: [{
                        label: 'Accuracy (%)',
                        data: [87, 85, 84],
                        backgroundColor: [
                            'rgba(59, 130, 246, 0.6)',
                            'rgba(139, 92, 246, 0.6)',
                            'rgba(6, 182, 212, 0.6)'
                        ],
                        borderColor: [
                            'rgba(59, 130, 246, 1)',
                            'rgba(139, 92, 246, 1)',
                            'rgba(6, 182, 212, 1)'
                        ],
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            labels: { color: '#e2e8f0' }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 100,
                            ticks: { color: '#94a3b8' },
                            grid: { color: 'rgba(148, 163, 184, 0.1)' }
                        },
                        x: {
                            ticks: { color: '#94a3b8' },
                            grid: { color: 'rgba(148, 163, 184, 0.1)' }
                        }
                    }
                }
            });
            }

            // Division Chart (might not exist on Analytics tab)
            const divCtx = document.getElementById('division-chart');
            if (divCtx) {
                new Chart(divCtx, {
                type: 'doughnut',
                data: {
                    labels: ['AFC East', 'AFC North', 'AFC South', 'AFC West', 'NFC East', 'NFC North', 'NFC South', 'NFC West'],
                    datasets: [{
                        data: [4, 4, 4, 4, 4, 4, 4, 4],
                        backgroundColor: [
                            'rgba(59, 130, 246, 0.8)',
                            'rgba(139, 92, 246, 0.8)',
                            'rgba(6, 182, 212, 0.8)',
                            'rgba(16, 185, 129, 0.8)',
                            'rgba(59, 130, 246, 0.6)',
                            'rgba(139, 92, 246, 0.6)',
                            'rgba(6, 182, 212, 0.6)',
                            'rgba(16, 185, 129, 0.6)'
                        ],
                        borderColor: 'rgba(15, 23, 42, 1)',
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'right',
                            labels: { color: '#e2e8f0' }
                        }
                    }
                }
            });
            }
            
            // Conference Win/Loss Chart
            const confCtx = document.getElementById('conference-chart');
            console.log('üîç Looking for conference-chart element:', confCtx);
            if (confCtx) {
                console.log('‚úÖ Creating Conference Chart...');
                window.conferenceChart = new Chart(confCtx, {
                    type: 'bar',
                    data: {
                        labels: ['AFC Wins', 'NFC Wins', 'AFC Losses', 'NFC Losses'],
                        datasets: [{
                            label: 'Games',
                            data: [0, 0, 0, 0],
                            backgroundColor: [
                                'rgba(239, 68, 68, 0.8)',
                                'rgba(59, 130, 246, 0.8)',
                                'rgba(239, 68, 68, 0.3)',
                                'rgba(59, 130, 246, 0.3)'
                            ],
                            borderColor: [
                                'rgba(239, 68, 68, 1)',
                                'rgba(59, 130, 246, 1)',
                                'rgba(239, 68, 68, 1)',
                                'rgba(59, 130, 246, 1)'
                            ],
                            borderWidth: 2
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { display: false },
                            title: {
                                display: true,
                                text: 'AFC vs NFC Win/Loss Records',
                                color: '#e2e8f0',
                                font: { size: 16 }
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                ticks: { color: '#94a3b8' },
                                grid: { color: 'rgba(148, 163, 184, 0.1)' }
                            },
                            x: {
                                ticks: { color: '#94a3b8' },
                                grid: { color: 'rgba(148, 163, 184, 0.1)' }
                            }
                        }
                    }
                });
            }
            
            // Points Performance Chart
            const pointsCtx = document.getElementById('points-chart');
            console.log('üîç Looking for points-chart element:', pointsCtx);
            if (pointsCtx) {
                console.log('‚úÖ Creating Points Chart...');
                window.pointsChart = new Chart(pointsCtx, {
                    type: 'bar',
                    data: {
                        labels: [],
                        datasets: [{
                            label: 'Points For (PPG)',
                            data: [],
                            backgroundColor: 'rgba(16, 185, 129, 0.7)',
                            borderColor: 'rgba(16, 185, 129, 1)',
                            borderWidth: 2
                        }, {
                            label: 'Points Against (PA)',
                            data: [],
                            backgroundColor: 'rgba(239, 68, 68, 0.7)',
                            borderColor: 'rgba(239, 68, 68, 1)',
                            borderWidth: 2
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                labels: { color: '#e2e8f0' }
                            },
                            title: {
                                display: true,
                                text: 'Top Teams: Offensive vs Defensive Performance',
                                color: '#e2e8f0',
                                font: { size: 16 }
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                ticks: { color: '#94a3b8' },
                                grid: { color: 'rgba(148, 163, 184, 0.1)' }
                            },
                            x: {
                                ticks: { color: '#94a3b8' },
                                grid: { color: 'rgba(148, 163, 184, 0.1)' }
                            }
                        }
                    }
                });
            }
        }

        // Helper function to update 3D tower colors based on API status
        function update3DMonitorColors(isLive) {
            // Only update if 3D scene is initialized
            if (typeof scene === 'undefined' || !scene) return;
            
            const monitor = scene.getObjectByName('apiStatusMonitor');
            if (!monitor) return;
            
            // Update tower colors
            monitor.traverse((child) => {
                if (child.isMesh) {
                    if (child.name === 'statusLED') {
                        if (isLive) {
                            child.material.color.setHex(0x44ff44);
                            child.material.emissive.setHex(0x44ff44);
                        } else {
                            child.material.color.setHex(0xff4444);
                            child.material.emissive.setHex(0xff4444);
                        }
                    }
                }
            });
        }

        function initDatabaseChart() {
            const ctx = document.getElementById('schema-chart');
            if (!ctx) return;

            // Destroy existing chart if it exists
            if (window.databaseChart) {
                window.databaseChart.destroy();
                console.log('üóëÔ∏è Destroyed previous database chart');
            }

            window.databaseChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['teams', 'stats_metadata', 'update_metadata'],
                    datasets: [{
                        label: 'Number of Columns',
                        data: [11, 7, 2],
                        backgroundColor: [
                            'rgba(59, 130, 246, 0.6)',   // Blue for teams
                            'rgba(139, 92, 246, 0.6)',   // Purple for stats_metadata
                            'rgba(6, 182, 212, 0.6)'     // Cyan for update_metadata
                        ],
                        borderColor: [
                            'rgba(59, 130, 246, 1)',
                            'rgba(139, 92, 246, 1)',
                            'rgba(6, 182, 212, 1)'
                        ],
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            labels: { color: '#e2e8f0' }
                        },
                        title: {
                            display: true,
                            text: 'PostgreSQL Database Schema - 3 Tables, 20 Total Columns',
                            color: '#e2e8f0',
                            font: { size: 14 }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: { 
                                color: '#94a3b8',
                                stepSize: 2
                            },
                            grid: { color: 'rgba(148, 163, 184, 0.1)' },
                            title: {
                                display: true,
                                text: 'Number of Columns',
                                color: '#cbd5e1'
                            }
                        },
                        x: {
                            ticks: { color: '#94a3b8' },
                            grid: { color: 'rgba(148, 163, 184, 0.1)' },
                            title: {
                                display: true,
                                text: 'Table Name',
                                color: '#cbd5e1'
                            }
                        }
                    }
                }
            });
        }

        // Update current date and time in header
        function updateDateTime() {
            const now = new Date();
            
            // Format date: October 10, 2025
            const dateOptions = { year: 'numeric', month: 'long', day: 'numeric' };
            const dateString = now.toLocaleDateString('en-US', dateOptions);
            
            // Format time: 3:45:12 PM
            const timeOptions = { hour: 'numeric', minute: '2-digit', second: '2-digit', hour12: true };
            const timeString = now.toLocaleTimeString('en-US', timeOptions);
            
            // Update the DOM
            document.getElementById('currentDate').textContent = dateString;
            document.getElementById('currentTime').textContent = timeString;
        }

        // Update immediately on load
        updateDateTime();
        
        // Update time every second
        setInterval(updateDateTime, 1000);
        
        // Initialize Mermaid
        mermaid.initialize({ 
            startOnLoad: true,
            theme: 'dark',
            themeVariables: {
                primaryColor: '#3b82f6',
                primaryTextColor: '#cbd5e1',
                primaryBorderColor: '#1e40af',
                lineColor: '#64748b',
                secondaryColor: '#10b981',
                tertiaryColor: '#f59e0b',
                background: '#1e293b',
                mainBkg: '#1e293b',
                secondBkg: '#334155',
                textColor: '#cbd5e1',
                border1: '#475569',
                border2: '#64748b'
            }
        });
    </script>
</body>
</html>